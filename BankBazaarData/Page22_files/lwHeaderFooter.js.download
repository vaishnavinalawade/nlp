(function(c,b,a,e){var d=c(b);c.fn.lazyload=function(f){var h=this;var j;var g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function k(){var m=0;h.each(function(){var n=c(this);if(g.skip_invisible&&!n.is(":visible")){return}if(c.abovethetop(this,g)||c.leftofbegin(this,g)){}else{if(!c.belowthefold(this,g)&&!c.rightoffold(this,g)){n.trigger("appear");m=0}else{if(++m>g.failure_limit){return false}}}})}if(f){if(e!==f.failurelimit){f.failure_limit=f.failurelimit;delete f.failurelimit}if(e!==f.effectspeed){f.effect_speed=f.effectspeed;delete f.effectspeed}c.extend(g,f)}j=(g.container===e||g.container===b)?d:c(g.container);if(0===g.event.indexOf("scroll")){j.bind(g.event,function(){return k()})}this.each(function(){var m=this;var n=c(m);m.loaded=false;if(n.attr("src")===e||n.attr("src")===false){if(n.is("img")){n.attr("src",g.placeholder)}}n.one("appear",function(){if(!this.loaded){if(g.appear){var o=h.length;g.appear.call(m,o,g)}c("<img />").bind("load",function(){var q=n.attr("data-"+g.data_attribute);n.hide();if(n.is("img")){n.attr("src",q)}else{n.css("background-image","url('"+q+"')")}n[g.effect](g.effect_speed);m.loaded=true;var p=c.grep(h,function(s){return !s.loaded});h=c(p);if(g.load){var r=h.length;g.load.call(m,r,g)}}).attr("src",n.attr("data-"+g.data_attribute))}});if(0!==g.event.indexOf("scroll")){n.bind(g.event,function(){if(!m.loaded){n.trigger("appear")}})}});d.bind("resize",function(){k()});if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){d.bind("pageshow",function(m){if(m.originalEvent&&m.originalEvent.persisted){h.each(function(){c(this).trigger("appear")})}})}c(a).ready(function(){k()});return this};c.belowthefold=function(g,h){var f;if(h.container===e||h.container===b){f=(b.innerHeight?b.innerHeight:d.height())+d.scrollTop()}else{f=c(h.container).offset().top+c(h.container).height()}return f<=c(g).offset().top-h.threshold};c.rightoffold=function(g,h){var f;if(h.container===e||h.container===b){f=d.width()+d.scrollLeft()}else{f=c(h.container).offset().left+c(h.container).width()}return f<=c(g).offset().left-h.threshold};c.abovethetop=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollTop()}else{f=c(h.container).offset().top}return f>=c(g).offset().top+h.threshold+c(g).height()};c.leftofbegin=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollLeft()}else{f=c(h.container).offset().left}return f>=c(g).offset().left+h.threshold+c(g).width()};c.inviewport=function(f,g){return !c.rightoffold(f,g)&&!c.leftofbegin(f,g)&&!c.belowthefold(f,g)&&!c.abovethetop(f,g)};c.extend(c.expr[":"],{"below-the-fold":function(f){return c.belowthefold(f,{threshold:0})},"above-the-top":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-screen":function(f){return c.rightoffold(f,{threshold:0})},"left-of-screen":function(f){return !c.rightoffold(f,{threshold:0})},"in-viewport":function(f){return c.inviewport(f,{threshold:0})},"above-the-fold":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-fold":function(f){return c.rightoffold(f,{threshold:0})},"left-of-fold":function(f){return !c.rightoffold(f,{threshold:0})}})})(jQuery,window,document);
/*!
 * jQuery Lazy - v0.3.3
 * http://jquery.eisbehr.de/lazy/
 * http://eisbehr.de
 *
 * Copyright 2014, Daniel 'Eisbehr' Kern
 *
 * Dual licensed under the MIT and GPL-2.0 licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * jQuery("img.lazy").lazy();
 */
(function(c,b,a,d){c.fn.lazy=function(w){var g={bind:"load",threshold:500,fallbackWidth:2000,fallbackHeight:2000,visibleOnly:false,appendScroll:b,scrollDirection:"both",delay:-1,combined:false,attribute:"data-original",removeAttribute:true,handledName:"handled",effect:"show",effectTime:0,enableThrottle:false,throttle:250,enableQueueing:true,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null},f=this,s=0,u=-1,m=-1,j=null,n=[],z=false;function k(){if(g.delay>=0){setTimeout(function(){v(true)},g.delay)}if(g.delay<0||g.combined){v(false);h(function(){c(g.appendScroll).bind("scroll",o(g.throttle,function(){h(function(){v(false)},this,true)}))},this);h(function(){c(g.appendScroll).bind("resize",o(g.throttle,function(){u=m=-1;h(function(){v(false)},this,true)}))},this)}}function v(C){if(!f.length){return}var A=false;for(var B=0;B<f.length;B++){(function(){var F=f[B],E=c(F);if(p(F)||C){var D=f[B].tagName.toLowerCase();if(E.attr(g.attribute)&&((D=="img"&&E.attr(g.attribute)!=E.attr("src"))||((D!="img"&&E.attr(g.attribute)!=E.css("background-image"))))&&!E.data(g.handledName)&&(E.is(":visible")||!g.visibleOnly)){A=true;E.data(g.handledName,true);h(function(){t(E,D)},this)}}})()}if(A){h(function(){f=c(f).filter(function(){return !c(this).data(g.handledName)})},this)}}function t(B,A){var D=c(new Image());++s;if(g.onError){D.error(function(){r(g.onError,B);x()})}else{D.error(function(){x()})}var C=false;D.one("load",function(){var E=function(){if(!C){b.setTimeout(E,100);return}B.hide();if(A=="img"){B.attr("src",D.attr("src"))}else{B.css("background-image","url("+D.attr("src")+")")}B[g.effect](g.effectTime);if(g.removeAttribute){B.removeAttr(g.attribute)}r(g.afterLoad,B);D.unbind("load").remove();x()};E()});r(g.beforeLoad,B);D.attr("src",B.attr(g.attribute));r(g.onLoad,B);C=true;if(D.complete){D.load()}}function p(E){var D=q(),C=y(),F;try{F=E.getBoundingClientRect()}catch(G){F={top:E.offsetTop,left:E.offsetLeft}}var B=((C+g.threshold)>F.top)&&(-g.threshold<F.bottom),A=((D+g.threshold)>F.left)&&(-g.threshold<F.right);if(g.scrollDirection=="vertical"){return B}else{if(g.scrollDirection=="horizontal"){return A}}return B&&A}function q(){if(u>=0){return u}u=b.innerWidth||a.documentElement.clientWidth||a.body.clientWidth||a.body.offsetWidth||g.fallbackWidth;return u}function y(){if(m>=0){return m}m=b.innerHeight||a.documentElement.clientHeight||a.body.clientHeight||a.body.offsetHeight||g.fallbackHeight;return m}function o(B,D){var C,E=0;function A(){var F=+new Date()-E;function G(){E=+new Date();D.apply(d)}C&&clearTimeout(C);if(F>B||!g.enableThrottle){G()}else{C=setTimeout(G,B-F)}}return A}function x(){--s;if(!f.size()&&!s){r(g.onFinishedAll,null)}}function r(B,A){if(B){if(A){h(function(){B(A)},this)}else{h(B,this)}}}function e(){j=setTimeout(function(){h();if(n.length){e()}},2)}function h(A,B,D){if(A){if(g.enableQueueing){A.call(B||b)}if(!D||(D&&!z)){n.push([A,B,D]);if(D){z=true}}if(n.length==1){e()}return 0}var C=n.shift();if(!C){return 0}if(C[2]){z=false}C[0].call(C[1]||b);return 0}(function(){if(w){c.extend(g,w)}if(g.onError){f.each(function(){var A=this;h(function(){c(A).bind("error",function(){r(g.onError,c(this))})},A)})}if(g.bind=="load"){c(b).load(k)}else{if(g.bind=="event"){k()}}})();return this};c.fn.Lazy=c.fn.lazy})(jQuery,window,document);(function(c,a){var b=a(c,c.document);c.lazySizes=b;if(typeof module=="object"&&module.exports){module.exports=b}}(window,function l(r,y){if(!y.getElementsByClassName){return}var G,b;var F=y.documentElement;var k=r.Date;var D=r.HTMLPictureElement;var d="addEventListener";var h="getAttribute";var v=r[d];var e=r.setTimeout;var o=r.requestAnimationFrame||e;var z=r.requestIdleCallback;var x=/^picture$/i;var w=["load","error","lazyincluded","_lazyloaded"];var p={};var E=Array.prototype.forEach;var c=function(J,I){if(!p[I]){p[I]=new RegExp("(\\s|^)"+I+"(\\s|$)")}return p[I].test(J[h]("class")||"")&&p[I]};var t=function(J,I){if(!c(J,I)){J.setAttribute("class",(J[h]("class")||"").trim()+" "+I)}};var u=function(K,I){var J;if((J=c(K,I))){K.setAttribute("class",(K[h]("class")||"").replace(J," "))}};var m=function(L,I,K){var J=K?d:"removeEventListener";if(K){m(L,I)}w.forEach(function(M){L[J](M,I)})};var g=function(N,J,K,I,M){var L=y.createEvent("Event");if(!K){K={}}K.instance=G;L.initEvent(J,!I,!M);L.detail=K;N.dispatchEvent(L);return L};var H=function(J,I){var K;if(!D&&(K=(r.picturefill||b.pf))){if(I&&I.src&&!J[h]("srcset")){J.setAttribute("srcset",I.src)}K({reevaluate:true,elements:[J]})}else{if(I&&I.src){J.src=I.src}}};var B=function(J,I){return(getComputedStyle(J,null)||{})[I]};var f=function(K,J,I){I=I||K.offsetWidth;while(I<b.minSize&&J&&!K._lazysizesWidth){I=J.offsetWidth;J=J.parentNode}return I};var A=(function(){var I,O;var K=[];var M=[];var J=K;var N=function(){var P=J;J=K.length?M:K;I=true;O=false;while(P.length){P.shift()()}I=false};var L=function(Q,P){if(I&&!P){Q.apply(this,arguments)}else{J.push(Q);if(!O){O=true;(y.hidden?e:o)(N)}}};L._lsFlush=N;return L})();var j=function(I,J){return J?function(){A(I)}:function(){var L=this;var K=arguments;A(function(){I.apply(L,K)})}};var q=function(L){var J;var O=0;var M=b.throttleDelay;var I=b.ricTimeout;var N=function(){J=false;O=k.now();L()};var K=z&&I>49?function(){z(N,{timeout:I});if(I!==b.ricTimeout){I=b.ricTimeout}}:j(function(){e(N)},true);return function(P){var Q;if((P=P===true)){I=33}if(J){return}J=true;Q=M-(k.now()-O);if(Q<0){Q=0}if(P||Q<9){K()}else{e(K,Q)}}};var n=function(J){var L,K;var N=99;var M=function(){L=null;J()};var I=function(){var O=k.now()-K;if(O<N){e(I,N-O)}else{(z||M)(M)}};return function(){K=k.now();if(!L){L=e(I,N)}}};(function(){var J;var I={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:true,expFactor:1.5,hFac:0.8,loadMode:2,loadHidden:true,ricTimeout:0,throttleDelay:125,};b=r.lazySizesConfig||r.lazysizesConfig||{};for(J in I){if(!(J in b)){b[J]=I[J]}}r.lazySizesConfig=b;e(function(){if(b.init){C()}})})();var s=(function(){var T,P,ad,ab,K;var U,V,O,W,J,al;var ae,am,L;var an=/^img$/i;var X=/^iframe$/i;var aa=("onscroll" in r)&&!(/(gle|ing)bot/.test(navigator.userAgent));var aj=0;var ac=0;var ag=0;var Y=-1;var Z=function(ap){ag--;if(ap&&ap.target){m(ap.target,Z)}if(!ap||ag<0||!ap.target){ag=0}};var Q=function(at,ar){var ap;var aq=at;var au=B(y.body,"visibility")=="hidden"||(B(at.parentNode,"visibility")!="hidden"&&B(at,"visibility")!="hidden");O-=ar;al+=ar;W-=ar;J+=ar;while(au&&(aq=aq.offsetParent)&&aq!=y.body&&aq!=F){au=((B(aq,"opacity")||1)>0);if(au&&B(aq,"overflow")!="visible"){ap=aq.getBoundingClientRect();au=J>ap.left&&W<ap.right&&al>ap.top-1&&O<ap.bottom+1}}return au};var ai=function(){var ay,av,ax,aq,aw,ap,az,ar,au;var at=G.elements;if((ab=b.loadMode)&&ag<8&&(ay=at.length)){av=0;Y++;if(am==null){if(!("expand" in b)){b.expand=F.clientHeight>500&&F.clientWidth>500?500:370}ae=b.expand;am=ae*b.expFactor}if(ac<am&&ag<1&&Y>2&&ab>2&&!y.hidden){ac=am;Y=0}else{if(ab>1&&Y>1&&ag<6){ac=ae}else{ac=aj}}for(;av<ay;av++){if(!at[av]||at[av]._lazyRace){continue}if(!aa){M(at[av]);continue}if(!(ar=at[av][h]("data-expand"))||!(ap=ar*1)){ap=ac}if(au!==ap){U=innerWidth+(ap*L);V=innerHeight+ap;az=ap*-1;au=ap}ax=at[av].getBoundingClientRect();if((al=ax.bottom)>=az&&(O=ax.top)<=V&&(J=ax.right)>=az*L&&(W=ax.left)<=U&&(al||J||W||O)&&(b.loadHidden||B(at[av],"visibility")!="hidden")&&((P&&ag<3&&!ar&&(ab<3||Y<4))||Q(at[av],ap))){M(at[av]);aw=true;if(ag>9){break}}else{if(!aw&&P&&!aq&&ag<4&&Y<4&&ab>2&&(T[0]||b.preloadAfterLoad)&&(T[0]||(!ar&&((al||J||W||O)||at[av][h](b.sizesAttr)!="auto")))){aq=T[0]||at[av]}}}if(aq&&!aw){M(aq)}}};var R=q(ai);var S=function(ap){t(ap.target,b.loadedClass);u(ap.target,b.loadingClass);m(ap.target,ak);g(ap.target,"lazyloaded")};var ao=j(S);var ak=function(ap){ao({target:ap.target})};var N=function(ap,ar){try{ap.contentWindow.location.replace(ar)}catch(aq){ap.src=ar}};var af=function(ar){var aq;var ap=ar[h](b.srcsetAttr);if((aq=b.customMedia[ar[h]("data-media")||ar[h]("media")])){ar.setAttribute("media",aq)}if(ap){ar.setAttribute("srcset",ap)}};var I=j(function(at,aw,ax,aA,av){var ap,au,ay,az,aq,ar;if(!(aq=g(at,"lazybeforeunveil",aw)).defaultPrevented){if(aA){if(ax){t(at,b.autosizesClass)}else{at.setAttribute("sizes",aA)}}au=at[h](b.srcsetAttr);ap=at[h](b.srcAttr);if(av){ay=at.parentNode;az=ay&&x.test(ay.nodeName||"")}ar=aw.firesLoad||(("src" in at)&&(au||ap||az));aq={target:at};if(ar){m(at,Z,true);clearTimeout(ad);ad=e(Z,2500);t(at,b.loadingClass);m(at,ak,true)}if(az){E.call(ay.getElementsByTagName("source"),af)}if(au){at.setAttribute("srcset",au)}else{if(ap&&!az){if(X.test(at.nodeName)){N(at,ap)}else{at.src=ap}}}if(av&&(au||az)){H(at,{src:ap})}}if(at._lazyRace){delete at._lazyRace}u(at,b.lazyClass);A(function(){if(!ar||(at.complete&&at.naturalWidth>1)){if(ar){Z(aq)}else{ag--}S(aq)}},true)});var M=function(at){var aq;var au=an.test(at.nodeName);var ar=au&&(at[h](b.sizesAttr)||at[h]("sizes"));var ap=ar=="auto";if((ap||!P)&&au&&(at[h]("src")||at.srcset)&&!at.complete&&!c(at,b.errorClass)&&c(at,b.lazyClass)){return}aq=g(at,"lazyunveilread").detail;if(ap){a.updateElem(at,true,at.offsetWidth)}at._lazyRace=true;ag++;I(at,aq,ap,ar,au)};var ah=function(){if(P){return}if(k.now()-K<999){e(ah,999);return}var ap=n(function(){b.loadMode=3;R()});P=true;b.loadMode=3;R();v("scroll",function(){if(b.loadMode==3){b.loadMode=2}ap()},true)};return{_:function(){K=k.now();G.elements=y.getElementsByClassName(b.lazyClass);T=y.getElementsByClassName(b.lazyClass+" "+b.preloadClass);L=b.hFac;v("scroll",R,true);v("resize",R,true);if(r.MutationObserver){new MutationObserver(R).observe(F,{childList:true,subtree:true,attributes:true})}else{F[d]("DOMNodeInserted",R,true);F[d]("DOMAttrModified",R,true);setInterval(R,999)}v("hashchange",R,true);["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(ap){y[d](ap,R,true)});if((/d$|^c/.test(y.readyState))){ah()}else{v("load",ah);y[d]("DOMContentLoaded",R);e(ah,20000)}if(G.elements.length){ai();A._lsFlush()}else{R()}},checkElems:R,unveil:M}})();var a=(function(){var K;var J=j(function(T,R,S,Q){var O,P,N;T._lazysizesWidth=Q;Q+="px";T.setAttribute("sizes",Q);if(x.test(R.nodeName||"")){O=R.getElementsByTagName("source");for(P=0,N=O.length;P<N;P++){O[P].setAttribute("sizes",Q)}}if(!S.detail.dataAttr){H(T,S.detail)}});var L=function(Q,R,O){var P;var N=Q.parentNode;if(N){O=f(Q,N,O);P=g(Q,"lazybeforesizes",{width:O,dataAttr:!!R});if(!P.defaultPrevented){O=P.detail.width;if(O&&O!==Q._lazysizesWidth){J(Q,N,P,O)}}}};var M=function(){var O;var N=K.length;if(N){O=0;for(;O<N;O++){L(K[O])}}};var I=n(M);return{_:function(){K=y.getElementsByClassName(b.autosizesClass);v("resize",I)},checkElems:I,updateElem:L}})();var C=function(){if(!C.i){C.i=true;a._();s._()}};G={cfg:b,autoSizer:a,loader:s,init:C,uP:H,aC:t,rC:u,hC:c,fire:g,gW:f,rAF:A,};return G}));
/*!
 * hoverIntent v1.8.1 // 2014.08.11 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function(a){a.fn.hoverIntent=function(o,d,h){var k={interval:100,sensitivity:6,timeout:0,over:function(){return undefined},out:function(){return undefined},selector:null};if(typeof o==="object"){k=a.extend(k,o)}else{if(a.isFunction(d)){k=a.extend(k,{over:o,out:d,selector:h})}else{k=a.extend(k,{over:o,out:o,selector:d})}}var n,m,g,f;var e=function(p){n=p.pageX;m=p.pageY};var c=function(q,p){p.hoverIntent_t=clearTimeout(p.hoverIntent_t);if(Math.sqrt((g-n)*(g-n)+(f-m)*(f-m))<k.sensitivity){a(p).off("mousemove.hoverIntent",e);p.hoverIntent_s=true;return k.over.apply(p,[q])}else{g=n;f=m;p.hoverIntent_t=setTimeout(function(){c(q,p)},k.interval)}};var j=function(q,p){p.hoverIntent_t=clearTimeout(p.hoverIntent_t);p.hoverIntent_s=false;return k.out.apply(p,[q])};var b=function(r){var q=a.extend({},r);var p=this;if(p.hoverIntent_t){p.hoverIntent_t=clearTimeout(p.hoverIntent_t)}if(r.type==="mouseenter"){g=q.pageX;f=q.pageY;a(p).on("mousemove.hoverIntent",e);if(!p.hoverIntent_s){p.hoverIntent_t=setTimeout(function(){c(q,p)},k.interval)}}else{a(p).off("mousemove.hoverIntent",e);if(p.hoverIntent_s){p.hoverIntent_t=setTimeout(function(){j(q,p)},k.timeout)}}};return this.on({"mouseenter.hoverIntent":b,"mouseleave.hoverIntent":b},k.selector)}})(jQuery);var hintMap={"0.5":"Unacceptable","1.0":"Really bad","1.5":"Bad","2.0":"Expected more","2.5":"Just OK","3.0":"Satisfactory","3.5":"Pretty good","4.0":"Great!","4.5":"Excellent!","5.0":"Blown away!"};function setRatingTitle(b){var a=b.attr("id");var e=a;if($("div[id = 'adj-"+e+"']").text()==""){$("div[id = 'adj-"+e+"']").text('Rated: "'+hintMap[$("[name='"+e+"']").val()]+'"')}var a=b.attr("id");var d=parseFloat($("[name='"+a+"']").val()).toFixed(1);var c=hintMap[d];b.attr("title",c)}function initializeRating(){$(".rating").each(function(){var a=$(this);setRatingTitle(a)});$(".micro-rating").each(function(){var a=$(this);setRatingTitle(a)});$(".rating img").each(function(){$(this).removeAttr("title")});$(".micro-rating img").each(function(){$(this).removeAttr("title")})}function createPaginationUrl(b,a){if(b==undefined){return}var d;b=removePoundSign(b);if(b.toString().indexOf("reviewPageNumber")==-1){if(b.toString().indexOf("?")==-1){d=b+"?reviewPageNumber="+a}else{d=b+"&reviewPageNumber="+a}}else{var c=getUrlParameters("reviewPageNumber",b);d=b.replace("reviewPageNumber="+c,"reviewPageNumber="+a)}return d}function createReviewSortUrl(a){a=removePoundSign(a);var e=$("#sortingMethod").val();if(e!=""){var b=$("#sortingMethod").val();var d;if(a.toString().indexOf("reviewSortType")==-1){if(a.toString().indexOf("?")==-1){d=a+"?reviewSortType="+b}else{d=a+"&reviewSortType="+b}}else{var c=getUrlParameters("reviewSortType",a);d=a.replace("reviewSortType="+c,"reviewSortType="+b)}}return d}function openSortUrl(){if($("#sortingMethod").val()!=""){var a=$("#reviewPageUrl").val();var b=createReviewSortUrl(a);window.open(b)}}$("#sortingMethod").on("focus",function(){$(this).find("option.dummy").prop("selected",true)});$("#sortingMethod").on("change",function(){if($("#sortingInSameWindow").val()==undefined){var a=$(this);var b=a.find("option:selected").text();$(".dummy").attr("value",a.val()).text(b);openSortUrl()}});function initializePaginationForReviewLinks(){$(".paginationLink").each(function(){var b=$("#reviewPageUrl").val();var a=$.trim($(this).text());var c=createPaginationUrl(b,a);$(this).attr("href",c)});$(".read-more").each(function(){var b=$("#reviewPageUrl").val();var a=2;var c=createPaginationUrl(b,a);$(this).attr("href",c)})}function lazyLoadCustomerProfilePic(){$(".customer-profile-pic, .customer-pic").each(function(){var a=$(this).find(".review-image");var b=$.trim($(this).find(".review-image-source").text());if(b!=""){a.html('<img src="'+b+'"/>')}})}function initializeVoting(){$(".votedown,.voteup").click(function(){var d=$(this);var a=d.data("review-id");var f=d.is(".voteup");var b=$("#bankId").val();var e=$("#cityName").val();var c=$("#productTypeId").val();$.post("/review-vote.html",{voteReviewId:a,voteReviewUp:f,bank:b,city:e,productTypeIdParam:c},function(g){var h=$("<p>").addClass("review-submitted");if(g){h.text("Thank you for your vote");flipRatingClass(d,h,"asking","firstTime","alreadyRated")}else{h.text("Thank you for your vote");flipRatingClass(d,h,"asking","alreadyRated","firstTime")}d.closest("li").find(".asking").addClass("dontshow")})})}function removePoundSign(a){return a.replace("#","")}var BBConstants={numberClass:"number",wholeNumberClass:"wholenumber",alphaNumericClass:"alphanumeric",moneyClass:"money",emiClass:"emi",percentClass:"percent",yearClass:"integer",monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],otherValue:"OTHER",residentIndian:"RESIDENT_INDIAN",outsideIndia:"OUTSIDE INDIA",nriOptions:["NRI","PIO_CARD_HOLDER","BORN_TO_INDIAN_PARENTS"],salaried:"SALARIED",selfEmployed:"SELF_EMPLOYED",cacheKey:"b46c5fc6-a1c0-41b1-914e-457631ce74dc",dynamicOffersLeadSourceType:"LEAD_DYOFFER_CONTACTSLIDE"};var lakh=100000;var crore=10000000;function getFormattedAmount(d){var c,b,a=2;switch(true){case (d>=crore):c=getAmountInCrores(d,a);b=(c==1)?"Crore":"Crores";return c+" "+b;break;case (d>=lakh):c=getAmountInLakhs(d,a);b=(c==1)?"Lakh":"Lakhs";return c+" "+b;break;default:return getFormattedNumber(d);break}}function getFormattedAmountForMobileSlider(d,a){var c,b;switch(true){case (d>=crore):c=getAmountInCrores(d,a);b="C";return c+b;break;case (d>=10*lakh):c=getAmountInLakhs(d,a);b="L";return c+b;break;case (d>1000):c=getAmountInThousands(d);b="K";return c+b;default:return getFormattedNumber(d);break}}function getAmountInThousands(a){return parseInt(a/1000)}function getRoundedAmount(e){var a=2;var d=e*Math.pow(10,a);var c=Math.round(d);var b=c/Math.pow(10,a);return b.toString()}function getNearestSignificantNumber(b,e){var f=b.toString();e--;var d=f/Math.pow(10,e);var c=Math.ceil(d);var a=c*Math.pow(10,e);return a}function makeComma(a){var c=2;var b=$("#sector").val();if(typeof(b)!=="undefined"&&b!="INDIA"){c=3}if(a.length<=c){return a}length1=a.substr(0,(a.length-c));formattedInput=makeComma(length1)+","+a.substring(a.length-c,a.length);return formattedInput}function getFormattedPositiveNumber(d,f){d=""+d;d=d.replace(/,/g,"");d=getRoundedAmount(d);var b=d.split(".");d=b[0];var h="";if(b.length==2){h=".".concat(b[1])}number=d;if(number.length>3&&number.length<=12){var g=number.substring(number.length-3,number.length);var a=number.substring(0,number.length-3);var e=makeComma(a);e=e+","+g;if(f==1){if(e.length>11){var j=e.substr(0,11);var c=e.substr(j.length,e.length);returnString=j+"<br>"+c;return returnString}else{return e+h}}else{return e+h}}return number+h}function getFormattedNumber(a){var b=(""+a).charAt(0)!="-"?getFormattedPositiveNumber(a):"-"+getFormattedPositiveNumber(-a);return b=="NaN"?0:b}function getFormattedWholeNumber(a){if(a==""){return""}var b=(""+a).charAt(0)!="-"?getFormattedPositiveNumber(a):"-"+getFormattedPositiveNumber(-a);return b=="NaN"?-1:b}function getRoundedWholeNumber(a,b){var c=parseInt(a);b=parseInt(b);if((!isNaN(a)&&a>0)&&(!isNaN(b)&&b>0)){c=Math.round(a/b)*b}return c}function getTruncatedNumber(c,a){var b=c;a=parseInt(a);if(!(isNaN(b)&&isNaN(a))){var d=(b-Math.floor(b))!=0;if(d){return parseFloat(c.toFixed(a))}}return c}function isAlreadyFormatted(c){var b=/\d+(,\d+)+/g;var a=b.exec(c);return a&&a.length>0}function formatNumbersByClassSelector(a){$(a).each(function(d){if($.isNumeric($(this).text().replace(/,/g,""))){if($(this).text()%1==0){$(this).text(parseInt($(this).text()))}$(this).text(getFormattedNumber($(this).text()))}else{if(!isAlreadyFormatted($(this).html())){var c=/\d*[.]?\d+/g;var b=""+getFormattedNumber(c.exec($(this).html()));if(b){$(this).html($(this).html().replace(/\d*[.]?\d+/g,b))}}}})}var crore=10000000;var lakh=100000;var dPlaces=1;function setNumbering(){function c(d,f){var e=getFormattedNumber(d.value.replace(/\D/g,""));d.value=(e==0)?f:e}function a(d,f){var e=getFormattedWholeNumber(d.value.replace(/\D/g,""));d.value=(e==-1)?f:e}function b(d,f){var e=d.value.replace(/[^a-zA-Z0-9]/,"");d.value=(e==0)?f:e}$("input."+BBConstants.numberClass).each(function(){c(this,"")}).keyup(function(){c(this,"")});$("input."+BBConstants.alphaNumericClass).each(function(){b(this,"")}).keyup(function(){b(this,"")});$("input."+BBConstants.wholeNumberClass).each(function(){a(this,"")}).keyup(function(){a(this,"")});$("input."+BBConstants.moneyClass).each(function(){c(this,0)}).keyup(function(){c(this,0)});$("input."+BBConstants.emiClass).each(function(){c(this,"")}).keyup(function(){var d=getFormattedNumber(this.value.replace(/\D/g,""));if(d!=0){this.value=d}else{if(this.value!=0){this.value=""}}});$("input."+BBConstants.percentClass).each(function(){if(this.value!=""&&this.value>100){this.value=this.value/100}}).keyup(function(){if(isNaN(this.value)||this.value<0||this.value>100){this.value=""}})}function formatNumber(){$(".number").each(function(){if((!this.innerHTML.NaN)&&(this.innerHTML!="")&&(this.innerHTML!="N/A")){this.innerHTML=getFormattedNumber(this.innerHTML)}});$(".wholenumber").each(function(){if((!this.innerHTML.NaN)&&(this.innerHTML!="")&&(this.innerHTML!="N/A")){this.innerHTML=getFormattedNumber(this.innerHTML)}});$(".alphanumeric").each(function(){if((!this.innerHTML.NaN)&&(this.innerHTML!="")&&(this.innerHTML!="N/A")){this.innerHTML=alphaNumericCheck(this.innerHTML)}})}function getAmountInCrores(b,a){if(!a){a=dPlaces}return Math.round((b/crore)*Math.pow(10,a))/Math.pow(10,a)}function getAmountInLakhs(b,a){if(!a){a=dPlaces}return Math.round((b/lakh)*Math.pow(10,a))/Math.pow(10,a)}function getFormattedAmount(c){if(c==0){return 0}if(!c){return}var e=c.toString().replace(/,/g,"");var d,b,a=2;if($("#internationalCurrencyFormatRequired").val()=="true"){return getFormattedNumber(e)}switch(true){case (e>=crore):d=getAmountInCrores(e,a);b=(d==1)?"Crore":"Crores";return d+" "+b;break;case (e>=lakh):d=getAmountInLakhs(e,a);b=(d==1)?"Lakh":"Lakhs";return d+" "+b;break;default:return getFormattedNumber(e);break}}function setCookie(d,b,a,c){setCookie(d,b,a,c,false)}function setCookie(f,b,a,e,d){var c=f+"="+b;if(a!=null){c+=a}if(e!=null){c+="; path="+e}if(d===true){c+="; secure"}document.cookie=c}function getCookie(a){return parseCookies()[a]}function getCookieExpireForDate(a){return"; expires="+a.toUTCString()}function checkCookieValue(b,a){return parseCookies()[b]===a}function isCookieNotPresent(a){return !(a in parseCookies())}function parseCookies(){var d=document.cookie.split("; ");var b={};for(var a=d.length-1;a>=0;a--){var c=d[a].split("=");b[c[0]]=c[1]}return b}function getAppNotifications(){var a="/myaccount_ajax.html";$.ajax({url:a,cache:false,type:"get",success:function(d){$("#notification-container").html(d);formatNumber();if($("#notifSize").val()>0){$("#notification-count").removeClass("dontshow");$("#notification-count-link").removeClass("dontshow");$("#notification-count").text($("#notifSize").val())}}});function b(){var d=$("#notification-count")[0];if(d.textContent<=0||d.textContent==""){return 0}else{return d.textContent}}function c(){if(b()!=0){BB_trackGoogleEventWithLabel("notifications","noChoice","")}}$(".bell-arrow").addClass("dontshow");$("#notificationLink, #notificationLinkMobile").unbind("click").on("click",function(d){if($("#notification-container").is(":visible")){c()}else{BB_trackGoogleEventWithLabel("notifications","choose",b())}$("#notification-container, .bell-arrow").fadeToggle(300);$("#notification-count").fadeOut("slow");return false});$(document).not("#notificationLink, #notificationLinkMobile").click(function(d){if(!$(d.target).is("#notification-container *")&&$("#notification-container").is(":visible")){$("#notification-container,.bell-arrow").hide();c()}})}function bindNotificationOnLogin(){$("body").on("customerLoggedIn",function(){getAppNotifications()})}$(function(){var a=$(".bbheader.old-bbheader");$(document).scroll(function(){a.css({position:$(this).scrollTop()>100?"fixed":"relative"})});var c=$("#logged-in-status")!=undefined&&$("#logged-in-status")!=null&&$("#logged-in-status").val()=="true";var b=$("#loggedin")!=undefined&&$("#loggedin")!=null&&$("#loggedin").val()=="true";if(b||c){getAppNotifications()}bindNotificationOnLogin()});var checkMatchUrlConstructors={CAR:function(a){return a.productNameSpace+"/checkMatch.html?ajax=true&type="+a.type+"&query="+encodeURIComponent(a.query.trim())},BANK:function(a){return a.productNameSpace+"/checkMatch.html?ajax=true&type="+a.type+"&query="+encodeURIComponent(a.query.trim())+"&vendorInstitutionType="+encodeURIComponent(a.vendorType.trim())},DEFAULT:function(a){return"/checkMatch.html?ajax=true&type="+a.type+"&query="+encodeURIComponent(a.query.trim())}};function checkExactMatch(e,f,b,d,a){if(e==undefined||e==""){return}var c={type:e,productNameSpace:$("#productNameSpace").val(),query:f};checkMatch(c,b,d,a)}function checkExactMatchForBank(e,f,g,b,d,a){if(e==undefined||e==""){return}var c={type:e,productNameSpace:$("#productNameSpace").val(),query:f,vendorType:g};checkMatch(c,b,d,a)}function checkMatch(d,b,c,a){var e=checkMatchUrlConstructors[d.type.toUpperCase()];if(e==undefined){e=checkMatchUrlConstructors.DEFAULT}$.ajax({cache:false,url:e(d),type:"get",dataType:"json",success:function(f){if(f=="true"&&b.length>=0){b.val(d.query.trim());if(c!==undefined&&c!=null){c()}}else{if(a!==undefined&&a!=null){a()}}}})}var widgetStartTime=0;function getServerDate(){return $("#serverTimestamp").length==1&&!isNaN($("#serverTimestamp").val())?new Date(parseInt($("#serverTimestamp").val())):new Date()}function getCurrentYear(){return(getServerDate().getFullYear())}function getCurrentMonth(){return(getServerDate().getMonth())}function showNextArrow(){$(".item.active img.pointing-arrow").removeClass("dontshow")}function initializeSlideQueue(c){var a=[];if(c=="OLD"){if($("input[name='form.details.uiParameters.referenceId']").val()!=null){a=[1,2,3,4,5,6,7,8,9,10,11]}else{a=[1,2,3,4,5,6,7,8,9]}}else{if(c=="NEW"){if($("#skipCarInfo").val()=="boughtNewCar"){if($("input[name='form.details.uiParameters.referenceId']").val()!=null){a=[1,4,5,6,7,9,11]}else{a=[1,4,5,6,7,9]}}else{if($("input[name='form.details.uiParameters.referenceId']").val()!=null){a=[1,2,4,5,6,7,9,11]}else{a=[1,2,4,5,6,7,9]}}}else{if(c=="expiredInsurance"){var b=$("div.contactMe").index();a=[1,2,3,4,b,b+1]}else{if(c=="home-loan-fixed-slides"){$("div .item[slidenumber] input[name*=form]").attr("disabled",true);$("div .item[slidenumber] select[name*=form]").attr("disabled",true);$(".fixedSlides").each(function(){$(this).attr("disabled",false);$(this).find("input[name*=form]").attr("disabled",false);$(this).find("select[name*=form]").attr("disabled",false);if($(this).attr("slidenumber")=="0"&&$("#eForm_form_details_uiParameters_variant").val()!="slide"&&$("#eFormSentence_form_details_formType").val()!=null&&$("#eFormSentence_form_details_formType").val()=="short"){a.push($(this).attr("slidenumber"))}if($("#eForm_form_details_uiParameters_variant").val()=="slide"||($(this).attr("slidenumber")=="0"&&$("#displayCityCompleteElig").val()=="true")){a.push($(this).attr("slidenumber"))}else{if($(this).attr("slidenumber")!="0"){a.push($(this).attr("slidenumber"))}}});a.push(contactSlideNo.toString())}else{var d=$("div .item").length;for(d;d>-1;d--){a.push(d.toString())}}}}}a=a.sort(function(f,e){return f-e});$("#sliderQueue").attr("data-sliders",a);if(isVariantOptionPresent("hlTransfer")){updateSlidesForTransferHomeLoan()}}var canMoveToNextSlideForHl=true;var slideDelay=1000;function moveToSlideInQueue(d){var b=$("#newstaggered-carousel .item.active").index();var c;var a=$("#sliderQueue").attr("data-sliders").split(",");if(d=="next"){if($("#productNameSpace").val()=="home-loan"||$("#productNameSpace").val()=="car-insurance"){hideModal()}c=a[jQuery.inArray(b.toString(),a)+1];if($("div .item[slidenumber="+c+"] input").length>0){$("div .item[slidenumber="+c+"] input").each(function(){if(!($(this).hasClass("optional-field"))&&!($(this).hasClass("tt-hint"))){$(this).addClass("validate");$(this).removeClass("dontvalidate");$(this).attr("disabled",false)}})}if($("div .item[slidenumber="+c+"] select").length>0){$("div .item[slidenumber="+c+"] select").each(function(){if(!($(this).hasClass("optional-field"))&&!($(this).hasClass("tt-hint"))){$(this).addClass("validate");$(this).removeClass("dontvalidate");$(this).attr("disabled",false)}})}}else{if(d=="prev"){c=a[jQuery.inArray(b.toString(),a)-1];$("a[name='moveCarouselButton']").each(function(){if(!$(this).hasClass("skip-slide")){if($(this).hasClass("search-for-button")){$(this).removeClass("loading-circle").html("Search for Home Loans")}else{$(this).removeClass("loading-circle").html("Continue")}}})}}$("div .item[slidenumber="+c+"] input[name*=form]").attr("disabled",false);$("div .item[slidenumber="+c+"] select[name*=form]").attr("disabled",false);canMoveToNextSlideForHl=true;$("#newstaggered-carousel").carousel(parseInt(c))}function getUserChoiceForAppReminder(){var a=false;if(isCookieEnabled()){a=getCookie("pendingAppReminder")=="dontShow"}return a}function checkVisibilityPendingAppReminder(){var a=parseInt($("#pendingApplicationsCount").val());return !getUserChoiceForAppReminder()&&a>0}function getElapsedTimeInSeconds(b){var a=new Date($.now());return(parseInt((a-b)/1000))}function setVisibilityPendingAppReminder(a,c){if((a&&checkVisibilityPendingAppReminder())&&!$(".app-remind-wrap").hasClass("app_left_anim")){$(".app-remind-wrap").addClass("app_left_anim");trackGAEventForAppReminder(gaActions.APP_WIDGET_SHOWN_TO_USER,parseInt($("#pendingApplicationsCount").val()));widgetStartTime=new Date($.now())}else{if((!a&&checkVisibilityPendingAppReminder()&&$(".app-remind-wrap").hasClass("app_left_anim"))){$(".app-remind-wrap").removeClass("app_left_anim");var b=getElapsedTimeInSeconds(widgetStartTime);trackGAEventForAppReminder(c!=null?c:gaActions.APP_WIDGET_HIDDEN,b)}}}function preLoadImages(d,c){var b;var a=$("#productNameSpace").val();if(a){b="/"+a+"/preLoadImages.html?ajax=true&&loadFirstSlideOnly="+d}else{if(c=="insurance"){b="/preLoadImages.html?ajax=true&&prefetchPTypeCat="+c}}$.ajax({method:"get",url:b,success:function(e){$("body").append(e)}})}function slideNext(){setVisibilityPendingAppReminder(false);hideModal();if($("#productNameSpace").val()=="personal-loan"){var b=$("#newstaggered-carousel .item.active").index();var c;var a=$("#sliderQueue").attr("data-sliders").split(",");c=a[jQuery.inArray(b.toString(),a)+1]}if($("#productNameSpace").val()=="home-loan"){addAnimationForCTAButton();setTimeout(function(){moveToSlideInQueue("next")},slideDelay)}else{if($("#productNameSpace").val()=="car-insurance"){moveToSlideInQueue("next")}else{if($("#productNameSpace").val()=="personal-loan"){addAnimationForCTAButton();setTimeout(function(){$("#newstaggered-carousel").carousel(parseInt(c))},slideDelay)}else{$("#newstaggered-carousel").carousel("next")}}}}function triggerTooltip(b,a,c){$(b).tooltip({placement:$(window).width()<1023?"bottom":"right",trigger:a,title:c})}function changeToCamelCase(c){if($.trim(c)==""){return}c=c.toLowerCase();var b=null;var a=c.split(" ");for(i in a){a[i]=(a[i].charAt(0)).toUpperCase()+a[i].substring(1,a[i].length).toLowerCase()}return a.join(" ")}function moveFocusToNextField(c,d,b,g){var h=48;var a=57;var f=(g.keyCode||g.which);if(f<h||f>a){return}if($(c).val().length>=b){if($(c).val().length==b&&f>=h&&f<=a){c.val(c.val()+String.fromCharCode(f))}d.focus();g&&g.preventDefault()&&g.stopPropagation()}}function preAppendZeroForDateField(a){if(a.val().length==1){a.val("0"+a.val())}}function moveNextSlideMobile(){if($("#mobileSite").val()=="true"){$("input[name='form.details.applicant.currentContactDetail.primaryEmail.contact'],[name='form.details.applicant.currentContactDetail.primaryMobile.contact'],[name='form.details.applicant.firstName']").on("keypress",function(a){if(a.which==13){$("#eForm_submit_button").trigger("click")}});$("input[name='form.applicantPlaceHolder.residenceCity.fallback1'],#companyNameFieldSal,[name='form.details.applicant.firstName']").on("focus",function(a){$("html,body").animate({scrollTop:$(this).offset().top-80},"slow")})}}function formatNameToImageName(a){var b=$.trim(a.toLowerCase());b=b.replace(" ","-");b=b.replace("(","");b=b.replace(")","");b=b.replace("&","");b=b.replace("/","-");return b}function getMinValueForYearComponent(){return(getCurrentYear()-5)}function alphaNumericCheck(a){return !(/[^a-zA-Z0-9]/.test(a))}function generateImageFromCompanyName(a){return'<img class="sal-comp-logo" src="/images/company/'+formatNameToImageName(a)+'.png" alt="'+a+'">'}function bindLinksForLeads(b,d,e){var c=isSEM();var a=typeof e=="boolean"&&e;d.click(unbind_checkout);b.each(function(){var f=$(this);f.click(function(){showLead(f,a)})});if(c&&!a){unbind_checkout()}if(a){window.onunload=checkout}}function findDiffernceBetweenTwoDates(a,c){var b=new Date(a-c);return Math.abs(b/(1000*60*60*24))}function findNonAbsoluteDiffernceBetweenTwoDates(a,c){var b=new Date(a-c);return b/(1000*60*60*24)}var coApplicantSlideNo=27;var contactSlideNo=46;var constructionTypeSlideNo=19;var endOfConstructionTypeSlides=25;var propertyPurchaseSlideNo=15;var coapplicantGenderSlideno=32;var applicantTypeOfEmploymentSlideNo=5;var coappTypeOfEmploymentSlideNo=33;var applicantCompanySlideNumber=6;var applicantSalarySlideNumber=11;var citizenshipStatusSlideNo=1;var coApplicantCitizenshipSlideNo=31;var residenceCitySlideNo=0;var coApplicantResidenceCitySlideNo=30;function initializeSlideDependencies(){$("#newstaggered-carousel #eForm_form_details_coApplicant_employment_type").each(function(){$(this).on("EmpType",function(){if(!($(this).val()==$(".radio.label-icon.checked.hl-emp-type-coapp").attr("for"))){return}dependentSlidesOnCoAppEmpType()})});$("#newstaggered-carousel #eForm_form_details_applicant_employment_type").each(function(){$(this).on("EmpType",function(){if(!($(this).val()==$(".radio.label-icon.checked.hl-emp-type").attr("for"))){return}dependentSlidesOnEmpType()})});$(".property-purchase-radio").each(function(){$(this).on("propertyPurchaseChange",function(){if(!($(this).val()==$(".radio.label-icon.checked.hl-loan-purpose").attr("for"))){return}dependentSlidesOnPropertyPurchase()})});$("#newstaggered-carousel #eForm_form_details_property_propertyConstructionType").each(function(){$(this).on("propertyConstruction",function(){if(!($(this).val()==$(".radio.label-icon.checked.hl-property-details").attr("for"))){return}dependentSlidesOnPropertyConstruction()})});$(".coApplicant-selection").each(function(){$(this).on("coApplicantCheckboxChange",function(){if($(".coApplicant-selected:checked").val()!="on"){for(var a=coApplicantSlideNo+1;a<contactSlideNo;a++){removeSlideFromQueue(a.toString())}$(".coApplicant-selection").each(function(){$(this).parent().removeClass("checked")});$("input[name='form.details.applyingWithCoApplicant']").removeAttr("checked");if($(".coApplicant-radio").parent().hasClass("checked")){$(".coApplicant-radio").parent().removeClass("checked")}}$("#newstaggered-carousel").carousel(coApplicantSlideNo);$(".add-co-applicant-slide a[name='moveCarouselButton']").removeClass("loading-circle").html("Continue")})});$(".outside-india-checkbox0").on("change",function(){if($(".outside-india-checkbox0:checked").val()!="on"){removeSlideFromQueue(citizenshipStatusSlideNo.toString());$(".outside-india-checkbox0").parent().removeClass("checked")}$("#newstaggered-carousel").carousel(residenceCitySlideNo);$(".city-slide a[name='moveCarouselButton']").removeClass("loading-circle").html("Search for Home Loans")});$(".outside-india-checkbox1").on("change",function(){if($(".outside-india-checkbox1:checked").val()!="on"){removeSlideFromQueue(coApplicantCitizenshipSlideNo.toString());$(".outside-india-checkbox1").parent().removeClass("checked")}$("#newstaggered-carousel").carousel(coApplicantResidenceCitySlideNo);$(".city-slide a[name='moveCarouselButton']").removeClass("loading-circle").html("Continue")});$(".coApplicant-radio").on("coApplicantChange",function(){if(!($(this).val()==$(".radio.label-icon.hl-coapplicant-present.checked").attr("for"))){return}dependentSlidesForCoApplicantPresent()});$("#newstaggered-carousel #eForm_form_details_coApplicant_applicantRelation_radio").each(function(){$(this).on("relationship",function(){if(!($(this).val()==$(".radio.checked.hl-coapplicant-relation").attr("for"))){return}dependentSlidesForCoAppRelation()})});$("#newstaggered-carousel #eForm_form_details_coApplicant_applicantRelation_select").each(function(){$(this).on("relationship",function(){var a=$("input[name='form.details.coApplicant.applicantRelation']").val();dependentSlidesForCoAppRelation()})});$("#newstaggered-carousel #eForm_form_details_coApplicant_coOwner").each(function(){$(this).change(function(){addAnimationForCTAButton();setTimeout(function(){dependentSlidesOnCoAppOwner()},slideDelay)})});$("#newstaggered-carousel .citizenship-radio0").on("citizenshipStatus",function(){var a=$(".complete-eligibility-form input[name='form.details.applicant.citizenshipStatus']").val();if(a!=BBConstants.residentIndian){disableCityFieldsAndShowCountryDropdown(residenceCitySlideNo.toString())}else{if(a==BBConstants.residentIndian){disableCountryDropdownsAndMoveToCitySlide(residenceCitySlideNo,".applicant-city-slide-heading")}}});$("#newstaggered-carousel .citizenship-radio1").on("citizenshipStatusForCoApplicant",function(){var a=$(".complete-eligibility-form input[name='form.details.coApplicant.citizenshipStatus']").val();if(a!=BBConstants.residentIndian){disableCityFieldsAndShowCountryDropdown(coApplicantResidenceCitySlideNo.toString())}else{if(a==BBConstants.residentIndian){disableCountryDropdownsAndMoveToCitySlide(coApplicantResidenceCitySlideNo,".coapplicant-city-slide-heading")}}})}function hideFields(a){a.each(function(){$(this).removeClass("validate");$(this).addClass("dontvalidate");$(this).addClass("optional-field");$(this).attr("disabled",true)})}function showFields(a){a.each(function(){$(this).addClass("validate");$(this).removeClass("dontvalidate");$(this).removeClass("optional-field");$(this).attr("disabled",false)})}function disableCityFieldsAndShowCountryDropdown(a){showFields($("div .item.active .residence-country select[name*=form]"));if(a==residenceCitySlideNo){$("div.item[slidename='citizenship']").find(".residence-country").removeClass("dontshow")}else{if(a==coApplicantResidenceCitySlideNo){$("div.item[slidename='coapp_citizenship']").find(".residence-country").removeClass("dontshow")}}$(".flatui-dropdown").find(".disabled").removeClass("disabled")}function disableCountryDropdownsAndMoveToCitySlide(a,c){var b=a==0?"Search for Home Loans":"Continue";var d=a==0?"Where in India do you live?":"Where in India does co-applicant live?";var e=$(c).clone().wrap("<span>").children();$("div .item.active").find(".residency-areas").addClass("dontshow");hideFields($("div .item.active .residence-country input"));hideFields($("div .item.active .country-dropdown input"));$(".city-slide a[name='moveCarouselButton']").removeClass("loading-circle").html(b);$(c).html(d);e.appendTo($(c));$("#newstaggered-carousel").carousel(a)}function disableCitySlideForNRI(a){$("div .item[slidenumber="+a+"] input").attr("disabled",true);$("div .item[slidenumber="+a+"] select").attr("disabled",true)}function sortFunction(d,c){var f=parseInt(d,10);var e=parseInt(c,10);return f-e}function dependentSlidesForCoAppRelation(){var a=$("input[name='form.details.coApplicant.applicantRelation']").val();if(a=="CHILDREN"){removeSlideFromQueue(coapplicantGenderSlideno.toString());addSlideToQueue(coapplicantGenderSlideno.toString())}else{removeSlideFromQueue(coapplicantGenderSlideno.toString())}moveToSlideInQueue("next")}function dependentSlidesForCoApplicantPresent(){var c=[(coApplicantSlideNo+1).toString(),(coApplicantSlideNo+2).toString(),(coApplicantSlideNo+3).toString(),(coApplicantSlideNo+6).toString(),(coApplicantSlideNo+18).toString()];var a=$(".property-purchase-radio:checked").val();a=="TRANSFER_EXISTING_HOME_LOAN"?c.push((coApplicantSlideNo+16).toString()):c.push((coApplicantSlideNo+17).toString());if($(".coApplicant-radio:checked").val()=="true"){$(".coApplicant-selection").each(function(){$(this).parent().addClass("checked")});addSlidesToQueue(c)}else{for(var b=coApplicantSlideNo+1;b<contactSlideNo;b++){removeSlideFromQueue(b.toString())}}moveToSlideInQueue("next")}function dependentSlidesOnCoAppOwner(){var d=$("input[name='form.details.coApplicant.applicantRelation']").val();var c=$("input[name='form.details.coApplicant.coOwner']:checked").val();var b=[(propertyPurchaseSlideNo+28).toString(),(propertyPurchaseSlideNo+29).toString()];if((d=="FATHER"||d=="MOTHER"||d=="CHILDREN")){if(c=="false"){for(var a=33;a<45;a++){removeSlideFromQueue(a.toString())}}else{if(c=="true"){addSlideToQueue("33")}}}moveToSlideInQueue("next")}function dependentSlidesOnPropertyConstruction(){var e=$("input[name='form.details.property.propertyConstructionType']:checked").val();var b=[(constructionTypeSlideNo).toString(),(constructionTypeSlideNo+1).toString()];var d=[(constructionTypeSlideNo+2).toString(),(constructionTypeSlideNo+3).toString(),(constructionTypeSlideNo+4).toString(),(constructionTypeSlideNo+5).toString()];var c=[(constructionTypeSlideNo+5).toString(),(constructionTypeSlideNo+6).toString()];if(e=="CONSTRUCTED"||e=="UNDER_CONSTRUCTION"){for(var a=constructionTypeSlideNo;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}$.each(b,function(f,g){addSlideToQueue(g)})}else{if(e=="PURCHASE_LAND"){for(a=constructionTypeSlideNo;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}$.each(d,function(f,g){addSlideToQueue(g)})}else{if(e=="CONSTRUCT_ON_OWN_LAND"){for(a=constructionTypeSlideNo;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}$.each(c,function(f,g){addSlideToQueue(g)})}else{if(e=="PURCHASE_LAND_AND_CONSTRUCT"){for(a=constructionTypeSlideNo;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}$.each(d,function(f,g){addSlideToQueue(g)});addSlideToQueue(endOfConstructionTypeSlides.toString())}}}}moveToSlideInQueue("next")}function dependentSlidesForTransferHomeLoan(b,c){$.each(b,function(d,e){removeSlideFromQueue(e)});for(var a=constructionTypeSlideNo+1;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}$.each(c,function(d,e){addSlideToQueue(e)})}function updateSlidesForTransferHomeLoan(){var a=[(propertyPurchaseSlideNo+3).toString()];var b=[(propertyPurchaseSlideNo+3).toString(),(propertyPurchaseSlideNo+11).toString()];$.each($(".item"),function(){if($(this).attr("slidename")=="purpose"){var c=$(this).attr("slidenumber");removeSlideFromQueue(c)}});dependentSlidesForTransferHomeLoan(a,b)}function dependentSlidesOnPropertyPurchase(){var b=$(".property-purchase-radio:checked").val();var d=[(propertyPurchaseSlideNo+3).toString()];var e=[(propertyPurchaseSlideNo+3).toString(),(propertyPurchaseSlideNo+11).toString()];if(b=="PURCHASE_IDENTIFIED_PROPERTY"){$.each(e,function(f,g){removeSlideFromQueue(g)});for(var c=constructionTypeSlideNo+1;c<=endOfConstructionTypeSlides;c++){removeSlideFromQueue(c.toString())}addSlideToQueue(d)}else{if(b=="TRANSFER_EXISTING_HOME_LOAN"){dependentSlidesForTransferHomeLoan(d,e)}else{if(b=="PURCHASE_NOT_YET_IDENTIFIED_PROPERTY"){$.each(d,function(f,g){removeSlideFromQueue(g)});$.each(e,function(f,g){removeSlideFromQueue(g)});for(var a=constructionTypeSlideNo+1;a<=endOfConstructionTypeSlides;a++){removeSlideFromQueue(a.toString())}}}}moveToSlideInQueue("next")}function dependentSlidesOnCoAppEmpType(){var c=$("input[name='form.details.coApplicant.employment.type']:checked").val();var f=coappTypeOfEmploymentSlideNo;var j=[(f+1).toString(),(f+3).toString(),(f+4).toString(),(f+5).toString(),(f+6).toString(),(f+7).toString(),(f+8).toString(),(f+9).toString()];var e=[(f+1).toString(),(f+3).toString(),(f+6).toString(),(f+7).toString(),(f+8).toString()];var h=[(f+1).toString(),(f+4).toString(),(f+5).toString(),(f+9).toString()];var b=[(f+2).toString()];var g=[(propertyPurchaseSlideNo+28).toString(),(propertyPurchaseSlideNo+29).toString()];var d=$(".property-purchase-radio:checked").val();var k=$("input[name='form.details.coApplicant.citizenshipStatus']").val();if(c=="SALARIED"||c=="SALARIED_PROFESSIONAL"){$.each(b,function(n,o){removeSlideFromQueue(o)});dependentSlidesForSalaried(e,h,k);var a=$("input[id='eForm_form_coApplicantPlaceHolder_employmentAbroadStartDate_month']").val();var m=$("input[id='eForm_form_coAapplicantPlaceHolder_employmentAbroadStartDate_year']").val();if($("#mobileSite").val().toString()!="true"){if(k!=BBConstants.residentIndian){if(a==""){$("input[id='eForm_form_coAapplicantPlaceHolder_employmentAbroadStartDate_year']").val((getServerDate().getFullYear()-5).toString())}if(m==""){$("input[id='eForm_form_coApplicantPlaceHolder_employmentAbroadStartDate_month']").val("0")}}}if(d=="PURCHASE_NOT_YET_IDENTIFIED_PROPERTY"||d=="PURCHASE_IDENTIFIED_PROPERTY"){$.each(g,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+29).toString())}else{$.each(g,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+28).toString())}}else{if(c=="SELF_EMPLOYED_BUSINESS"||c=="SELF_EMPLOYED_PROFESSIONAL"){$.each(j,function(n,o){removeSlideFromQueue(o)});$.each(b,function(n,o){addSlideToQueue(o)});if(d=="PURCHASE_NOT_YET_IDENTIFIED_PROPERTY"||d=="PURCHASE_IDENTIFIED_PROPERTY"){$.each(g,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+29).toString())}else{$.each(g,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+28).toString())}}else{$.each(b,function(n,o){removeSlideFromQueue(o)});$.each(j,function(n,o){removeSlideFromQueue(o)});$.each(g,function(n,o){removeSlideFromQueue(o)})}}moveToSlideInQueue("next")}function dependentSlidesOnEmpType(){var k=$("input[name='form.details.applicant.employment.type']:checked").val();var e=applicantTypeOfEmploymentSlideNo;var h=[(e+1).toString(),(e+3).toString(),(e+4).toString(),(e+5).toString(),(e+6).toString(),(e+7).toString(),(e+8).toString(),(e+9).toString()];var d=[(e+1).toString(),(e+3).toString(),(e+6).toString(),(e+7).toString(),(e+8).toString()];var g=[(e+1).toString(),(e+4).toString(),(e+5).toString(),(e+9).toString()];var b=[(e+2).toString()];var f=[(propertyPurchaseSlideNo).toString(),(propertyPurchaseSlideNo+1).toString()];var c=$(".property-purchase-radio:checked").val();var j=$("input[name='form.details.applicant.citizenshipStatus']").val();if(k=="SALARIED"||k=="SALARIED_PROFESSIONAL"){$.each(b,function(n,o){removeSlideFromQueue(o)});dependentSlidesForSalaried(d,g,j);if(!($("#eForm_form_details_uiParameters_variant").val()=="slide")&&$("#displayCompanyCompleteElig").val()=="false"&&$("#eForm_form_details_formType").val()!="long"){removeSlideFromQueue(applicantCompanySlideNumber.toString())}else{addSlideToQueue(applicantCompanySlideNumber.toString())}if(!($("#eForm_form_details_uiParameters_variant").val()=="slide")&&$("#displaySalaryCompleteElig").val()=="false"&&$("#eForm_form_details_formType").val()!="long"){removeSlideFromQueue(applicantSalarySlideNumber.toString())}else{if(j=="RESIDENT_INDIAN"){addSlideToQueue(applicantSalarySlideNumber.toString())}}var a=$("input[id='eForm_form_applicantPlaceHolder_employmentAbroadStartDate_year']").val();var m=$("input[id='eForm_form_applicantPlaceHolder_employmentAbroadStartDate_month']").val();if($("#mobileSite").val().toString()!="true"){if(j!=BBConstants.residentIndian){if(a==""){$("input[id='eForm_form_applicantPlaceHolder_employmentAbroadStartDate_year']").val((getServerDate().getFullYear()-5).toString())}if(m==""){$("input[id='eForm_form_applicantPlaceHolder_employmentAbroadStartDate_month']").val("0")}}}if(c=="PURCHASE_NOT_YET_IDENTIFIED_PROPERTY"||c=="PURCHASE_IDENTIFIED_PROPERTY"){$.each(f,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+1).toString())}else{$.each(f,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo).toString())}}else{if(k=="SELF_EMPLOYED_BUSINESS"||k=="SELF_EMPLOYED_PROFESSIONAL"){$.each(h,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((e+2).toString());if(c=="PURCHASE_NOT_YET_IDENTIFIED_PROPERTY"||c=="PURCHASE_IDENTIFIED_PROPERTY"){$.each(f,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo+1).toString())}else{$.each(f,function(n,o){removeSlideFromQueue(o)});addSlideToQueue((propertyPurchaseSlideNo).toString())}}else{if(k=="STUDENT"||k=="RETIRED"||k=="HOMEMAKER"){$.each(b,function(n,o){removeSlideFromQueue(o)});$.each(h,function(n,o){removeSlideFromQueue(o)});$.each(f,function(n,o){removeSlideFromQueue(o)})}}}moveToSlideInQueue("next")}function dependentSlidesForSalaried(c,a,b){if($.inArray(b,BBConstants.nriOptions)>=0){$.each(c,function(d,e){removeSlideFromQueue(e)});$.each(a,function(d,e){addSlideToQueue(e)})}else{$.each(a,function(d,e){removeSlideFromQueue(e)});$.each(c,function(d,e){addSlideToQueue(e)})}}function addSlideToQueue(b){var a=$("#sliderQueue").attr("data-sliders").split(",");var c=a.indexOf(b);if(c==-1){a.push(b.toString());a=a.sort(sortFunction);$("#sliderQueue").attr("data-sliders",a)}}function addSlidesToQueue(b){var a=$("#sliderQueue").attr("data-sliders").split(",");$.each(b,function(d,f){var c=f;var e=a.indexOf(c);if(e==-1){a.push(c)}});a=a.sort(sortFunction);$("#sliderQueue").attr("data-sliders",a)}function removeSlideFromQueue(b){var a=$("#sliderQueue").attr("data-sliders").split(",");var c=a.indexOf(b);if(c>-1){a.splice(c,1);a.sort(sortFunction);if($("div .item[slidenumber="+b+"] input").length>0){$("div .item[slidenumber="+b+"] input").each(function(){if(!($(this).hasClass("optional-field"))){$(this).removeClass("validate");$(this).addClass("dontvalidate");$(this).attr("disabled",true)}})}if($("div .item[slidenumber="+b+"] select").length>0){$("div .item[slidenumber="+b+"] select").each(function(){if(!($(this).hasClass("optional-field"))){$(this).removeClass("validate");$(this).addClass("dontvalidate");$(this).attr("disabled",true)}})}$("#sliderQueue").attr("data-sliders",a)}}function addAnimationForCTAButton(){$("div .item.active #continueButton").addClass("loading-circle").html("Please wait..")}function dependentSlideForCitySlide(b,a,e){var c=$(b).val();var d=$(a).val();if(c!=""&&c!=null&&c==BBConstants.otherValue){if(d!=""&&d!=null&&d==BBConstants.outsideIndia){if(e==0){addSlideToQueue(citizenshipStatusSlideNo.toString());$(".outside-india-checkbox0").parent().addClass("checked")}else{addSlideToQueue(coApplicantCitizenshipSlideNo.toString());$(".outside-india-checkbox1").parent().addClass("checked")}}}else{if(e==0){removeSlideFromQueue(citizenshipStatusSlideNo.toString())}else{removeSlideFromQueue(coApplicantCitizenshipSlideNo.toString())}}$(".residency-status-slide a[name='moveCarouselButton']").removeClass("loading-circle").html("Continue");moveToSlideInQueue("next")}function slideDependencyForNRIs(){addSlideToQueue(citizenshipStatusSlideNo.toString());$(".outside-india-checkbox0").parent().addClass("checked");$("[name='fallBackName0']").attr("value",BBConstants.outsideIndia)}function coApplicantSlideDependencyForNRIs(){addSlideToQueue(coApplicantCitizenshipSlideNo.toString());$(".outside-india-checkbox1").parent().addClass("checked");$("[name='fallBackName1']").attr("value",BBConstants.outsideIndia)}function slideDependencyForFDNRIs(){$("#applicantCityPlaceHolderTextbox").val(BBConstants.outsideIndia);$(".outside-india-checkbox0").parent().addClass("checked")}function hideModal(){$("#live-city0").modal("hide");$("#live-car0").modal("hide");$("#live-city1").modal("hide");$("#propertyCity").modal("hide");$(".item.active .recommendedSearchImg").remove()}function populateEmailFromNewsLetter(){var a=$("#nonPartnerPageEmail").val();$("#collectEmailFromNewsletter").val(a)}function popover_close(){$.fn.extend({popoverClosable:function(b){var c={template:'<div class="popover">                <div class="arrow"></div>                <div class="popover-header">                <button type="button" class="close" data-dismiss="popover" aria-hidden="true">&times;</button>                <h3 class="popover-title"></h3>                </div>                <div class="popover-content"></div>                </div>'};b=$.extend({},c,b);var a=this;a.popover(b);a.on("click",function(d){d.preventDefault();a.not(this).popover("hide")});$("html").on("click",'[data-dismiss="popover"]',function(d){a.popover("hide")})}});$(function(){$('[data-toggle="popover"]').popoverClosable()}())}function isMobileSite(){if($("#mobileSite").val()=="true"){return true}else{return false}}function updateCIManufactureDate(){if($("#carType").val()=="OLD"){$("#manufacturedOn,input[name='form.details.carDetail.manufacturedOn']").val([pad($("#manufacturedMonth").val()),"01",$("#manufacturedYear").val()].join("/"))}else{var a=$("#manufacturedOn").val().split("/")[1];$("#manufacturedOn,input[name='form.details.carDetail.manufacturedOn']").val([pad($("#manufacturedMonth").val()),a,$("#manufacturedYear").val()].join("/"))}}function bindCIChangeDates(){$("#registeredDay,#registeredMonth,#registeredYear").live("change",function(){$("#registeredOn,input[name='form.details.carDetail.registeredOn']").val([pad($("#registeredMonth").val()),pad($("#registeredDay").val()),$("#registeredYear").val()].join("/"));updateCIManufactureDate();$().dateSelectBoxes({generateOptions:true,monthElement:$("#manufacturedMonth"),dayElement:$("#manufacturedDay"),yearElement:$("#manufacturedYear"),defaultDate:$("#manufacturedOn").val(),minDate:getManufacturedMinDate(),maxDate:getDateObjectFormat($("#registeredOn").val())})});$("#manufacturedMonth,#manufacturedYear").live("change",function(){updateCIManufactureDate()});$("#expiryDay,#expiryMonth,#expiryYear").live("change",function(){$("#expiryDate").val([pad($("#expiryMonth").val()),pad($("#expiryDay").val()),$("#expiryYear").val()].join("/"));$("#policyStartDate").val(getPolicyStartDate())})}function getPolicyStartDate(){var a=[pad($("#expiryYear").val()),pad($("#expiryMonth").val()),pad($("#expiryDay").val())].join("-");return getNextDay(a)}function getNextDay(b){var a=new Date(b);a.setDate(a.getDate()+1);return(pad(a.getMonth()+1))+"/"+pad(a.getDate())+"/"+pad(a.getFullYear())}function initializeExpiryDateCombo(a){$().dateSelectBoxes({generateOptions:true,monthElement:$("#expiryMonth"),dayElement:$("#expiryDay"),yearElement:$("#expiryYear"),defaultDate:$("#expiryDate").val(),minDate:new Date(),maxDate:a})}function initializeSelectBoxes(){var d=$("#carType").val();var b=$("#registeredOn").val();var f=new Date();f.setFullYear(f.getFullYear()-14);var a=$("#expiryDate").val();if(d=="NEW"){var g=new Date();g.setDate(new Date().getDate()+45);var e=new Date();e.setDate(e.getDate()+29);if(getDateObjectFormat(b)<new Date()){b=$.datepicker.formatDate("mm/dd/yy",new Date())}$().dateSelectBoxes({generateOptions:true,monthElement:$("#registeredMonth"),dayElement:$("#registeredDay"),yearElement:$("#registeredYear"),defaultDate:b,maxDate:e,minDate:new Date()});updateRegistrationDate()}else{var g=new Date();var e=new Date();g.setDate(new Date().getDate()+45);if(g.getFullYear()==new Date().getFullYear()){e.setFullYear(e.getFullYear()-1,11,31)}initializeExpiryDateCombo(g);$().dateSelectBoxes({generateOptions:true,monthElement:$("#registeredMonth"),dayElement:$("#registeredDay"),yearElement:$("#registeredYear"),defaultDate:$("#registeredOn").val(),maxDate:e,minDate:f})}var c=$("#manufacturedOn").val();if(c==""){c=b}$().dateSelectBoxes({generateOptions:true,monthElement:$("#manufacturedMonth"),dayElement:$("#manufacturedDay"),yearElement:$("#manufacturedYear"),defaultDate:c,minDate:getManufacturedMinDate(),maxDate:getDateObjectFormat(b)})}function getDateObjectFormat(a){return new Date(a)}function getManufacturedMinDate(){var a=new Date($("#registeredOn").val());a.setFullYear(a.getFullYear()-2);return a}function updateRegistrationDate(){$("#registeredOn,input[name='form.details.carDetail.registeredOn']").val([pad($("#registeredMonth").val()),pad($("#registeredDay").val()),$("#registeredYear").val()].join("/"))}function isMobile(d){var b=""+d;var c=/^[9|8|7|6]\d{9}/;var a=c.exec(b);console.log(a);if(a==null){return false}else{return true}}function fetchUserReviewsAjax(){if($("#productNameSpace").val()===""){return}var a="/"+$("#productNameSpace").val()+"/fetchUserReviewsAjax.html?ajax=true&cacheKey="+BBConstants.cacheKey+"&cacheLevel=2&pageName="+$("#pageName").val();if($("#hiddenUserReviewParams").val()!=undefined&&$("#hiddenUserReviewParams").val()!=""){a=a+$("#hiddenUserReviewParams").val()}bbajax({type:"GET",url:a,success:function(b){$("#user-review-section-ajax").html(b);if($("#pageName").val()=="eligPage"||$("#pageName").val()=="landingPageNewLayout"||$("#pageName").val()=="eligibility-monolithic-partner"){if($("#cl-user-review-link").hasClass("active")){reviewDescTrim();flagForFirstTime=false}else{$('a[data-toggle="tab"]').on("shown.bs.tab",function(c){if($(this).attr("href").indexOf("review")>=0&&flagForFirstTime){reviewDescTrim();flagForFirstTime=false}})}}initializeCustomEvents();initializeCustomText();initializeVotingUps();index=parseInt($("#startIndex").val());if($("#pageName").val()=="landingPage"&&$("#hideUserReviewsSection").val()=="false"){initializePaginationForReviews();$("#review-page-holder-icon").show()}if(window.location.hash=="#get-quote"){scrollToElement($("#get-quote"))}}})}function scrollToElement(a){$(window).scrollTop(a.offset().top).scrollLeft(a.offset().left)}function isInternal(){return !isProductionEnv()||isInternalAccess()}function getQueryString(){return window.location.toString().split("?")[1]}function getParameterByName(a,c){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");if(!c){c=window.location.toString()}var d=new RegExp("[\\?&]"+a+"=([^&#]*)"),b=d.exec(c);return b===null?"":decodeURIComponent(b[1].replace(/\+/g," "))}function containsParam(a){return a.split("?")[1]}function appendParam(b,d){var a=window.location.toString();var c=a.split("?")[1];var e=getParameterByName("variantOptions",null);if(e){d.preventDefault();if(!containsParam(b)){window.location.href=b+"?"+getQueryString()}else{window.location.href=b+"&"+getQueryString()}}}function footerGAEventsOnAnchor(){$("#common-footer a").on("click",function(){var a=$("#pageName").val();BB_trackGoogleEventWithLabel("Footer:"+a,"click",this.href)})}$(window).load(function(){footerGAEventsOnAnchor()});$(document).ready(function(){if($("#offersFramework").val()=="true"||$("#ajaxEnabledForElig").val()=="true"){$(initTrackEvents($(document)))}});function showORHideDetails(a,c){var b=$(a).attr("action-count");if(b=="false"){$(a).attr("data-actionLoc",c);$(a).attr("action-count","true")}else{$(a).removeAttr("data-actionLoc");$(a).attr("action-count","false")}}function flipRatingClass(a,e,c,d,b){if(a.closest("li").find("."+d).length==0){a.closest("li").find("."+c).after(e.addClass(d))}a.closest("li").find("."+b).remove()}$(document).ready(function(){var b=$("#mobileSite")!=undefined&&$("#mobileSite").val()=="true";var a=$("#pagName")!=undefined&&$("#pagName").val()!="newBootStrapMyAccount";if(b&&!a){$(".js-db-slide-in-menu li a").on("click",function(){window.location.href="/myaccount.html?entryTab="+$(this).attr("data-tab-name")})}else{bindCustomerDBDropDownForDesktop()}});function triggerShowDashBoardSideMenu(a){var c=$("#logged-in-status")!=undefined&&$("#logged-in-status")!=null&&$("#logged-in-status").val()=="true";var b=$("#loggedin")!=undefined&&$("#loggedin")!=null&&$("#loggedin").val()=="true";if(b||c){showDashBoardSideMenu()}else{showLoginAndFireEvent(LoginSource.NAV_BAR)}}function showDashBoardSideMenu(){$(".db-menu-vertical").toggleClass("db-menu-open");$(".modal-screen").toggle();$(".db-menu-vertical").show();if($("#bs-example-navbar-collapse-1").hasClass("in")){$("#navbarToggleButton").trigger("click")}if($("#db-menu-s1").hasClass("db-menu-open")){$("#navbarToggleButton").attr("data-target","#");$("body").css("overflow","hidden").css("height","100%");$("html").css("overflow","hidden").css("height","100%")}else{if(!$("#db-menu-s1").hasClass("db-menu-open")){resetSideMenuAndNavBar()}}}function resetSideMenuAndNavBar(){$("body").css("overflow","").css("height","");$("html").css("overflow","").css("height","");$("#navbarToggleButton").attr("data-target","#bs-example-navbar-collapse-1")}function bindCustomerDBDropDownForDesktop(){$(".js-menu-db-dropdown").on("click",function(){if(isMobileSite()&&$("#pageName").val()=="newBootStrapMyAccount"){var a=$(this).attr("data-user-db-tab-name");if($("#newInvestmentDashboardSelected").val()=="true"){if((a=="investments")){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab=investments";return}else{if($("#tabInfo").val()=="investments"){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab="+a;return}}}if(a=="investments"){initMFDashboard()}$(".js-db-tab-pane").each(function(){if($(this).attr("id")==a){$("#"+a).removeClass("dontshow")}else{$("#"+$(this).attr("id")).addClass("dontshow")}})}else{window.location.href="/myaccount.html?entryTab="+$(this).attr("data-user-db-tab-name")}});$("#my-account-link").on("click",function(){window.location.href="/myaccount.html?entryTab=username_label"});$("#investmentsTab").click(function(){if($("#newInvestmentDashboardSelected").val()=="true"){window.location.href="/myaccount.html?entryTab=investments"}})}(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j)}function g(j){return b.raw?j:decodeURIComponent(j)}function h(j){return d(b.json?JSON.stringify(j):String(j))}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(a," "));return b.json?JSON.parse(j):j}catch(k){}}function e(k,j){var m=b.raw?k:c(k);return f.isFunction(j)?j(m):m}var b=f.cookie=function(q,p,v){if(p!==undefined&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(k,j){if(f.cookie(k)===undefined){return false}f.cookie(k,"",f.extend({},j,{expires:-1}));return !f.cookie(k)}}));var EventManager=function(a){var b={};var c=function(e){var d;for(d in e){if(typeof b[d]==="undefined"){b[d]=[]}b[d].push(e[d])}}(a);return{trigger:function(e,g){var d=b[e];var f;var h;for(h in d){f=d[h];f(g)}},register:function(e,d){if(typeof b[e]==="undefined"){b[e]=[]}b[e].push(d)}}};var popupWindow;var isLoginFunctionalityDone=false;if(typeof GlobalEventManagers==="undefined"){var GlobalEventManagers={}}GlobalEventManagers.loginEventManager=new EventManager();var FORWARD_URL="forwardUrl";var POPUP="popup";SocialLogin={init:function(){SocialLogin.FB.init();SocialLogin.GPLUS.init()},loginStatus:function(){return $("#logged-in-status").val()=="true"}};SocialLogin.FB={initialized:false,REDIRECT_URI_PARAMTER_NAME:"redirect_uri",CURRENT_URI_PARAMTER_NAME:"current_uri",RETURN_URI_PARAMTER_NAME:"return_uri",LOGIN_SOURCE_PARAMTER_NAME:"loginSource",signIn:function(b){var a=SocialLogin.FB.getPopupURL(b);if(fb_auto_login_flag){removeSocialLoginCookie()}if(b){centerPopup("","Log in with Facebook",500,380)}else{window.location=a}},init:function(){if(!SocialLogin.FB.initialized){SocialLogin.FB.initialized=true;$(".sign-in-box .sign-in-fb").live("click",function(){SocialLogin.FB.signIn(isPopupRequest($(this)));setEventDetails("fb",$(this));var a=getCurrentLoginSource()==null?$(this).attr("data-actionLoc"):"FBLoginDefault";logLoginEvent("fbLoginAttempt");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"fbLoginAttempt",a)});$("#sign-out-ajax").live("click",function(){removeSocialLoginCookie()})}},getPopupURL:function(a){var b=$("input[name=fbEndpoint]").val();if(a){b=addURLParameter(b,"display","popup")}return b}};function addURLParameter(b,d,c){var a=getURLParameters(b);if(Object.size(a)>0){b+="&"}else{b+="?"}b+=encodeURIComponent(d)+"="+encodeURIComponent(c);return b}Object.size=function(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b};function getBaseURL(a){var b=/^([^?]+)[?]{1}(.*)$/,c;if(c=b.exec(a)){return c[1]}return null}function getURLParameters(a){var c,b=/[?&]([^=]+)=([^&]+)/g,d={};while(c=b.exec(a)){d[decodeURIComponent(c[1])]=decodeURIComponent(c[2])}return d}function getURL(a,d){var c=null;for(var b in d){if(c==null){c="?"}else{c+="&"}c+=encodeURIComponent(b)+"="+encodeURIComponent(d[b])}return a+c}function centerPopup(b,g,a,c){var f=(screen.width/2)-(a/2);var e=(screen.height/2)-(c/2);var d=popupWindow=window.open(b,g,"width="+a+", height="+c+", top="+e+", left="+f);if(d&&d.focus){d.focus()}return d}SocialLogin.GPLUS={RETURN_URI_PARAMTER_NAME:"redirect_uri",initiateSignIn:function(a){var b=SocialLogin.GPLUS.getPopupURL(a);if(!a){window.location.href=b}else{centerPopup("","Log in with Google+",500,550)}},getPopupURL:function(a){return $("input[name=googleEndpoint]").val()},initialized:false,init:function(){if(!SocialLogin.GPLUS.initialized){SocialLogin.GPLUS.initialized=true;$(".sign-in-box .sign-in-google").live("click",function(){SocialLogin.GPLUS.initiateSignIn(isPopupRequest($(this)));setEventDetails("google",$(this));logLoginEvent("googleLoginAttempt");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"googleLoginAttempt",getCurrentLoginSource())});$("#sign-out-ajax").live("click",function(){removeSocialLoginCookie()})}}};function getLoginResultMap(){copyAjaxContentResponseToBody();if($("#loginAttemptResultMap").val()!=undefined&&$("#loginAttemptResultMap").val()!=""){return JSON.parse($("#loginAttemptResultMap").val())}return null}function onLoadCallback(){gapi.client.setApiKey("AIzaSyD-5I9YepWc2VyWhSjZpIePv4TVzw6Jj6E");gapi.client.load("plus","v1",function(){});sessionParams={client_id:"292169499198-0lfk82r2deoft25lth746btka7g5gslr.apps.googleusercontent.com",session_state:null}}function loadSocialPlugin(){if(load_flag==false){var a="https://connect.facebook.net/en_US/all.js";window.fbAsyncInit=function(){initFB();FB.getLoginStatus(function(b){if(fb_auto_login_flag){if(b.status!="connected"){removeSocialLoginCookie()}else{reportAutoLoginEvent("login","fb");SocialLogin.FB.signIn(false)}}});load_flag=true};$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){}})}if(glus_load_flag==false){var a="https://apis.google.com/js/client:plusone.js?onload=onLoadCallback";$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){glus_load_flag=true}})}}NativeLogin={emailErrorMsg:function(){var a=$("#isEmailLoginEnabled").val();return a=="false"?NativeLogin.constructErrorMessage("Uh-oh! Please enter a valid mobile number"):NativeLogin.constructErrorMessage("Uh-oh! Please enter a valid email or a valid mobile number")},otpReqdErrorMsg:function(){return NativeLogin.constructErrorMessage("Please enter OTP")},resetPwdEmailErrorMsg:function(){return NativeLogin.constructErrorMessage("Uh-oh! Please enter a valid email")},existingUserErrorMsg:function(){return NativeLogin.constructErrorMessage("This login ID already exists. Please use the existing password to log in or reset password using forgot password.")},pwdMinlengthErrorMsg:function(){return NativeLogin.constructErrorMessage("Uh-oh! Password should contain at least 8 characters")},strongPwdErrorMsg:function(){return NativeLogin.constructErrorMessage("Uh-oh! Password must contain at least one digit (0-9) and one alphabet.")},pwdReqdErrorMsg:function(){return NativeLogin.constructErrorMessage("Uh-oh! Password should contain at least 8 characters")},confirmPWdErrorMsg:function(){return NativeLogin.constructErrorMessage("Uh-oh! Please enter the same password as above")},validateSignupResult:function(a){var b="bbLoginSignUpError";if(a.toLowerCase()=="SUCCESS".toLowerCase()){$("#signUpNative").trigger("signUpSuccess");NativeLogin.onSuccessfulAuthentication("SignUp")}else{if(a=="validUser"){$("#popupSignupForm .error-msg").addClass("dontshow");$("#popupSignupForm .input-error-cl").addClass("dontshow")}else{if(a=="MOBILE_LOGIN"){$("#signUpNative").addClass("hide");$("#signUpBlock").addClass("dontshow");$("#popupSignupForm .otpVerificationBlock").removeClass("dontshow");$("#popupSignupForm .mobileOptions").removeClass("dontshow");$("#signupType").val("MOBILE_LOGIN")}else{if(a=="validation_error_weak"){$("#signUpNative").trigger("signUpFaliure");$("#popupSignupForm .error-msg .error-info").html("Uh-oh! Password should be alphanumeric and at least 8 characters long");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="validation_error_username"){$("#signUpNative").trigger("signUpFaliure");$("#popupSignupForm .error-msg .error-info").html("Uh-oh! Password should not be part of the username");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="existing_user"){$("#signUpNative").trigger("signUpFaliure");$("#popupSignupForm .error-msg .error-info").html("This login ID already exists. Please use the existing password to log in or reset password using forgot password.");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="wrongOTP"){$("#popupSignupForm .otp-err-msg .error-info").html("Please enter the correct code. You have "+$("#attemptsLeft").val()+" attempt(s) left.");$("#popupSignupForm .otp-err-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow")}else{if(a=="sentOtp"){$("#popupSignupForm .otp-err-msg .error-info").html("Please use new OTP sent to your mobile number.");$("#popupSignupForm .otp-err-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow")}else{if(a=="exceededAttempts"){$("#signUpNative").addClass("hide");$("#signUpBlock").addClass("dontshow");$("#popupSignupForm .otpVerificationBlock").addClass("dontshow");$("#popupSignupForm .mobileOptions").addClass("dontshow");$("#popupSignupForm .otp-err-msg").addClass("dontshow");$("#popupSignupForm .exceed_verification").removeClass("dontshow")}else{if(a=="verificationSuccess"){$("#signUpNative").trigger("signUpSuccess");NativeLogin.onSuccessfulAuthentication("SignUp")}else{if(a=="exceededUniqueSignUpAttempts"){$("#popupSignupForm .error-msg .error-info").html("Max attempts exceeded. Please try again after an hour.");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow")}else{if(a=="exceededResendOtpAttempts"){$("#popupSignupForm .error-msg .error-info").html("Maximum OTP resend attempts exceeded. Please try again after an hour.");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow")}else{$("#signUpNative").trigger("signUpFaliure");$("#popupSignupForm .error-msg .error-info").html("Uh-oh! Your registration failed. Take another shot, please?");$("#popupSignupForm .error-msg").removeClass("dontshow");$("#popupSignupForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}}}}}}}}}}}}},validateSigninResult:function(a){var b="bbLoginSignInError";if(a=="SUCCESS"){$("#signInNative").trigger("loginSuccess");NativeLogin.onSuccessfulAuthentication("SignIn")}else{if(a=="AUTH_FAILURE"){$("#signInNative").trigger("loginFaliure");$("#popupLoginForm .error-msg .error-info").html("Uh-oh! Please enter valid email/mobile and password");$("#popupLoginForm .error-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="input"){$("#signInNative").trigger("loginFaliure");$("#popupLoginForm .error-msg .error-info").html("Uh-oh! Sign in failed. Please try again.");$("#popupLoginForm .error-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="ACCOUNT_LOCKED"){$("#signInNative").trigger("loginFaliure");$("#popupLoginForm .error-msg .error-info").html("Uh-oh! Your account has been locked. Please reset your password & try again.");$("#popupLoginForm .error-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow");trackingLoginError(b)}else{if(a=="autoSignUpChangePassword"){var c=document.getElementById("user.email").value;$("#popupChangePasswordForm #change_email").val(c);auto_signup_logged_in=true;NativeLogin.autoSignUpShowChangePassword()}else{if(a=="MOBILE_NOT_VERIFIED"){$("#signInNative").addClass("hide");$("#signInBlock").addClass("dontshow");$("#popupLoginForm .otpVerificationBlock").removeClass("dontshow");$("#popupLoginForm .mobileOptions").removeClass("dontshow")}else{if(a=="wrongOTP"){$("#popupLoginForm .otp-err-msg .error-info").html("Please enter the correct code. You have "+$("#attemptsLeft").val()+" attempt(s) left.");$("#popupLoginForm .otp-err-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow")}else{if(a=="sentOtp"){$("#popupLoginForm .otp-err-msg .error-info").html("Please use new OTP sent to your mobile number.");$("#popupLoginForm .otp-err-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow")}else{if(a=="exceededAttempts"){$("#signInNative").addClass("hide");$("#signInBlock").addClass("dontshow");$("#popupLoginForm .otpVerificationBlock").addClass("dontshow");$("#popupLoginForm .mobileOptions").addClass("dontshow");$("#popupLoginForm .otp-err-msg").addClass("dontshow");$("#popupLoginForm .exceed_verification").removeClass("dontshow")}else{if(a=="verificationSuccess"){$("#signInNative").trigger("loginSuccess");NativeLogin.onSuccessfulAuthentication("SignIn")}else{if(a=="exceededUniqueSignUpAttempts"){$("#popupLoginForm .error-msg .error-info").html("Max attempts exceeded. Please try again after an hour.");$("#popupLoginForm .error-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow")}else{if(a=="exceededResendOtpAttempts"){$("#popupLoginForm .error-msg .error-info").html("Maximum OTP resend attempts exceeded. Please try again after an hour.");$("#popupLoginForm .error-msg").removeClass("dontshow");$("#popupLoginForm .input-error-cl").removeClass("dontshow")}}}}}}}}}}}}},validateForgotPassResult:function(a){if(a=="success"){var b=$("#popupForgotPassForm #email").val();$("#activation_code_div #active_email").val(b);NativeLogin.showResetPassword()}else{if(a=="USER_NOT_FOUND"){$(".error-msg .error-info").html("Uh-oh! Invalid entry. Please retry.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{if(a=="wrongOTP"){$(".error-msg .error-info").html("Please enter correct code.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{if(a=="successMobile"){var b=$("#popupForgotPassForm #email").val();$("#activation_code_div #active_email").val(b);NativeLogin.showResetPasswordMobile()}else{if(a=="exceededUniqueSignUpAttempts"){$("#popupForgotPassForm .error-msg .error-info").html("Max attempts exceeded. Please try again after an hour.");$("#popupForgotPassForm .error-msg").removeClass("dontshow");$("#popupForgotPassForm .input-error-cl").removeClass("dontshow")}else{if(a=="exceededResendOtpAttempts"){$("#popupForgotPassForm .error-msg .error-info").html("Maximum OTP resend attempts exceeded. Please try again after an hour.");$("#popupForgotPassForm .error-msg").removeClass("dontshow");$("#popupForgotPassForm .input-error-cl").removeClass("dontshow")}else{$(".error-msg .error-info").html("Uh-oh! Unable to send your activation code. Take another shot, please?");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}}}}}}},validateVerificationCodeResult:function(a){if(a=="success"){var c=$("#popupActivationCodeForm #active_email").val();$("#popupChangePasswordForm #change_email").val(c);var b=$("#popupActivationCodeForm #verifCode").val();$("#popupChangePasswordForm #resetpassword_verifCode").val(b);NativeLogin.showChangePassword()}else{if(a=="wrongOtp"){$(".error-msg .error-info").html("Please enter the correct code. You have "+$("#attemptsLeft").val()+" attempt(s) left.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{if(a=="activationCodeExpired"){$(".error-msg .error-info").html("Uh-oh! Activation code expired. Please try again");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{if(a=="exceededAttempts"){$(".error-msg .error-info").html("You have exceeded the maximum number of attempts. Please click on 'Resend OTP' to get new verification code.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{if(a=="exceededAttemptNoOtp"){$("#popupActivationCodeForm .error-msg .error-info").html("You have exceeded the maximum number of attempts. Please try again after an hour.");$("#popupActivationCodeForm .error-msg").removeClass("dontshow");$("#popupActivationCodeForm .input-error-cl").removeClass("dontshow")}else{if(a=="activationCodeSentAgain"){$(".error-msg .error-info").html("Please use new OTP sent to your mobile number.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}else{$(".error-msg .error-info").html("Uh-oh! Invalid activation code.");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow")}}}}}}},validateChangePasswordResult:function(a){if(a=="success"){NativeLogin.onSuccessfulAuthentication("changePwd")}else{if(a=="input"){$(".error-msg .error-info").html("Uh-oh! username should not be part of password ");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"changePwdError",getCurrentLoginSource())}else{if(a=="validation_error_weak"){$(".error-msg .error-info").html("Uh-oh! Password should be alphanumeric and at least 8 characters long");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"changePwdError",getCurrentLoginSource())}else{if(a=="validation_error_username"){$(".error-msg .error-info").html("Uh-oh! Password should not be part of the username");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"changePwdError",getCurrentLoginSource())}else{if(a=="validation_error_last_5"){$(".error-msg .error-info").html("Uh-oh! Password should not be same as current password");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"changePwdError",getCurrentLoginSource())}else{$(".error-msg .error-info").html("Uh-oh! Unable to change password . Take another shot, please?");$(".error-msg").removeClass("dontshow");$(".input-error-cl").removeClass("dontshow");BB_trackGoogleEventWithLabel(LOGIN_TEXT,"changePwdError",getCurrentLoginSource())}}}}}},onSuccessfulAuthentication:function(a){getNativeSignInElement().modal("hide");$(".saveForLater").addClass("dontshow");$("body").trigger("customerLoggedIn");$("#login-status").on("mouseenter",function(){$(".inline-block").addClass("open")});$("#login-status").on("mouseleave",function(){$(".inline-block").removeClass("open")});$("#logged-in-status").val("true");if($("#pageName")==null||($("#pageName").val()!="hello")){if(auto_signup_logged_in){var b=$("#autoSignUpForwardUrl").val();window.location.href=b}else{successLoginHandler()}}$("html,body").scrollTop(0);trackLoginSuccessEvent("NATIVE_LOGIN",a)},errorPlacementFunction:function(b,a){$("label[name=serverSideError]").addClass("dontshow");b.addClass("input-error-cl");b.insertAfter(a)},validateSignupForm:function(){signupValidator=$("#popupSignupForm").validate({rules:{"user.username":{required:true,validateEmailorMobile:true},"user.password":{isPasswordRequired:true,minlength:8,strongPassword:true},otp:{isOtpRequired:true}},messages:{"user.username":{required:NativeLogin.emailErrorMsg(),validateEmailorMobile:NativeLogin.emailErrorMsg()},"user.password":{isPasswordRequired:NativeLogin.pwdReqdErrorMsg(),minlength:NativeLogin.pwdMinlengthErrorMsg(),strongPassword:NativeLogin.strongPwdErrorMsg()},otp:{isOtpRequired:NativeLogin.otpReqdErrorMsg()}},highlight:function(a){$("label[name=serverSideError]").addClass("dontshow")},errorPlacement:function(a,b){NativeLogin.errorPlacementFunction(a,b)}});return $("#popupSignupForm").valid()},validateSigninForm:function(){signinValidator=$("#popupLoginForm").validate({rules:{"user.username":{required:true,validateEmailorMobile:true},"user.password":{isPasswordRequired:true,minlength:8,strongPassword:true},otp:{isOtpRequired:true}},messages:{"user.username":{required:NativeLogin.emailErrorMsg(),validateEmailorMobile:NativeLogin.emailErrorMsg()},"user.password":{isPasswordRequired:NativeLogin.pwdReqdErrorMsg(),minlength:NativeLogin.pwdMinlengthErrorMsg(),strongPassword:NativeLogin.strongPwdErrorMsg()},otp:{isOtpRequired:NativeLogin.otpReqdErrorMsg()}},highlight:function(a){$("label[name=serverSideError]").addClass("dontshow")},errorPlacement:function(a,b){NativeLogin.errorPlacementFunction(a,b)}});return $("#popupLoginForm").valid()},validateForgotPassForm:function(){forgotPwdValidator=$("#popupForgotPassForm").validate({rules:{email:{required:true,validateEmail:true}},messages:{email:NativeLogin.resetPwdEmailErrorMsg()},highlight:function(b){$("label[name=serverSideError]").addClass("dontshow")},errorPlacement:function(b,c){NativeLogin.errorPlacementFunction(b,c)}});var a=$("#popupForgotPassForm #email").val();$("#activation_code_div #active_email").val(a);return $("#popupForgotPassForm").valid()},validateActivationCodeForm:function(){activationCodeValidator=$("#popupActivationCodeForm").validate({rules:{verifCode:{number:true}},messages:{verifCode:NativeLogin.constructErrorMessage("Uh-oh! Please enter a valid verification code")},highlight:function(c){$("label[name=serverSideError]").addClass("dontshow")},errorPlacement:function(c,d){NativeLogin.errorPlacementFunction(c,d)}});var b=$("#popupActivationCodeForm #active_email").val();$("#popupChangePasswordForm #change_email").val(b);var a=$("#popupActivationCodeForm #verifCode").val();$("#popupChangePasswordForm #resetpassword_verifCode").val(a);return $("#popupActivationCodeForm").valid()},validateChangePasswordForm:function(){changePwdValidator=$("#popupChangePasswordForm").validate({rules:{password:{required:true,minlength:8,strongPassword:true},confirmPassword:{required:true,equalTo:"#popupChangePasswordForm [name='password']"}},messages:{password:{required:NativeLogin.pwdReqdErrorMsg(),minlength:NativeLogin.pwdMinlengthErrorMsg(),strongPassword:NativeLogin.strongPwdErrorMsg()},confirmPassword:{required:NativeLogin.pwdReqdErrorMsg(),equalTo:NativeLogin.confirmPWdErrorMsg()}},highlight:function(a){$("label[name=serverSideError]").addClass("dontshow")},errorPlacement:function(a,b){NativeLogin.errorPlacementFunction(a,b)}});return $("#popupChangePasswordForm").valid()},constructErrorMessage:function(b){var c="<table><tr><td><span class='error-icon'><img src='images/icon-error.png' alt='Error'/></span></td><td><span class='error-info'>";var a="</span></td></tr></table>";return c+b+a},registerClicks:function(){$("#forgetpwd").click(function(){$("label[name=serverSideError]").addClass("dontshow");$("#loginTabs").addClass("dontshow");$("#loginTabContent").addClass("dontshow");$("#reset_pwd_div").removeClass("dontshow");$(".error-msg").addClass("dontshow")});$("div[name=back_to_login]").click(function(){$("#reset_pwd_div").addClass("dontshow");$("#activation_code_div").addClass("dontshow");$("#changePwd_div").addClass("dontshow");$("#loginTabs").removeClass("dontshow");$("#loginTabContent").removeClass("dontshow");$(".error-msg").addClass("dontshow");NativeLogin.clearForms()});$("#newUserTab").click(function(){$("#newuser").addClass("active");$("#exituser").removeClass("active");$("#continueLabel1").html("Sign up on BankBazaar");if(getParameterByName("referrer")=="credit-report"){$(".sign-in-box .modal-header p").html("(View a detailed analysis of your Credit Score)")}else{$(".sign-in-box .modal-header p").html("(You can save searches, track your apps & save plenty of time!)")}$(".error .input-error-cl").addClass("dontshow");$("label[name=serverSideError]").addClass("dontshow");$(".error-msg").addClass("dontshow");signupValidator.resetForm()});$("#exitUserTab").click(function(){$("#exituser").addClass("active");$("#newuser").removeClass("active");$("#continueLabel1").html("Log in to BankBazaar");$(".sign-in-box .modal-header p").html("(You can save searches, track your apps & save plenty of time!)");$(".error .input-error-cl").addClass("dontshow");$("label[name=serverSideError]").addClass("dontshow");$(".error-msg").addClass("dontshow");signinValidator.resetForm()});$("#signInBlock .new-user").click(function(){$("#exitUserli").removeClass("active");$("#newUserli").addClass("active");$("#newuser").addClass("active");$("#exituser").removeClass("active");$("#continueLabel1").html("Sign up on BankBazaar");if(getParameterByName("referrer")=="credit-report"){$(".sign-in-box .modal-header p").html("(View a detailed analysis of your Credit Score)")}else{$(".sign-in-box .modal-header p").html("(You can save searches, track your apps & save plenty of time!)")}$(".error .input-error-cl").addClass("dontshow");$("label[name=serverSideError]").addClass("dontshow");$(".error-msg").addClass("dontshow");signupValidator.resetForm()});$("#signUpBlock .existing-user").click(function(){$("#newUserli").removeClass("active");$("#exitUserli").addClass("active");$("#exituser").addClass("active");$("#newuser").removeClass("active");$("#continueLabel1").html("Log in to BankBazaar");$(".sign-in-box .modal-header p").html("(You can save searches, track your apps & save plenty of time!)");$(".error .input-error-cl").addClass("dontshow");$("label[name=serverSideError]").addClass("dontshow");$(".error-msg").addClass("dontshow");signinValidator.resetForm()});$(".loginbtn").click(function(){$("label[name=serverSideError]").addClass("dontshow")});$("div[name=skip_change_password]").click(function(){NativeLogin.onSuccessfulAuthentication("skipChangePwd")});var a=function(){$(".bb-login").animate({scrollTop:$(document).height()},1000)};$("#loginTabContent").click(a);$(".resetpwd").click(a)},clearForms:function(){$("label[name=serverSideError]").addClass("dontshow");$(".error .input-error-cl").addClass("dontshow");signupValidator.resetForm();signinValidator.resetForm();forgotPwdValidator.resetForm();activationCodeValidator.resetForm();changePwdValidator.resetForm()},showResetPassword:function(){$("#reset_pwd_div").addClass("dontshow");$("#activation_code_div").removeClass("dontshow")},showResetPasswordMobile:function(){$("#reset_pwd_div").addClass("dontshow");$("#activation_code_div").removeClass("dontshow");$("#verifCode").attr("placeholder","Enter verification code");$("#verificationCodeBlockButton").removeClass("dontshow");$("#emailActivationBlock").addClass("dontshow");$("#verificationCodeBlock").removeClass("dontshow");$("#trigger_otp_verif").removeClass("dontshow");$("#verificationCodeLabel").hide()},autoSignUpShowChangePassword:function(){$("label[name=serverSideError]").addClass("dontshow");$("#loginTabs").addClass("dontshow");$("#loginTabContent").addClass("dontshow");$(".error-msg").addClass("dontshow");$("#resetpwd_Message").addClass("dontshow");$("div[name=back_to_login]").addClass("dontshow");$("#autoSignUp_resetpwd_Message").removeClass("dontshow");$("div[name=skip_change_password]").removeClass("dontshow");$("#changePwd_div").removeClass("dontshow")},showChangePassword:function(){$("#activation_code_div").addClass("dontshow");$("#resetpwd_Message").removeClass("dontshow");$("div[name=back_to_login]").removeClass("dontshow");$("#autoSignUp_resetpwd_Message").addClass("dontshow");$("div[name=skip_change_password]").addClass("dontshow");$("#changePwd_div").removeClass("dontshow")}};function verificationCompletedHandler(a){var b=$(a).closest("form").attr("id");if(b=="popupSignupForm"){$("#signUpNative").trigger("signUpSuccess");NativeLogin.onSuccessfulAuthentication("SignUp")}else{$("#signInNative").trigger("loginSuccess");NativeLogin.onSuccessfulAuthentication("SignIn")}}function triggerWebEvent(f,b,d,a){var e={};var c=[];c.push(d);e.other=c;reportCodeDrivenEvent(f,b,e,a)}function showLoginIfRequiredThenForward(a,b,d,c){if(isUserLoggedIn()){window.location.href=b;return false}else{showLoginAndFireEvent(a,d,c);addTrackerElement(FORWARD_URL,b)}}function showLoginAndFireEvent(k,g,h){var d=getNativeSignInElement();d.modal("show");eventData={};triggerWebEvent($("#pageName").val(),"loginModal",eventData,"load");loadSocialPlugin();SocialLogin.init();var a=LOGIN_TEXT;var f="loginAttempt";var j="Log in to BankBazaar";if(k==LoginSource.SHORTLIST_OFFER){j="Login to Shortlist Offers"}else{if(k==LoginSource.SAVE_FOR_LATER){j="Login to Save Offers"}else{if(k==LoginSource.APP_TRACK_STATUS){j="Account Setup"}else{if(k==LoginSource.APP_EMAIL_LINK){j="Login to Email link"}else{if(k==LoginSource.APP_PAGE_STICKY){j="PSST... WHY NOT SIGN UP?"}else{if(k==LoginSource.APP_SAVE){j="Login to Save Application"}}}}}}if($("#isBootstrapPage").val()=="true"){getNativeLoginViaAjax(k);d.modal("show");d.find(".modal-title").text(j)}if(g!=undefined&&g=="new"){$("#exitUserli").removeClass("active");$("#exituser").removeClass("active");$("#newUserli").addClass("active");$("#newuser").addClass("active")}else{$("#exitUserli").addClass("active");$("#exituser").addClass("active");$("#newUserli").removeClass("active");$("#newuser").removeClass("active")}var b=getParameterByName("userType");if(b=="NEW"){$("#exitUserli").removeClass("active");$("#exituser").removeClass("active");$("#newUserli").addClass("active");$("#newuser").addClass("active");j="Sign up on BankBazaar"}else{$("#exitUserli").addClass("active");$("#exituser").addClass("active");$("#newUserli").removeClass("active");$("#newuser").removeClass("active");j="Log in to BankBazaar"}d.find(".modal-title").text(j);if(getParameterByName("referrer")=="credit-report"){$("body").addClass("ct-login");var c="";if(b=="NEW"){c="Credit-report-fetch-firsttime"}else{if(b=="EXISTING"){c="Credit-report-fetch-existingcustomer"}}dataLayer.push({event:"sendEvent",eventCategory:"CTPullUserType",eventAction:c,nonInteraction:true})}else{if(getParameterByName("referrer")=="no-credit-report"){dataLayer.push({event:"sendEvent",eventCategory:"CTPullUserType",eventAction:"Credit-report-fetch-failure",nonInteraction:true})}}setDataActionLocForLogin(k);logLoginEvent("loadLoginModal");BB_trackGoogleEventWithLabel(a,f,k);addTrackerElement("signInFrom",k);trackVirtualPageForLoginModal();removeTrackerElement(FORWARD_URL);if(h==undefined){return}stopPropogating(h)}function getNameSpaceForLoginTracking(){var c="";var b=$("#productNameSpace").val();var a=$("#pageGroup").val();if(b!=undefined&&b!=""){c=b}else{if(a!=undefined&&a!=""){c=a}else{var d=getParameterByName("referrer",null);if(d=="credit-report"||d=="no-credit-report"){c="credit-report"}}}return c}function trackVirtualPageForLoginModal(){var a="virtual-"+getNameSpaceForLoginTracking();var b=a+"/"+getCurrentLoginSource()+"Login";BB_trackGoogleVirtualPageView(b)}function stopPropogating(a){a=a||event;if(a.bubbles&&a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}return false}function iframeLoginListener(b){if((b.origin.indexOf(window.location.hostname)!=-1)&&(b.data!=null)&&typeof(b.data)==="string"){var a=b.data.split(";");clearverificationStep();$('[data-toggle="tooltip"]').tooltip();$("#attemptsLeft").val(a[2]);if(a.length>=4){$("#popupChangePasswordForm #resetpassword_verifCode").val(a[3])}$(".error-msg").addClass("dontshow");if(a.length>=2&&a[0]!=null&&a[1]!=null){if(a[0]=="signUp"){NativeLogin.validateSignupResult(a[1]);$("#signUpNative").prop("disabled",false)}else{if(a[0]=="signIn"){NativeLogin.validateSigninResult(a[1]);$("#signInNative").prop("disabled",false)}else{if(a[0]=="sendVerificationCode"){NativeLogin.validateForgotPassResult(a[1]);$("#forgot_pwd_btn").prop("disabled",false)}else{if(a[0]=="confirmVerificationCode"){NativeLogin.validateVerificationCodeResult(a[1])}else{if(a[0]=="changePassword"){NativeLogin.validateChangePasswordResult(a[1])}}}}}$(".js-signUpNative_submit_verif").prop("disabled",false)}}}function showLogout(){$("#login-status-span").toggleClass("open")}function getTrackerValue(b){var a=$("#"+b);if(a!=null&&a.length>0&&a.val()!=null&&a.val()!=""){return a.val()}return null}function addTrackerElement(c,a){if($("#"+c).length>0){$("#"+c).val(a)}else{var b=$("<input>");b.val(a);b.attr("id",c);b.attr("type","hidden");getNativeSignInElement().append(b)}}function removeTrackerElement(a){$("#"+a).remove()}function trackLoginSuccessEvent(c,a){if((c!="NATIVE_LOGIN")&&(!$("#logged-in-type").length>0)){addTrackerElement("loginResponse",c)}var b=$("#logged-in-type").val();var d;if("NATIVE_LOGIN"===c){if("SignUp"==a){if(validMobile($("#useremail").val())){d="bbLoginMobile"+a}else{d="bbLogin"+a}}else{if("SignIn"==a){if(validMobile($("#user.email").val())){d="bbLoginMobile"+a}else{d="bbLogin"+a}}else{d=a}}}else{if("FACEBOOK"===b){d="fbLogin";logLoginEvent(d+"-success-"+initial_fb_connected_status);BB_trackGoogleEventWithLabel(LOGIN_TEXT,d+"-success-"+initial_fb_connected_status,getCurrentLoginSource())}else{if("GOOGLE"===b){d="googleLogin"}}}logLoginEvent(d);BB_trackGoogleEventWithLabel(LOGIN_TEXT,d,getCurrentLoginSource())}function trackSocialLoginSuccessEvent(a){var b;if("FACEBOOK"===a){b="fbLogin"}else{if("GOOGLE"===a){b="googleLogin"}}logLoginEvent(b);BB_trackGoogleEventWithLabel(LOGIN_TEXT,b,getCurrentLoginSource())}function getCurrentLoginSource(){return $("#signInFrom").val()}function isUserLoggedIn(){return($("#logged-in-status").val()=="true")}function trackingLoginError(a){logLoginEvent(a);BB_trackGoogleEventWithLabel(LOGIN_TEXT,a,getCurrentLoginSource())}function getNativeSignInElement(){if($("#isBootstrapPage").val()!="true"){return $("#sign-in-box")}else{return $("#js-sign-in-box")}}function getNativeLoginViaAjax(a){$.ajax({url:"/getNativeLoginWidget.html?productNameSpace="+$("#productNameSpace").val(),async:false,success:function(b){$("#nativeLogin").html(b);initTrackEvents($("#nativeLogin"));NativeLogin.registerClicks();if($("#popupActivationCodeForm").length>0){NativeLogin.validateSignupForm();NativeLogin.validateSigninForm();NativeLogin.validateForgotPassForm();NativeLogin.validateActivationCodeForm();NativeLogin.validateChangePasswordForm();removeServerError()}if(window.addEventListener){addEventListener("message",iframeLoginListener,false)}else{attachEvent("onmessage",iframeLoginListener)}$("#signUpNative").on("click",function(c){c.preventDefault();$("#signUpNative").attr("data-name","source");if(validateEmail($("#signUpNative").val())){$("#signUpNative").attr("data-value","email")}else{(validMobile($("#signUpNative").val()))}$("#signUpNative").attr("data-value","mobile");$("#signUpNative").trigger("clickSignUp");$("#popupSignupForm").submit();if($("#popupSignupForm").valid()){$("#signUpNative").prop("disabled",true)}$("#bb-gateway-signin").addClass("dontshow")});$("#signInNative").on("click",function(c){c.preventDefault();$("#signInNative").attr("data-name","source");if(validateEmail($("#signUpNative").val())){$("#signInNative").attr("data-value","email")}else{(validMobile($("#signInNative").val()))}$("#signInNative").attr("data-value","mobile");$("#signInNative").trigger("clickLogin");$("#popupLoginForm").submit();if($("#popupLoginForm").valid()){$("#signInNative").prop("disabled",true)}$("#bb-gateway-signin").addClass("dontshow")});$(".js-signUpNative_submit_verif").on("click",function(c){$(c.target).prop("disabled",true);submitOtp(this,"verifyOtp")});$("#pwd_reset_btn").on("click",function(c){c.preventDefault();$("#popupForgotPassForm").submit();if($("#popupForgotPassForm").valid()){$("#forgot_pwd_btn").prop("disabled",true)}});$(".js-nospace").on("keypress",function(c){if(c.which===32){c.preventDefault()}});hideAndShowPasswordField("popupSignupForm","useremail","signup-password-div-js");hideAndShowPasswordField("popupLoginForm","user.email","signin-password-div-js");disallowPaste("popupLoginForm","user\\.email","false");disallowPaste("popupSignupForm","useremail","false");disallowPaste("popupLoginForm","otp","true");disallowPaste("popupSignupForm","otp","true");if($("#isEmailLoginEnabled").val()=="false"){removeNonDigitInputs("popupLoginForm","user\\.email");removeNonDigitInputs("popupSignupForm","useremail")}$("#popupLoginForm #user\\.email").keypress(function(c){if(c.which==13){$("#signInNative").click()}});$("#popupSignupForm #useremail").keypress(function(c){if(c.which==13){$("#signUpNative").click()}});$("#popupLoginForm #otp").keypress(function(c){if(c.which==13){submitOtp(this,"verifyOtp")}});$("#popupSignupForm #otp").keypress(function(c){if(c.which==13){submitOtp(this,"verifyOtp")}});$("#signUpNative").on("click",function(c){if($("#popupSignupForm").valid()){setEventDetails("signUpNative");logLoginEvent("signUpNative");BB_trackGoogleEventWithLabel("userData","enterEmail",a);BB_trackGoogleEventWithLabel(LOGIN_TEXT,"bbLoginAttemptSignUp",getCurrentLoginSource())}});$("#signInNative").on("click",function(c){if($("#popupLoginForm").valid()){setEventDetails("signInNative");logLoginEvent("signInNative");BB_trackGoogleEventWithLabel("userData","enterEmail",a);BB_trackGoogleEventWithLabel(LOGIN_TEXT,"bbLoginAttempt",getCurrentLoginSource())}})}});if($("#popupActivationCodeForm").length>0){NativeLogin.clearForms()}}function removeNonDigitInputs(b,a){$("#"+b+" #"+a).on("input",function(d){var c=$("#"+b+" #"+a).val();if(!containsOnlyDigits(c)){$("#"+b+" #"+a).val("")}})}function disallowPaste(c,b,a){$("#"+c+" #"+b).bind("paste",function(f){var g=$("#isEmailLoginEnabled").val();if(g=="false"||a=="true"){var d=f.originalEvent.clipboardData.getData("text");if(!containsOnlyDigits(d)){f.preventDefault()}}})}function isDigitEntered(b){var a=b.which?String.fromCharCode(b.which):String.fromCharCode(b.keyCode);return containsOnlyDigits(a)}function containsOnlyDigits(b){var a=new RegExp("^[0-9]{1,10}$");return a.test(b)}function hideAndShowPasswordField(c,a,b){var d=$("#isEmailLoginEnabled").val();$("#"+c).find(".form-control").bind("input",function(){if(d!="false"){var e=($('input[id="'+a+'"]').val());if(e!=null&&e!=""&&validMobileEmail(e)&&validEmail(e)){$("#"+b).addClass("show")}else{$("#"+b).removeClass("show")}}})}function logLoginEvent(c){var a=getParameterByName("referrer");if(a=="credit-report"||a=="no-credit-report"){var b=getParameterByName("smartLanding")==="true"?"SL":"NonSL";var d=getParameterByName("userType");BB_trackGoogleEventWithLabel("ctLogin",b+d+a,c)}}function showLoginModal(){if(!isInternalAccess()&&$("input#loggedin").val()!="true"){SocialLogin.init();getNativeSignInElement().modal("show")}}var LOGIN_TEXT="login";LoginSource={NAV_BAR:"navBar",RECENT_SEARCH_WIDGET:"recentSearchWidget",EXIT_BLOCKER:"exitBlocker",HELLO_PAGE:"helloPage",GET_STARTED:"getStarted",SHORTLIST_OFFER:"shortlistOffer",SHORTLISTED_OFFER:"shortlistedOffer",SAVE_FOR_LATER:"saveForLater",APP_SAVE:"appSave",CONGRATS_PAGE:"congratsPage",AUTO_PULL_CREDIT_REPORT_SMS:"autoPullCreditReportSms",APP_EMAIL_LINK:"appEmailLink",APP_PAGE_STICKY:"appPageSticky",APP_TRACK_STATUS:"appTrackStatus",NAV_BAR_OLD:"navBarOld",HELP_CENTRE:"helpCentre",MY_ACCOUNT:"myAccount",OFFER_INSERTS:"offerInserts",INVEST_NOW:"investNow",AUTO_SIGNUP_EMAIL:"autoSignupEmail",WHY_BANKBAZAAR:"whyBankBazaar",CT_INVALID_TOKEN:"ctInvalidToken"};var initial_fb_connected_status="NOT_SET";var gplus_auto_login_flag=false;var fb_auto_login_flag=false;var social_auto_login=false;var auto_signup_logged_in=false;var LOGIN_SRC_FB="a0056698f3e52c773755a11d";var LOGIN_SRC_GPLUS="b5d582f836c4da9bc9f9b532";var LOGIN_SRC_BB="ce8b591129885ac9005fc278ad86";$(document).ready(function(){$(document).on("hide.bs.modal","#js-sign-in-box",function(){if($("#pageName").val()=="newBootstrapAppPage"){$("#js-sign-in-box").find(".js-close").trigger("close")}if(auto_signup_logged_in){var a=$("#autoSignUpForwardUrl").val();window.location.href=a}});SocialLogin.init();if(checkForRememberMeLogin()){fetchLoginHeader()}$('#nativeLogin input[type="text"]').live("focus",(function(){$(".login-icon").addClass("username-bg")}));$('#nativeLogin input[type="text"]').live("blur",(function(){$(".login-icon").removeClass("username-bg")}));$('#nativeLogin input[type="password"]').live("focus",(function(){setTimeout(function(){$(".login-icon").addClass("password-bg")},900)}));$('#nativeLogin input[type="password"]').live("blur",(function(){setTimeout(function(){$(".login-icon").removeClass("password-bg")},900)}))});function isPopupRequest(c){var a=(!isMobileSite());if($("#pageGroup").length&&$("#pageGroup").val()=="credit-tracker"){a=true}var b=getParameterByName("referrer");if(b=="credit-report"||b=="no-credit-report"){a=true}if(c!=null&&(c.hasClass("sign-in-popup"))){a=true}return a}function attemptAutoSocialLogin(){if(checkForAutoSocialLogin()){social_auto_login=true;sessionStorage.social_auto_login=true;if(getLoggedInTypeFromCookie()==LOGIN_SRC_FB){social_auto_login=true;fb_auto_login_flag=true;loadSocialPlugin()}else{if(getLoggedInTypeFromCookie()==LOGIN_SRC_GPLUS){social_auto_login=true;gplus_auto_login_flag=true;loadSocialPlugin()}}}else{if(getLoggedInTypeFromCookie()==LOGIN_SRC_BB){if(!sessionStorage.bb_login_reported_flag&&checkIfAutoLoginFromCookie()){reportAutoLoginEvent("login","BB");sessionStorage.bb_login_reported_flag=true}}}}function setEventDetails(g,f){var b;if(g=="fb"){b=$(".sign-in-fb").attr("data-actionLoc").split(":")[1]}else{if(g=="google"){b=$(".sign-in-google").attr("data-actionLoc").split(":")[1]}else{if(g=="signUpNative"){b=$("#signUpNative").parents("#nativeLogin").attr("data-actionLoc").split(":")[1]}else{if(g=="signInNative"){b=$("#signInNative").parents("#nativeLogin").attr("data-actionLoc").split(":")[1]}else{if(g=="fbReviewPage"){b=$("#facebook-login").attr("data-actionLoc").split(":")[1]}else{if(g=="googleReviewPage"){b=$("#googleplus-login").attr("data-actionLoc").split(":")[1]}else{if(g=="autoSignUp"){b=$("#autoSignUp").attr("data-actionLoc").split(":")[1]}}}}}}}var a=$("#pageName").val();var e=$("#productNameSpace").val();var c="/setEventDetails.html?ajax=true&pageName="+a+"&location="+b+"&productName="+e;var d=getTrackerValue(FORWARD_URL);if(d==null||d==""){d=window.location.href}c=addURLParameter(c,FORWARD_URL,d);c=addURLParameter(c,POPUP,isPopupRequest(f));$.ajax({method:"get",async:true,url:c,success:function(h){if(popupWindow!=undefined&&popupWindow.location!=undefined){if(g=="fb"||g=="fbReviewPage"){popupWindow.location.href=SocialLogin.FB.getPopupURL(isPopupRequest(f))}else{if(g=="google"||g=="googleReviewPage"){popupWindow.location.href=SocialLogin.GPLUS.getPopupURL(isPopupRequest(f))}}}}})}function reportSameWindowLoginResult(){var a=getLoginResultMap();if(a&&a.loginAttempted&&a.loginAttempted=="true"){var b=a.customerType;if(a.status=="success"){trackSocialLoginSuccessEvent(b)}else{if(a.status=="failure"){trackLoginFailureEvent(b)}}}}function checkForAutoSocialLogin(){if(isUserLoggedIn()){return false}if(!getLoggedInTypeFromCookie()||getLoggedInTypeFromCookie()==LOGIN_SRC_BB){return false}return true}function checkForRememberMeLogin(){if(isUserLoggedIn()){return false}var a=$.cookie("loggedIn");if(a!=undefined&&"true"==a){return true}var b=$.cookie("attempt_auto_login");if(b!=undefined&&b!=null&&b=="true"){$.removeCookie("attempt_auto_login");return true}return false}function removeSocialLoginCookie(){reportAutoLoginEvent("logout",getLoggedInTypeFromCookiePlain());$.removeCookie("slc_t");$.removeCookie("slc_id")}function getLoggedInTypeFromCookie(){return $.cookie("slc_t")}function getSocialLoginAccountId(){return $.cookie("slc_id")}function getLoggedInTypeFromCookiePlain(){var a=getLoggedInTypeFromCookie();if(a==LOGIN_SRC_FB){return"fb"}else{if(a==LOGIN_SRC_GPLUS){return"google"}else{return"native"}}}function checkIfAutoLoginFromCookie(){return !($.cookie("slc_f"))}function reportAutoLoginEvent(a,b){BB_trackGoogleEventWithLabel(LOGIN_TEXT,b+"-auto-"+a,getLoggedInTypeFromCookiePlain())}function fetchLoginHeader(){$.ajax({cache:false,data:{isBootstrapPage:$("#isBootstrapPage").val()},url:"/ajax-login-status.html",type:"post",success:function(a){if(typeof $.unblockUI=="function"){$.unblockUI()}var b=getNativeSignInElement();if(typeof b.modal=="function"){b.modal("hide")}$("#login-status").html(a);bindCustomerDBDropDownForDesktop();$("input#loggedin").val("true");$(".connect-bb").slideUp(1000);$("#previous-section-indicator").hide();$("body").trigger("customerLoggedIn");$(".hide-upon-login").addClass("dontshow");$("#login-status-span").on("mouseenter",function(){$("#login-status-span").addClass("open")});$("#login-status-span").on("mouseleave",function(){$("#login-status-span").removeClass("open")});if($(".save-later")!=null&&$(".save-later").length){$(".save-later").css("display","none")}$(".saveThisOfferMobile").remove();if($("#pageName").val()=="newBootStrapMyAccount"){if(window.location.hash&&window.location.hash=="#_=_"){window.location.hash=""}window.location.href=new URI().removeSearch("code")}if(isMobileSite()){if(getCurrentLoginSource()==LoginSource.NAV_BAR){$("#sidemenu").trigger("click")}$(".js-side-menu-list").append("<li class='no-arrow'><a href='/logout.html' id='sign-out-ajax' data-actionLoc='app:menu' data-action='click:logout' title='Logout' class='sprite-menu bbicons-logout'>Logout</a></li>")}trackLoginSuccessEvent(a);$(".bb-sale-icon").addClass("bb-sale-icon-disabled")}})}function successLoginHandler(){$("#logged-in-status").val("true");if(isMobileSite()){reAdjustFilterSticky()}var e=getParameterByName("referrer",null);var b=getParameterByName("uid",null);if(e=="credit-report"||e=="no-credit-report"){$("#credit-tracker-loader").css("display","block");$("#credit-tracker-loader").modal("show");if($("#mobileSite").val()!="true"){$("#landingPageReviews").css("position","inherit")}var a="";var d="?";d+=global.getUtmParamsString();if(getParameterByName("smartLanding")=="true"){d+="&smartLanding=true"}$.ajax({type:"GET",url:"bind-or-redirect-customer.html?uid="+b,dataType:"json",success:function(g){if(g=="CREDIT_REPORT"){a="/credit-report.html"+d}else{if(g=="CHALLENGE_QUESTION"){a="/credit-report/challenge-questions.html"+d}else{if(g=="REPORT_RELOAD"){a="/credit-report.html"+d}else{if(g=="NO_REPORT"){a="/no-credit-report.html"+d}}}}window.location.href=a}})}var c=getTrackerValue(FORWARD_URL);if(c!=null){window.location.href=c}else{var f=$("#signUpIframe").contents().find("#targetUrl").val();if(f==undefined){f=$("#signInIframe").contents().find("#targetUrl").val()}if(f){window.location.href=f}else{fetchLoginHeader()}GlobalEventManagers.loginEventManager.trigger("loginSuccess",{})}}function trackLoginFailureEvent(a){var b;if(sessionStorage.social_auto_login==true){b="AutoLoginError";sessionStorage.social_auto_login=false}else{b="LoginError"}if("FACEBOOK"==a){b="fb"+b}else{if("GOOGLE"==a){b="google"+b}}trackingLoginError(b)}function failureLoginHandler(a){trackLoginFailureEvent(a)}function checkMobileRange(b){if($("#mobileValidationRegex")&&$("#mobileValidationRegex").val()){var a=new RegExp($("#mobileValidationRegex").val());return a.test(b)}if($("#sector")&&$("#sector").val()=="INDIA"){return(b>=6000000000&&b<10000000000&&b.length<11)}else{return(b>=80000000&&b<100000000&&b.length<9)}}function validMobile(b){var a=b==undefined||b==""||checkMobileRange(b);return a}function validMobileEmail(d){var e=$("#isEmailLoginEnabled").val();var c=/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i;var b=e=="false"?false:c.test(d);var a=d==undefined||d==""||checkMobileRange(d);return a||b}function validEmail(b){var a=/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i;return a.test(b)}$.validator.addMethod("isPasswordRequired",function(b,a){if($(a.parentNode).hasClass("show")){if(b!=null&&b!=""){return true}}else{return true}return false},NativeLogin.pwdReqdErrorMsg());$.validator.addMethod("validateEmail",function(b,a){return validEmail(b)},NativeLogin.resetPwdEmailErrorMsg());$.validator.addMethod("validateEmailorMobile",function(b,a){if(!containsOnlyDigits($(a).val())&&$("#isEmailLoginEnabled").val()=="false"){$(a).val("");b=""}return validMobileEmail(b)},NativeLogin.emailErrorMsg());$.validator.addMethod("isOtpRequired",function(b,a){if($(a).is(":visible")){if(b==""||b==null){return false}}return true},NativeLogin.otpReqdErrorMsg());$.validator.addMethod("strongPassword",function(a,b){return/[0-9]/.test(a)&&/[a-zA-Z]/.test(a)},"Password must contain at least one digit (0-9) and one alphabet.");function resendVerification(a,c){var d=$(c).closest("form").attr("id");var b=$("#"+d).find("#"+a);b.addClass("dontshow");var e=$("#"+d).find("#"+a+"_timer");$.ajax({type:"GET",cache:true,async:false,url:"/resendOtp.html",statusCode:{403:function(){var f=$("#"+d).find(".error-msg");f.addClass("dontshow");$("#"+d).find(".error-msg .error-info").html("Session Expired. Please refresh the page.");f.removeClass("dontshow");$("#"+d).find$(".input-error-cl").removeClass("dontshow")},200:function(f){var g=$("#"+d).find(".error-msg");g.addClass("dontshow");var j=$("#"+d).find(".error-msg .error-info");var h=$("#"+d).find(".input-error-cl");if(f=="exceededResendOtpAttempts"){j.html("Maximum OTP resend attempts exceeded. Please try again after an hour.");g.removeClass("dontshow");h.removeClass("dontshow")}else{if(f=="resignup"){j.html("Session Expired. Please sign-up again.");g.removeClass("dontshow");h.removeClass("dontshow")}else{e.removeClass("dontshow");countdown(10,e,b)}}}}})}function countdown(d,a,c){var e=d%60;function b(){d--;a.html("You will get OTP in <span>"+(d<10?"0":"")+String(d)+"</span> seconds");if(d>0){timeoutHandle=setTimeout(b,1000)}else{var f=a.siblings(".tooltip");if(f!=undefined&&f!=null){f.remove()}a.addClass("dontshow");c.removeClass("dontshow")}}b()}function clearverificationStep(){$("input[name=verification]").val("")}function submitOtp(a,c){var b=$(a).closest("form").attr("id");if(b=="popupSignupForm"){$("#popupSignupForm .mobileVerficationStep").val(c);$("#popupSignupForm").submit()}else{$("#popupLoginForm .mobileVerficationStep").val(c);$("#popupLoginForm").submit()}}function removeServerError(){$(".form-control").on("click",function(a){$(".error-msg").addClass("dontshow")})}function setDataActionLocForLogin(a){$(".btn-facebook").attr("data-actionLoc",$("#pageName").val()+":"+a);$(".btn-googleplus").attr("data-actionLoc",$("#pageName").val()+":"+a);$(".js-close").attr("data-actionLoc",$("#pageName").val()+":"+a);$("#nativeLogin").attr("data-actionLoc",$("#pageName").val()+":"+a)}function connectToFaceBook(){if(popupWindow&&!popupWindow.closed){return}loadSocialPlugin();SocialLogin.init()}function reAdjustFilterSticky(){var a=$("#sticky-save-button");if(a!=undefined&&a.length>0){var b=a.parent();if(b!=undefined&&b.length>0){a.remove();b.addClass("nav-two")}}}function hideErrorForCodeField(){$(".otp-err-msg").addClass("dontshow")}
/*! URI.js v1.15.1 http://medialize.github.io/URI.js/ */
(function(b,a){"object"===typeof exports?module.exports=a():"function"===typeof define&&define.amd?define(a):b.IPv6=a(b)})(this,function(b){var a=b&&b.IPv6;return{best:function(k){k=k.toLowerCase().split(":");var m=k.length,c=8;""===k[0]&&""===k[1]&&""===k[2]?(k.shift(),k.shift()):""===k[0]&&""===k[1]?k.shift():""===k[m-1]&&""===k[m-2]&&k.pop();m=k.length;-1!==k[m-1].indexOf(".")&&(c=7);var d;for(d=0;d<m&&""!==k[d];d++){}if(d<c){for(k.splice(d,1,"0000");k.length<c;){k.splice(d,0,"0000")}}for(d=0;d<c;d++){for(var m=k[d].split(""),f=0;3>f;f++){if("0"===m[0]&&1<m.length){m.splice(0,1)}else{break}}k[d]=m.join("")}var m=-1,p=f=0,j=-1,o=!1;for(d=0;d<c;d++){o?"0"===k[d]?p+=1:(o=!1,p>f&&(m=j,f=p)):"0"===k[d]&&(o=!0,j=d,p=1)}p>f&&(m=j,f=p);1<f&&k.splice(m,f,"");m=k.length;c="";""===k[0]&&(c=":");for(d=0;d<m;d++){c+=k[d];if(d===m-1){break}c+=":"}""===k[m-1]&&(c+=":");return c},noConflict:function(){b.IPv6===this&&(b.IPv6=a);return this}}});(function(P){function M(e){throw RangeError(G[e])}function N(g,h){for(var k=g.length;k--;){g[k]=h(g[k])}return g}function m(f,g){return N(f.split(O),g).join(".")}function Q(g){for(var p=[],q=0,n=g.length,h,r;q<n;){h=g.charCodeAt(q++),55296<=h&&56319>=h&&q<n?(r=g.charCodeAt(q++),56320==(r&64512)?p.push(((h&1023)<<10)+(r&1023)+65536):(p.push(h),q--)):p.push(h)}return p}function K(e){return N(e,function(g){var h="";65535<g&&(g-=65536,h+=A(g>>>10&1023|55296),g=56320|g&1023);return h+=A(g)}).join("")}function c(e,g){return e+22+75*(26>e)-((0!=g)<<5)}function J(g,n,p){var h=0;g=p?j(g/700):g>>1;for(g+=j(g/n);455<g;h+=36){g=j(g/35)}return j(h+36*g/(g+38))}function F(z){var u=[],v=z.length,q,C=0,y=128,w=72,p,n,B,t,h;p=z.lastIndexOf("-");0>p&&(p=0);for(n=0;n<p;++n){128<=z.charCodeAt(n)&&M("not-basic"),u.push(z.charCodeAt(n))}for(p=0<p?p+1:0;p<v;){n=C;q=1;for(B=36;;B+=36){p>=v&&M("invalid-input");t=z.charCodeAt(p++);t=10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:36;(36<=t||t>j((2147483647-C)/q))&&M("overflow");C+=t*q;h=B<=w?1:B>=w+26?26:B-w;if(t<h){break}t=36-h;q>j(2147483647/t)&&M("overflow");q*=t}q=u.length+1;w=J(C-n,q,0==n);j(C/q)>2147483647-y&&M("overflow");y+=j(C/q);C%=q;u.splice(C++,0,y)}return K(u)}function a(w){var y,u,v,R,D,B,p,n,E,b=[],h,S,C;w=Q(w);h=w.length;y=128;u=0;D=72;for(B=0;B<h;++B){E=w[B],128>E&&b.push(A(E))}for((v=R=b.length)&&b.push("-");v<h;){p=2147483647;for(B=0;B<h;++B){E=w[B],E>=y&&E<p&&(p=E)}S=v+1;p-y>j((2147483647-u)/S)&&M("overflow");u+=(p-y)*S;y=p;for(B=0;B<h;++B){if(E=w[B],E<y&&2147483647<++u&&M("overflow"),E==y){n=u;for(p=36;;p+=36){E=p<=D?1:p>=D+26?26:p-D;if(n<E){break}C=n-E;n=36-E;b.push(A(c(E+C%n,0)));n=j(C/n)}b.push(A(c(n,0)));D=J(u,S,v==R);u=0;++v}}++u;++y}return b.join("")}var x="object"==typeof exports&&exports,L="object"==typeof module&&module&&module.exports==x&&module,H="object"==typeof global&&global;if(H.global===H||H.window===H){P=H}var s,d=/^xn--/,I=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=Math.floor,A=String.fromCharCode,o;s={version:"1.2.3",ucs2:{decode:Q,encode:K},decode:F,encode:a,toASCII:function(e){return m(e,function(f){return I.test(f)?"xn--"+a(f):f})},toUnicode:function(e){return m(e,function(f){return d.test(f)?F(f.slice(4).toLowerCase()):f})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd){define(function(){return s})}else{if(x&&!x.nodeType){if(L){L.exports=s}else{for(o in s){s.hasOwnProperty(o)&&(x[o]=s[o])}}}else{P.punycode=s}}})(this);(function(b,a){"object"===typeof exports?module.exports=a():"function"===typeof define&&define.amd?define(a):b.SecondLevelDomains=a(b)})(this,function(c){var a=c&&c.SecondLevelDomains,b={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(g){var d=g.lastIndexOf(".");if(0>=d||d>=g.length-1){return !1}var f=g.lastIndexOf(".",d-1);if(0>=f||f>=d-1){return !1}var j=b.list[g.slice(d+1)];return j?0<=j.indexOf(" "+g.slice(f+1,d)+" "):!1},is:function(g){var d=g.lastIndexOf(".");if(0>=d||d>=g.length-1||0<=g.lastIndexOf(".",d-1)){return !1}var f=b.list[g.slice(d+1)];return f?0<=f.indexOf(" "+g.slice(0,d)+" "):!1},get:function(g){var d=g.lastIndexOf(".");if(0>=d||d>=g.length-1){return null}var f=g.lastIndexOf(".",d-1);if(0>=f||f>=d-1){return null}var j=b.list[g.slice(d+1)];return !j||0>j.indexOf(" "+g.slice(f+1,d)+" ")?null:g.slice(f+1)},noConflict:function(){c.SecondLevelDomains===this&&(c.SecondLevelDomains=a);return this}};return b});(function(b,a){"object"===typeof exports?module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b)})(this,function(X,U,V,A){function Y(e,g){var f=1<=arguments.length,b=2<=arguments.length;if(!(this instanceof Y)){return f?b?new Y(e,g):new Y(e):new Y}if(void 0===e){if(f){throw new TypeError("undefined is not a valid argument for URI")}e="undefined"!==typeof location?location.href+"":""}this.href(e);return void 0!==g?this.absoluteTo(g):this}function S(b){return b.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(b){return void 0===b?"Undefined":String(Object.prototype.toString.call(b)).slice(8,-1)}function R(b){return"Array"===c(b)}function N(g,n){var k={},f,h;if("RegExp"===c(n)){k=null}else{if(R(n)){for(f=0,h=n.length;f<h;f++){k[n[f]]=!0}}else{k[n]=!0}}f=0;for(h=g.length;f<h;f++){if(k&&void 0!==k[g[f]]||!k&&n.test(g[f])){g.splice(f,1),h--,f--}}return g}function a(g,n){var k,f;if(R(n)){k=0;for(f=n.length;k<f;k++){if(!a(g,n[k])){return !1}}return !0}var h=c(n);k=0;for(f=g.length;k<f;k++){if("RegExp"===h){if("string"===typeof g[k]&&g[k].match(n)){return !0}}else{if(g[k]===n){return !0}}}return !1}function L(f,h){if(!R(f)||!R(h)||f.length!==h.length){return !1}f.sort();h.sort();for(var g=0,e=f.length;g<e;g++){if(f[g]!==h[g]){return !1}}return !0}function T(b){return escape(b)}function P(b){return encodeURIComponent(b).replace(/[!'()*]/g,T).replace(/\*/g,"%2A")}function K(b){return function(f,e){if(void 0===f){return this._parts[b]||""}this._parts[b]=f||null;this.build(!e);return this}}function m(b,e){return function(g,f){if(void 0===g){return this._parts[b]||""}null!==g&&(g+="",g.charAt(0)===e&&(g=g.substring(1)));this._parts[b]=g;this.build(!f);return this}}var Q=A&&A.URI;Y.version="1.15.1";var W=Y.prototype,O=Object.prototype.hasOwnProperty;Y._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:Y.duplicateQueryParameters,escapeQuerySpace:Y.escapeQuerySpace}};Y.duplicateQueryParameters=!1;Y.escapeQuerySpace=!0;Y.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;Y.idn_expression=/[^a-z0-9\.-]/i;Y.punycode_expression=/(xn--)/i;Y.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;Y.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;Y.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;Y.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};Y.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};Y.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;Y.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};Y.getDomAttribute=function(b){if(b&&b.nodeName){var e=b.nodeName.toLowerCase();return"input"===e&&"image"!==b.type?void 0:Y.domAttributes[e]}};Y.encode=P;Y.decode=decodeURIComponent;Y.iso8859=function(){Y.encode=escape;Y.decode=unescape};Y.unicode=function(){Y.encode=P;Y.decode=decodeURIComponent};Y.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}};Y.encodeQuery=function(b,f){var e=Y.encode(b+"");void 0===f&&(f=Y.escapeQuerySpace);return f?e.replace(/%20/g,"+"):e};Y.decodeQuery=function(b,f){b+="";void 0===f&&(f=Y.escapeQuerySpace);try{return Y.decode(f?b.replace(/\+/g,"%20"):b)}catch(e){return b}};var s={encode:"encode",decode:"decode"},M,J=function(b,e){return function(g){try{return Y[e](g+"").replace(Y.characters[b][e].expression,function(h){return Y.characters[b][e].map[h]})}catch(f){return g}}};for(M in s){Y[M+"PathSegment"]=J("pathname",s[M]),Y[M+"UrnPathSegment"]=J("urnpath",s[M])}s=function(b,f,e){return function(g){var p;p=e?function(k){return Y[f](Y[e](k))}:Y[f];g=(g+"").split(b);for(var n=0,h=g.length;n<h;n++){g[n]=p(g[n])}return g.join(b)}};Y.decodePath=s("/","decodePathSegment");Y.decodeUrnPath=s(":","decodeUrnPathSegment");Y.recodePath=s("/","encodePathSegment","decode");Y.recodeUrnPath=s(":","encodeUrnPathSegment","decode");Y.encodeReserved=J("reserved","encode");Y.parse=function(b,f){var e;f||(f={});e=b.indexOf("#");-1<e&&(f.fragment=b.substring(e+1)||null,b=b.substring(0,e));e=b.indexOf("?");-1<e&&(f.query=b.substring(e+1)||null,b=b.substring(0,e));"//"===b.substring(0,2)?(f.protocol=null,b=b.substring(2),b=Y.parseAuthority(b,f)):(e=b.indexOf(":"),-1<e&&(f.protocol=b.substring(0,e)||null,f.protocol&&!f.protocol.match(Y.protocol_expression)?f.protocol=void 0:"//"===b.substring(e+1,e+3)?(b=b.substring(e+3),b=Y.parseAuthority(b,f)):(b=b.substring(e+1),f.urn=!0)));f.path=b;return f};Y.parseHost=function(g,n){var k=g.indexOf("/"),f;-1===k&&(k=g.length);if("["===g.charAt(0)){f=g.indexOf("]"),n.hostname=g.substring(1,f)||null,n.port=g.substring(f+2,k)||null,"/"===n.port&&(n.port=null)}else{var h=g.indexOf(":");f=g.indexOf("/");h=g.indexOf(":",h+1);-1!==h&&(-1===f||h<f)?(n.hostname=g.substring(0,k)||null,n.port=null):(f=g.substring(0,k).split(":"),n.hostname=f[0]||null,n.port=f[1]||null)}n.hostname&&"/"!==g.substring(k).charAt(0)&&(k++,g="/"+g);return g.substring(k)||"/"};Y.parseAuthority=function(b,e){b=Y.parseUserinfo(b,e);return Y.parseHost(b,e)};Y.parseUserinfo=function(e,g){var f=e.indexOf("/"),b=e.lastIndexOf("@",-1<f?f:e.length-1);-1<b&&(-1===f||b<f)?(f=e.substring(0,b).split(":"),g.username=f[0]?Y.decode(f[0]):null,f.shift(),g.password=f[0]?Y.decode(f.join(":")):null,e=e.substring(b+1)):(g.username=null,g.password=null);return e};Y.parseQuery=function(h,u){if(!h){return{}}h=h.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!h){return{}}for(var t={},b=h.split("&"),r=b.length,q,n,p=0;p<r;p++){q=b[p].split("="),n=Y.decodeQuery(q.shift(),u),q=q.length?Y.decodeQuery(q.join("="),u):null,O.call(t,n)?("string"===typeof t[n]&&(t[n]=[t[n]]),t[n].push(q)):t[n]=q}return t};Y.build=function(b){var e="";b.protocol&&(e+=b.protocol+":");b.urn||!e&&!b.hostname||(e+="//");e+=Y.buildAuthority(b)||"";"string"===typeof b.path&&("/"!==b.path.charAt(0)&&"string"===typeof b.hostname&&(e+="/"),e+=b.path);"string"===typeof b.query&&b.query&&(e+="?"+b.query);"string"===typeof b.fragment&&b.fragment&&(e+="#"+b.fragment);return e};Y.buildHost=function(b){var e="";if(b.hostname){e=Y.ip6_expression.test(b.hostname)?e+("["+b.hostname+"]"):e+b.hostname}else{return""}b.port&&(e+=":"+b.port);return e};Y.buildAuthority=function(b){return Y.buildUserinfo(b)+Y.buildHost(b)};Y.buildUserinfo=function(b){var e="";b.username&&(e+=Y.encode(b.username),b.password&&(e+=":"+Y.encode(b.password)),e+="@");return e};Y.buildQuery=function(h,u,t){var b="",r,q,n,p;for(q in h){if(O.call(h,q)&&q){if(R(h[q])){for(r={},n=0,p=h[q].length;n<p;n++){void 0!==h[q][n]&&void 0===r[h[q][n]+""]&&(b+="&"+Y.buildQueryParameter(q,h[q][n],t),!0!==u&&(r[h[q][n]+""]=!0))}}else{void 0!==h[q]&&(b+="&"+Y.buildQueryParameter(q,h[q],t))}}}return b.substring(1)};Y.buildQueryParameter=function(b,f,e){return Y.encodeQuery(b,e)+(null!==f?"="+Y.encodeQuery(f,e):"")};Y.addQuery=function(e,g,f){if("object"===typeof g){for(var b in g){O.call(g,b)&&Y.addQuery(e,b,g[b])}}else{if("string"===typeof g){void 0===e[g]?e[g]=f:("string"===typeof e[g]&&(e[g]=[e[g]]),R(f)||(f=[f]),e[g]=(e[g]||[]).concat(f))}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}};Y.removeQuery=function(e,g,f){var b;if(R(g)){for(f=0,b=g.length;f<b;f++){e[g[f]]=void 0}}else{if("RegExp"===c(g)){for(b in e){g.test(b)&&(e[b]=void 0)}}else{if("object"===typeof g){for(b in g){O.call(g,b)&&Y.removeQuery(e,b,g[b])}}else{if("string"===typeof g){void 0!==f?"RegExp"===c(f)?!R(e[g])&&f.test(e[g])?e[g]=void 0:e[g]=N(e[g],f):e[g]===f?e[g]=void 0:R(e[g])&&(e[g]=N(e[g],f)):e[g]=void 0}else{throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")}}}}};Y.hasQuery=function(f,k,h,b){if("object"===typeof k){for(var g in k){if(O.call(k,g)&&!Y.hasQuery(f,g,k[g])){return !1}}return !0}if("string"!==typeof k){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter")}switch(c(h)){case"Undefined":return k in f;case"Boolean":return f=Boolean(R(f[k])?f[k].length:f[k]),h===f;case"Function":return !!h(f[k],k,f);case"Array":return R(f[k])?(b?a:L)(f[k],h):!1;case"RegExp":return R(f[k])?b?a(f[k],h):!1:Boolean(f[k]&&f[k].match(h));case"Number":h=String(h);case"String":return R(f[k])?b?a(f[k],h):!1:f[k]===h;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};Y.commonPath=function(f,h){var g=Math.min(f.length,h.length),e;for(e=0;e<g;e++){if(f.charAt(e)!==h.charAt(e)){e--;break}}if(1>e){return f.charAt(0)===h.charAt(0)&&"/"===f.charAt(0)?"/":""}if("/"!==f.charAt(e)||"/"!==h.charAt(e)){e=f.substring(0,e).lastIndexOf("/")}return f.substring(0,e+1)};Y.withinString=function(B,z,y){y||(y={});var w=y.start||Y.findUri.start,v=y.end||Y.findUri.end,p=y.trim||Y.findUri.trim,u=/[a-z0-9-]=["']?$/i;for(w.lastIndex=0;;){var b=w.exec(B);if(!b){break}b=b.index;if(y.ignoreHtml){var n=B.slice(Math.max(b-3,0),b);if(n&&u.test(n)){continue}}var n=b+B.slice(b).search(v),t=B.slice(b,n).replace(p,"");y.ignore&&y.ignore.test(t)||(n=b+t.length,t=z(t,b,n,B),B=B.slice(0,b)+t+B.slice(n),w.lastIndex=b+t.length)}w.lastIndex=0;return B};Y.ensureValidHostname=function(b){if(b.match(Y.invalid_hostname_characters)){if(!X){throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available')}if(X.toASCII(b).match(Y.invalid_hostname_characters)){throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}}};Y.noConflict=function(b){if(b){return b={URI:this.noConflict()},A.URITemplate&&"function"===typeof A.URITemplate.noConflict&&(b.URITemplate=A.URITemplate.noConflict()),A.IPv6&&"function"===typeof A.IPv6.noConflict&&(b.IPv6=A.IPv6.noConflict()),A.SecondLevelDomains&&"function"===typeof A.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=A.SecondLevelDomains.noConflict()),b}A.URI===this&&(A.URI=Q);return this};W.build=function(b){if(!0===b){this._deferred_build=!0}else{if(void 0===b||this._deferred_build){this._string=Y.build(this._parts),this._deferred_build=!1}}return this};W.clone=function(){return new Y(this)};W.valueOf=W.toString=function(){return this.build(!1)._string};W.protocol=K("protocol");W.username=K("username");W.password=K("password");W.hostname=K("hostname");W.port=K("port");W.query=m("query","?");W.fragment=m("fragment","#");W.search=function(f,g){var e=this.query(f,g);return"string"===typeof e&&e.length?"?"+e:e};W.hash=function(f,g){var e=this.fragment(f,g);return"string"===typeof e&&e.length?"#"+e:e};W.pathname=function(b,f){if(void 0===b||!0===b){var e=this._parts.path||(this._parts.hostname?"/":"");return b?(this._parts.urn?Y.decodeUrnPath:Y.decodePath)(e):e}this._parts.path=this._parts.urn?b?Y.recodeUrnPath(b):"":b?Y.recodePath(b):"/";this.build(!f);return this};W.path=W.pathname;W.href=function(b,n){var k;if(void 0===b){return this.toString()}this._string="";this._parts=Y._parts();var h=b instanceof Y,g="object"===typeof b&&(b.hostname||b.path||b.pathname);b.nodeName&&(g=Y.getDomAttribute(b),b=b[g]||"",g=!1);!h&&g&&void 0!==b.pathname&&(b=b.toString());if("string"===typeof b||b instanceof String){this._parts=Y.parse(String(b),this._parts)}else{if(h||g){for(k in h=h?b._parts:b,h){O.call(this._parts,k)&&(this._parts[k]=h[k])}}else{throw new TypeError("invalid input")}}this.build(!n);return this};W.is=function(y){var w=!1,v=!1,u=!1,t=!1,n=!1,b=!1,g=!1,p=!this._parts.urn;this._parts.hostname&&(p=!1,v=Y.ip4_expression.test(this._parts.hostname),u=Y.ip6_expression.test(this._parts.hostname),w=v||u,n=(t=!w)&&V&&V.has(this._parts.hostname),b=t&&Y.idn_expression.test(this._parts.hostname),g=t&&Y.punycode_expression.test(this._parts.hostname));switch(y.toLowerCase()){case"relative":return p;case"absolute":return !p;case"domain":case"name":return t;case"sld":return n;case"ip":return w;case"ip4":case"ipv4":case"inet4":return v;case"ip6":case"ipv6":case"inet6":return u;case"idn":return b;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return g}return null};var x=W.protocol,o=W.port,j=W.hostname;W.protocol=function(b,e){if(void 0!==b&&b&&(b=b.replace(/:(\/\/)?$/,""),!b.match(Y.protocol_expression))){throw new TypeError('Protocol "'+b+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return x.call(this,b,e)};W.scheme=W.protocol;W.port=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0!==b&&(0===b&&(b=null),b&&(b+="",":"===b.charAt(0)&&(b=b.substring(1)),b.match(/[^0-9]/)))){throw new TypeError('Port "'+b+'" contains characters other than [0-9]')}return o.call(this,b,e)};W.hostname=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0!==b){var e={};Y.parseHost(b,e);b=e.hostname}return j.call(this,b,f)};W.host=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){return this._parts.hostname?Y.buildHost(this._parts):""}Y.parseHost(b,this._parts);this.build(!e);return this};W.authority=function(b,e){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){return this._parts.hostname?Y.buildAuthority(this._parts):""}Y.parseAuthority(b,this._parts);this.build(!e);return this};W.userinfo=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){if(!this._parts.username){return""}var e=Y.buildUserinfo(this._parts);return e.substring(0,e.length-1)}"@"!==b[b.length-1]&&(b+="@");Y.parseUserinfo(b,this._parts);this.build(!f);return this};W.resource=function(b,f){var e;if(void 0===b){return this.path()+this.search()+this.hash()}e=Y.parse(b);this._parts.path=e.path;this._parts.query=e.query;this._parts.fragment=e.fragment;this.build(!f);return this};W.subdomain=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,e)||""}e=this._parts.hostname.length-this.domain().length;e=this._parts.hostname.substring(0,e);e=new RegExp("^"+S(e));b&&"."!==b.charAt(b.length-1)&&(b+=".");b&&Y.ensureValidHostname(b);this._parts.hostname=this._parts.hostname.replace(e,b);this.build(!f);return this};W.domain=function(b,f){if(this._parts.urn){return void 0===b?"":this}"boolean"===typeof b&&(f=b,b=void 0);if(void 0===b){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.match(/\./g);if(e&&2>e.length){return this._parts.hostname}e=this._parts.hostname.length-this.tld(f).length-1;e=this._parts.hostname.lastIndexOf(".",e-1)+1;return this._parts.hostname.substring(e)||""}if(!b){throw new TypeError("cannot set domain empty")}Y.ensureValidHostname(b);!this._parts.hostname||this.is("IP")?this._parts.hostname=b:(e=new RegExp(S(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(e,b));this.build(!f);return this};W.tld=function(f,g){if(this._parts.urn){return void 0===f?"":this}"boolean"===typeof f&&(g=f,f=void 0);if(void 0===f){if(!this._parts.hostname||this.is("IP")){return""}var e=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(e+1);return !0!==g&&V&&V.list[e.toLowerCase()]?V.get(this._parts.hostname)||e:e}if(f){if(f.match(/[^a-zA-Z0-9-]/)){if(V&&V.is(f)){e=new RegExp(S(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(e,f)}else{throw new TypeError('TLD "'+f+'" contains characters other than [A-Z0-9]')}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host")}e=new RegExp(S(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(e,f)}}else{throw new TypeError("cannot set TLD empty")}this.build(!g);return this};W.directory=function(b,f){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path&&!this._parts.hostname){return""}if("/"===this._parts.path){return"/"}var e=this._parts.path.length-this.filename().length-1,e=this._parts.path.substring(0,e)||(this._parts.hostname?"/":"");return b?Y.decodePath(e):e}e=this._parts.path.length-this.filename().length;e=this._parts.path.substring(0,e);e=new RegExp("^"+S(e));this.is("relative")||(b||(b="/"),"/"!==b.charAt(0)&&(b="/"+b));b&&"/"!==b.charAt(b.length-1)&&(b+="/");b=Y.recodePath(b);this._parts.path=this._parts.path.replace(e,b);this.build(!f);return this};W.filename=function(b,h){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path||"/"===this._parts.path){return""}var g=this._parts.path.lastIndexOf("/"),g=this._parts.path.substring(g+1);return b?Y.decodePathSegment(g):g}g=!1;"/"===b.charAt(0)&&(b=b.substring(1));b.match(/\.?\//)&&(g=!0);var f=new RegExp(S(this.filename())+"$");b=Y.recodePath(b);this._parts.path=this._parts.path.replace(f,b);g?this.normalizePath(h):this.build(!h);return this};W.suffix=function(b,h){if(this._parts.urn){return void 0===b?"":this}if(void 0===b||!0===b){if(!this._parts.path||"/"===this._parts.path){return""}var g=this.filename(),f=g.lastIndexOf(".");if(-1===f){return""}g=g.substring(f+1);g=/^[a-z0-9%]+$/i.test(g)?g:"";return b?Y.decodePathSegment(g):g}"."===b.charAt(0)&&(b=b.substring(1));if(g=this.suffix()){f=b?new RegExp(S(g)+"$"):new RegExp(S("."+g)+"$")}else{if(!b){return this}this._parts.path+="."+Y.recodePath(b)}f&&(b=Y.recodePath(b),this._parts.path=this._parts.path.replace(f,b));this.build(!h);return this};W.segment=function(n,u,h){var t=this._parts.urn?":":"/",r=this.path(),p="/"===r.substring(0,1),r=r.split(t);void 0!==n&&"number"!==typeof n&&(h=u,u=n,n=void 0);if(void 0!==n&&"number"!==typeof n){throw Error('Bad segment "'+n+'", must be 0-based integer')}p&&r.shift();0>n&&(n=Math.max(r.length+n,0));if(void 0===u){return void 0===n?r:r[n]}if(null===n||void 0===r[n]){if(R(u)){r=[];n=0;for(var q=u.length;n<q;n++){if(u[n].length||r.length&&r[r.length-1].length){r.length&&!r[r.length-1].length&&r.pop(),r.push(u[n])}}}else{if(u||"string"===typeof u){""===r[r.length-1]?r[r.length-1]=u:r.push(u)}}}else{u?r[n]=u:r.splice(n,1)}p&&r.unshift("");return this.path(r.join(t),h)};W.segmentCoded=function(b,n,k){var g,h;"number"!==typeof b&&(k=n,n=b,b=void 0);if(void 0===n){b=this.segment(b,n,k);if(R(b)){for(g=0,h=b.length;g<h;g++){b[g]=Y.decode(b[g])}}else{b=void 0!==b?Y.decode(b):void 0}return b}if(R(n)){for(g=0,h=n.length;g<h;g++){n[g]=Y.decode(n[g])}}else{n="string"===typeof n||n instanceof String?Y.encode(n):n}return this.segment(b,n,k)};var d=W.query;W.query=function(b,h){if(!0===b){return Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace)}if("function"===typeof b){var g=Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=b.call(this,g);this._parts.query=Y.buildQuery(e||g,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!h);return this}return void 0!==b&&"string"!==typeof b?(this._parts.query=Y.buildQuery(b,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!h),this):d.call(this,b,h)};W.setQuery=function(b,n,k){var g=Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof b||b instanceof String){g[b]=void 0!==n?n:null}else{if("object"===typeof b){for(var h in b){O.call(b,h)&&(g[h]=b[h])}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}this._parts.query=Y.buildQuery(g,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(k=n);this.build(!k);return this};W.addQuery=function(b,h,g){var e=Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace);Y.addQuery(e,b,void 0===h?null:h);this._parts.query=Y.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(g=h);this.build(!g);return this};W.removeQuery=function(b,h,g){var e=Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace);Y.removeQuery(e,b,h);this._parts.query=Y.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof b&&(g=h);this.build(!g);return this};W.hasQuery=function(b,h,g){var e=Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return Y.hasQuery(e,b,h,g)};W.setSearch=W.setQuery;W.addSearch=W.addQuery;W.removeSearch=W.removeQuery;W.hasSearch=W.hasQuery;W.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};W.normalizeProtocol=function(b){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!b));return this};W.normalizeHostname=function(b){this._parts.hostname&&(this.is("IDN")&&X?this._parts.hostname=X.toASCII(this._parts.hostname):this.is("IPv6")&&U&&(this._parts.hostname=U.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!b));return this};W.normalizePort=function(b){"string"===typeof this._parts.protocol&&this._parts.port===Y.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!b));return this};W.normalizePath=function(b){var q=this._parts.path;if(!q){return this}if(this._parts.urn){return this._parts.path=Y.recodeUrnPath(this._parts.path),this.build(!b),this}if("/"===this._parts.path){return this}var p,h="",n,g;"/"!==q.charAt(0)&&(p=!0,q="/"+q);q=q.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");p&&(h=q.substring(1).match(/^(\.\.\/)+/)||"")&&(h=h[0]);for(;;){n=q.indexOf("/..");if(-1===n){break}else{if(0===n){q=q.substring(3);continue}}g=q.substring(0,n).lastIndexOf("/");-1===g&&(g=n);q=q.substring(0,g)+q.substring(n+3)}p&&this.is("relative")&&(q=h+q.substring(1));q=Y.recodePath(q);this._parts.path=q;this.build(!b);return this};W.normalizePathname=W.normalizePath;W.normalizeQuery=function(b){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(Y.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!b));return this};W.normalizeFragment=function(b){this._parts.fragment||(this._parts.fragment=null,this.build(!b));return this};W.normalizeSearch=W.normalizeQuery;W.normalizeHash=W.normalizeFragment;W.iso8859=function(){var b=Y.encode,e=Y.decode;Y.encode=escape;Y.decode=decodeURIComponent;try{this.normalize()}finally{Y.encode=b,Y.decode=e}return this};W.unicode=function(){var b=Y.encode,e=Y.decode;Y.encode=P;Y.decode=unescape;try{this.normalize()}finally{Y.encode=b,Y.decode=e}return this};W.readable=function(){var b=this.clone();b.username("").password("").normalize();var t="";b._parts.protocol&&(t+=b._parts.protocol+"://");b._parts.hostname&&(b.is("punycode")&&X?(t+=X.toUnicode(b._parts.hostname),b._parts.port&&(t+=":"+b._parts.port)):t+=b.host());b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(t+="/");t+=b.path(!0);if(b._parts.query){for(var q="",p=0,e=b._parts.query.split("&"),n=e.length;p<n;p++){var h=(e[p]||"").split("="),q=q+("&"+Y.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==h[1]&&(q+="="+Y.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+q.substring(1)}return t+=Y.decodeQuery(b.hash(),!0)};W.absoluteTo=function(b){var n=this.clone(),k=["protocol","username","password","hostname","port"],g,h;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}b instanceof Y||(b=new Y(b));n._parts.protocol||(n._parts.protocol=b._parts.protocol);if(this._parts.hostname){return n}for(g=0;h=k[g];g++){n._parts[h]=b._parts[h]}n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=b._parts.path,n._parts.query||(n._parts.query=b._parts.query));"/"!==n.path().charAt(0)&&(k=(k=b.directory())?k:0===b.path().indexOf("/")?"/":"",n._parts.path=(k?k+"/":"")+n._parts.path,n.normalizePath());n.build();return n};W.relativeTo=function(b){var q=this.clone().normalize(),p,h,n,g;if(q._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}b=(new Y(b)).normalize();p=q._parts;h=b._parts;n=q.path();g=b.path();if("/"!==n.charAt(0)){throw Error("URI is already relative")}if("/"!==g.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI")}p.protocol===h.protocol&&(p.protocol=null);if(p.username===h.username&&p.password===h.password&&null===p.protocol&&null===p.username&&null===p.password&&p.hostname===h.hostname&&p.port===h.port){p.hostname=null,p.port=null}else{return q.build()}if(n===g){return p.path="",q.build()}b=Y.commonPath(q.path(),b.path());if(!b){return q.build()}h=h.path.substring(b.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");p.path=h+p.path.substring(b.length);return q.build()};W.equals=function(b){var q=this.clone();b=new Y(b);var p={},h={},n={},g;q.normalize();b.normalize();if(q.toString()===b.toString()){return !0}p=q.query();h=b.query();q.query("");b.query("");if(q.toString()!==b.toString()||p.length!==h.length){return !1}p=Y.parseQuery(p,this._parts.escapeQuerySpace);h=Y.parseQuery(h,this._parts.escapeQuerySpace);for(g in p){if(O.call(p,g)){if(!R(p[g])){if(p[g]!==h[g]){return !1}}else{if(!L(p[g],h[g])){return !1}}n[g]=!0}}for(g in h){if(O.call(h,g)&&!n[g]){return !1}}return !0};W.duplicateQueryParameters=function(b){this._parts.duplicateQueryParameters=!!b;return this};W.escapeQuerySpace=function(b){this._parts.escapeQuerySpace=!!b;return this};return Y});(function(b,a){"object"===typeof exports?module.exports=a(require("./URI")):"function"===typeof define&&define.amd?define(["./URI"],a):b.URITemplate=a(b.URI,b)})(this,function(k,f){function j(e){if(j._cache[e]){return j._cache[e]}if(!(this instanceof j)){return new j(e)}this.expression=e;j._cache[e]=this;return this}function d(e){this.data=e;this.cache={}}var a=f&&f.URITemplate,c=Object.prototype.hasOwnProperty,o=j.prototype,m={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};j._cache={};j.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;j.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/;j.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/;j.expand=function(x,v){var s=m[x.operator],r=s.named?"Named":"Unnamed",g=x.variables,z=[],y,n,u;for(u=0;n=g[u];u++){y=v.get(n.name),y.val.length?z.push(j["expand"+r](y,s,n.explode,n.explode&&s.separator||",",n.maxlength,n.name)):y.type&&z.push("")}return z.length?s.prefix+z.join(s.separator):""};j.expandNamed=function(C,A,z,y,e,G){var D="",r=A.encode;A=A.empty_name_separator;var B=!C[r].length,x=2===C.type?"":k[r](G),E,s,F;s=0;for(F=C.val.length;s<F;s++){e?(E=k[r](C.val[s][1].substring(0,e)),2===C.type&&(x=k[r](C.val[s][0].substring(0,e)))):B?(E=k[r](C.val[s][1]),2===C.type?(x=k[r](C.val[s][0]),C[r].push([x,E])):C[r].push([void 0,E])):(E=C[r][s][1],2===C.type&&(x=C[r][s][0])),D&&(D+=y),z?D+=x+(A||E?"=":"")+E:(s||(D+=k[r](G)+(A||E?"=":"")),2===C.type&&(D+=x+","),D+=E)}return D};j.expandUnnamed=function(B,z,y,x,e){var E="",C=z.encode;z=z.empty_name_separator;var r=!B[C].length,A,v,s,D;s=0;for(D=B.val.length;s<D;s++){e?v=k[C](B.val[s][1].substring(0,e)):r?(v=k[C](B.val[s][1]),B[C].push([2===B.type?k[C](B.val[s][0]):void 0,v])):v=B[C][s][1],E&&(E+=x),2===B.type&&(A=e?k[C](B.val[s][0].substring(0,e)):B[C][s][0],E+=A,E=y?E+(z||v?"=":""):E+","),E+=v}return E};j.noConflict=function(){f.URITemplate===j&&(f.URITemplate=a);return j};o.expand=function(g){var q="";this.parts&&this.parts.length||this.parse();g instanceof d||(g=new d(g));for(var p=0,n=this.parts.length;p<n;p++){q+="string"===typeof this.parts[p]?this.parts[p]:j.expand(this.parts[p],g)}return q};o.parse=function(){var z=this.expression,y=j.EXPRESSION_PATTERN,w=j.VARIABLE_PATTERN,s=j.VARIABLE_NAME_PATTERN,g=[],C=0,r,n,x;for(y.lastIndex=0;;){n=y.exec(z);if(null===n){g.push(z.substring(C));break}else{g.push(z.substring(C,n.index)),C=n.index+n[0].length}if(!m[n[1]]){throw Error('Unknown Operator "'+n[1]+'" in "'+n[0]+'"')}if(!n[3]){throw Error('Unclosed Expression "'+n[0]+'"')}r=n[2].split(",");for(var B=0,A=r.length;B<A;B++){x=r[B].match(w);if(null===x){throw Error('Invalid Variable "'+r[B]+'" in "'+n[0]+'"')}if(x[1].match(s)){throw Error('Invalid Variable Name "'+x[1]+'" in "'+n[0]+'"')}r[B]={name:x[1],explode:!!x[3],maxlength:x[4]&&parseInt(x[4],10)}}if(!r.length){throw Error('Expression Missing Variable(s) "'+n[0]+'"')}g.push({expression:n[0],operator:n[1],variables:r})}g.length||g.push(z);this.parts=g;return this};d.prototype.get=function(h){var q=this.data,p={type:0,val:[],encode:[],encodeReserved:[]},n;if(void 0!==this.cache[h]){return this.cache[h]}this.cache[h]=p;q="[object Function]"===String(Object.prototype.toString.call(q))?q(h):"[object Function]"===String(Object.prototype.toString.call(q[h]))?q[h](h):q[h];if(void 0!==q&&null!==q){if("[object Array]"===String(Object.prototype.toString.call(q))){n=0;for(h=q.length;n<h;n++){void 0!==q[n]&&null!==q[n]&&p.val.push([void 0,String(q[n])])}p.val.length&&(p.type=3)}else{if("[object Object]"===String(Object.prototype.toString.call(q))){for(n in q){c.call(q,n)&&void 0!==q[n]&&null!==q[n]&&p.val.push([n,String(q[n])])}p.val.length&&(p.type=2)}else{p.type=1,p.val.push([void 0,String(q)])}}}return p};k.expand=function(e,n){var g=(new j(e)).expand(n);return new k(g)};return j});(function(b,a){"object"===typeof exports?module.exports=a(require("jquery","./URI")):"function"===typeof define&&define.amd?define(["jquery","./URI"],a):a(b.jQuery,b.URI)})(this,function(m,j){function k(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(g){var h=g.nodeName.toLowerCase();return"input"===h&&"image"!==g.type?void 0:j.domAttributes[h]}function q(e){return{get:function(b){return m(b).uri()[e]()},set:function(n,b){m(n).uri()[e](b);return b}}}function f(e,t){var r,n,u;if(!s(e)||!t){return !1}r=t.match(a);if(!r||!r[5]&&":"!==r[2]&&!d[r[2]]){return !1}u=m(e).uri();if(r[5]){return u.is(r[5])}if(":"===r[2]){return n=r[1].toLowerCase()+":",d[n]?d[n](u,r[4]):!1}n=r[1].toLowerCase();return p[n]?d[r[2]](u[n](),r[4],n):!1}var p={},d={"=":function(g,h){return g===h},"^=":function(g,h){return !!(g+"").match(new RegExp("^"+k(h),"i"))},"$=":function(g,h){return !!(g+"").match(new RegExp(k(h)+"$","i"))},"*=":function(g,r,n){"directory"===n&&(g+="/");return !!(g+"").match(new RegExp(k(r),"i"))},"equals:":function(g,h){return g.equals(h)},"is:":function(g,h){return g.is(h)}};m.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "),function(e,b){p[b]=!0;m.attrHooks["uri:"+b]=q(b)});var c=function(e,h){return m(e).uri().href(h).toString()};m.each(["src","href","action","uri","cite"],function(e,h){m.attrHooks[h]={set:c}});m.attrHooks.uri.get=function(e){return m(e).uri()};m.fn.uri=function(h){var u=this.first(),t=u.get(0),r=s(t);if(!r){throw Error('Element "'+t.nodeName+'" does not have either property: href, src, action, cite')}if(void 0!==h){var v=u.data("uri");if(v){return v.href(h)}h instanceof j||(h=j(h||""))}else{if(h=u.data("uri")){return h}h=j(u.attr(r)||"")}h._dom_element=t;h._dom_attribute=r;h.normalize();u.data("uri",h);return h};j.prototype.build=function(e){if(this._dom_element){this._string=j.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,this._string),this._dom_element[this._dom_attribute]=this._string}else{if(!0===e){this._deferred_build=!0}else{if(void 0===e||this._deferred_build){this._string=j.build(this._parts),this._deferred_build=!1}}}return this};var o,a=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;o=m.expr.createPseudo?m.expr.createPseudo(function(e){return function(b){return f(b,e)}}):function(h,r,n){return f(h,n[3])};m.expr[":"].uri=o;return m});var load_flag=false;var linkedin_flag=false;var glus_load_flag=false;var google_plus_one_load_flag=false;var href=$(location).attr("href");var title=$(document).find("title").text();var des=$("meta[property='og:description']");des=des.attr("content");var twitter_load_flag=false;$("#ascyn_fb_share,#ascyn_fb_share_custom").live("click",function(){var b=$(this);if(load_flag==false){var a="https://connect.facebook.net/en_US/all.js";$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){window.fbAsyncInit=function(){initFB();load_flag=true;fbShare(($(b).attr("data-custom-text")!=undefined&&$(b).attr("data-custom-text")!=null)?$(b).attr("data-custom-text"):des)}}})}else{fbShare(($(this).attr("data-custom-text")!=undefined&&$(this).attr("data-custom-text")!=null)?$(this).attr("data-custom-text"):des)}});$("#async_twitter_share").live("click",function(){if(twitter_load_flag==false||typeof(twttr)=="undefined"){var a="https://platform.twitter.com/widgets.js";$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){twitter_load_flag=true;twttr.widgets.load();twitterShare()}})}else{twitterShare()}});function twitterShare(a){BB_trackGoogleSocialEvent("twitter","share",href)}function twitterShareMessage(e){var b="https://twitter.com/intent/tweet?text="+e;var c=600;var a=300;var g=(($(window).height())-a)/2;var f=(($(window).width())-c)/2;var d="width="+c+", height="+a+", top="+g+", left="+f+", scrollbars=no, resizable=yes";window.open(b,"_blank",d)}$("#ascyn_fb_like").live("click",function(){if(load_flag==false){var a="https://connect.facebook.net/en_US/all.js";$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){window.fbAsyncInit=function(){initFB();load_flag=true;fbLike()}}})}else{fbLike()}});$(window).load(function(){setTimeout(function(){if(!google_plus_one_load_flag){var a="https://apis.google.com/js/platform.js";$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){google_plus_one_load_flag=true;renderGPlus()}})}else{renderGPlus()}},2000)});function renderGPlus(){gapi.plusone.render("gplus-one",{annotation:"none",size:"medium",callback:"sendPlus"})}function sendPlus(){BB_trackGoogleSocialEvent("google","+1",href)}function initFB(){var a=$("#fbAppId").val();FB.init({appId:a,status:true,cookie:true,xfbml:true,version:"v2.0"})}function fbLikeCall(){FB.api("https://graph.facebook.com/me/og.likes","post",{object:href},function(a){if(a.id!=""){$("#ascyn_fb_liked").show();$("#ascyn_fb_like").hide();BB_trackGoogleSocialEvent("facebook","like",href)}})}function fbShare(c){var a=title;var b=href;if($("#pageName").val()!=undefined&&$("#pageName").val()=="newBootstrapThankYouPage"){a=$("#ascyn_fb_share_custom").attr("fb_story_title");b=$("#ascyn_fb_share_custom").attr("fb_story_redirect_url")}FB.ui({method:"feed",name:a,link:b,description:c},function(d){if(d&&d.post_id){BB_trackGoogleSocialEvent("facebook","share",href)}})}function fbLike(){FB.getLoginStatus(function(a){if(a.status==="connected"){fbLikeCall()}else{FB.login(function(b){if(b.status=="connected"){fbLikeCall()}})}})}$(document).ready(function(){$("#sign-in-compressed").bind("shown.bs.modal",function(){$(".menu-section-left > li:last-child a").css({zIndex:0})});$("#sign-in-compressed").bind("hidden.bs.modal",function(){$(".menu-section-left > li:last-child a").css({zIndex:9999})});setUpTrackingForNavBar();$("#navbarToggleButton").removeClass("dontshow")});function navHover(){$(".menu-nav-tabs a").hoverIntent({over:function(a){$(this).tab("show")},interval:125});$(".menu-nav-tabs a").on("click",function(a){$(this).tab("show")})}var unhighlightMenu=function(){$("ul.navbar-nav li.dd-present").removeClass("active");$(".tab-content.submenu > .tab-pane").removeClass("active")};$("ul.navbar-nav li.dd-present a").hoverIntent({over:function(a){$(this).tab("show")},interval:125});$("ul.navbar-nav li").not(".dd-present").hoverIntent({over:function(a){if($("ul.navbar-nav li.dd-present").hasClass("active")){unhighlightMenu()}},interval:125});$(".tab-content.submenu").on("mouseleave",function(){unhighlightMenu()});$(".menu-left a").on("click",function(a){appendParam(this.href,a)});$(document).ready(function(){$(".owl-next,.owl-prev").click(function(){setTimeout(function(){window.scrollBy(0,+1);window.scrollBy(0,-1)},500)})});window.addEventListener("load",function(){window.loaded=true});$(window).bind("load",function(){window.loaded=true;bindLazy()});$(document).ajaxStop(function(){if(window.loaded){bindLazy()}});function bindLazy(){$("img.lazy").lazy({bind:"event"})}function initEmailValidation(){$("#mc-embedded-subscribe-form-footer").validate({rules:{"mce-EMAIL":{required:true,email:true}},messages:{"mce-EMAIL":constructErrorMessage("Uh-oh! Please enter a valid email")}})}function constructErrorMessage(b){var c="<table><tr><td><span class='error-icon'><img src='/images/icon-error.png' alt='error icon'/></span></td><td><span class='error-info'>";var a="</span></td></tr></table>";return c+b+a}$(document).ready(function(){if($("#bb-footer").val()=="true"){if($("#common-new-footer").val()!=undefined&&$("#ajax-footer").val()=="true"){var m=$("#pageName").val();var a=$("#variantName").val();var b=$("#productNameSpace").val();var f=$("#sessionId").val();var o=$("#propertyCity").val();var p=$("#formName").val();var d=$("#mcIdVal").val();var k=$("#isMobileReceived").val();var c=$("#mcId").val();var q=$("#pTypeId").val();var h=$("#bank").val();var e=$("#city").val();var g=$("#mode").val();var n=$("#originalRequestURL").val();$.ajax({url:b+"/ajax-footer.html",cache:false,type:"get",data:{ajax:true,pageName:m,variantName:a,sessionId:f,propertyCity:o,formName:p,mcIdVal:d,isMobileReceived:k,mcId:c,pTypeId:q,bank:h,city:e,mode:g,originalRequestURL:n},success:function(r){$("#common-new-footer").html(r);j()}})}else{j()}}function j(){initEmailValidation();bindMCSubscribeActions();bindMCSubscribeActionsMobile()}});function bindMCSubscribeActions(){$('[id="mc-embedded-subscribe-footer"]').on("click",function(a){var b=$(".js-subscribe-form").valid();if(b){$(this).prop("disabled",true);mailID=$(this).siblings("#mce-EMAIL").val();sourceValue=$(this).siblings("#mc_source_value").val();sourceURL=window.location.href;subscribeToNewsLetterViaMC(mailID,sourceValue,sourceURL);alertMCSuccessMessage();trackEnterEmailEvent(mailID,"footer");a.preventDefault()}})}function bindMCSubscribeActionsMobile(){$('[name="mc-newsletter-embedded-subscribe"]').click(function(a){var b=$(".js-newsletter-subscribe-form").valid();if(b){a.preventDefault();$(this).prop("disabled",true);mailID=$(".js-newsletter-email").val();sourceValue=$(this).siblings("#mc_source_value").val();sourceURL=window.location.href;subscribeToNewsLetterViaMC(mailID,sourceValue,sourceURL);alertMCSuccessMessage()}else{return false}})}function subscribeToNewsLetterViaMC(a,c,d){console.log("newsletter subscription call mail : "+a+" source : "+c);var b={mailID:a,sourceValue:c,sourceURL:d};$.getJSON("subscribeToNewsLetterMC.html",b,function(f,e,g){console.log("newsletter subscription success");$("#closeExitBlockerModal").trigger("click")})}function alertMCInstantFadeOut(){setTimeout(function(){$(".alert-success-mc").fadeOut("slow")},1500)}function alertMCSuccessMessage(){$(".alert-success-mc").show();alertMCInstantFadeOut()}var analyticsConstants={GET_QUOTE:"getQuote",EXPLORE:"explore",NAV_BAR_MENU:"navBarMenu",EMI_CALC_MENU:"emiCalcMenu",GATEWAY_PAGE_MENU:"gatewayPageMenu",CHOOSE_PRODUCT:"chooseProduct",START:"Start",COMPLETE:"Complete",ERROR:"Error",SENTENCE_FORM:"sntcForm",FORM_SUBMIT:"formSubmit",FORM_SUBMIT_ATTEMPT:"formSubmitAttempt",FORM_SUBMIT_ERROR:"formSubmitError",ENTER_EMAIL:"enterEmail",USER_DATA:"userData"};function validateEmail(a){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a)){return true}return false}function trackGetQuoteEvent(b,a){BB_trackGoogleEventWithLabel(b,analyticsConstants.GET_QUOTE,a)}function trackExploreEvent(b,a){BB_trackGoogleEventWithLabel(b,analyticsConstants.EXPLORE,a)}function trackProductSelectionEvent(b,a){BB_trackGoogleEventWithLabel(b,analyticsConstants.CHOOSE_PRODUCT,a)}function trackEnterEmailEvent(b,a){if(validateEmail(b)){BB_trackGoogleEventWithLabel(analyticsConstants.USER_DATA,analyticsConstants.ENTER_EMAIL,a)}}function setUpTrackingForProductMenu(a){$("div.getquote a").click(function(){trackGetQuoteEvent(a,$(this).attr("data-product"))});$("div.explore a").click(function(){trackExploreEvent(a,$(this).attr("data-product"))});$("a.header-icon").click(function(){trackProductSelectionEvent(a,$(this).attr("data-product"))})}function setUpTrackingForNavBar(){var a=analyticsConstants.NAV_BAR_MENU;$("a.menu-getquote").live("click",function(){trackGetQuoteEvent(a,$(this).attr("data-product"))});$("a.menu-explore").live("click",function(){trackExploreEvent(a,$(this).attr("data-product"))});$("#loans .tab-left a").live("click",trackEventsOnLevel2HeaderMenu);$("#credit-cards .tab-left a").live("click",trackEventsOnLevel2HeaderMenu);$("#fixed-deposits .tab-left a").live("click",trackEventsOnLevel2HeaderMenu);$("#insurance .tab-left a").live("click",trackEventsOnLevel2HeaderMenu)}function trackEventsOnLevel2HeaderMenu(){trackProductSelectionEvent(analyticsConstants.NAV_BAR_MENU,$(this).attr("data-product"))}function setUpTrackingForSntcForm(){$("div.sntc-form-field").on("click",function(){if(!$(this).hasClass("open")){var a=$(this).prev("select").attr("data-selection")+analyticsConstants.START;BB_trackGoogleEventWithLabel(analyticsConstants.SENTENCE_FORM,a,$("#productNameSpace").val())}});$("select.sntc-form-field").on("change",function(){var a=$(this).attr("data-selection")+analyticsConstants.COMPLETE;BB_trackGoogleEventWithLabel(analyticsConstants.SENTENCE_FORM,a,$("#productNameSpace").val())});$("input.sntc-form-field").on("click",function(){var a=$(this).attr("data-selection")+analyticsConstants.START;BB_trackGoogleEventWithLabel(analyticsConstants.SENTENCE_FORM,a,$("#productNameSpace").val())});$("input.sntc-form-field").on("change",function(){if($(this).is(":visible")){var a=$(this).attr("data-selection")+analyticsConstants.COMPLETE;BB_trackGoogleEventWithLabel(analyticsConstants.SENTENCE_FORM,a,$("#productNameSpace").val())}});$("input.sntc-form-field").on("error",function(){if($(this).is(":visible")){var a=$(this).attr("data-selection")+analyticsConstants.ERROR;BB_trackGoogleEventWithLabel(analyticsConstants.SENTENCE_FORM,a,$("#productNameSpace").val())}})}var tabberOptions=undefined;var LEAD_SRC=undefined;var cdnDomain=$("#cdnDomain").val();if($("#insurance_link_needed").val()){tabberOptions={onClick:function(e){var b=e.tabber;var d=b.id;var a=e.index;if(d=="myacc_tab"&&a==1){var c=window.open($("#mpAegonLink").val()+"/verifyOwnershipForm.html?fromMP=true","_blank");c.focus();return false}}}}var fadeTime=3000;jQuery.extend({getCachedUrl:function(a,c,d,b){if(jQuery.isFunction(c)){b=b||d;d=c;c=undefined}return jQuery.ajax({type:"GET",url:a,data:c,success:d,dataType:b,cache:true})},getCachedScript:function(a,b){return jQuery.getCachedUrl(a,undefined,b,"script")}});String.prototype.startsWith=function(a){return(this.indexOf(a)===0)};function showFeedbackForm(){$("div.SuggestSuccess").addClass("dontshow");$("div.suggest").removeClass("dontshow")}function dispBlockUI(){var executeBeforeStr=$(this).attr("executeBefore");var message_selector=$(this).attr("rel");var this_metadata=$.extend(true,{},$(this).metadata());eval(executeBeforeStr);var default_param={width:495,height:310,left:35,top:100};var div_width=(this_metadata.css&&this_metadata.css.width=="source_width"&&(delete this_metadata.css["width"])!=null)?$(this).width():(!isNaN(parseInt(this_metadata.width)))?parseInt(this_metadata.width):default_param.width,div_height=(this_metadata.css&&this_metadata.css.height=="source_height"&&(delete this_metadata.css["height"])!=null)?$(this).height():(!isNaN(parseInt(this_metadata.height)))?parseInt(this_metadata.height):default_param.height;var div_top=(this_metadata.css&&this_metadata.css.top=="centered"&&(delete this_metadata.css["top"])!=null)?$(window).height()/2-div_height/2:default_param.top+"px";var div_left=(this_metadata.css&&this_metadata.css.left=="centered"&&(delete this_metadata.css["left"])!=null)?$(window).width()/2-div_width/2:((this_metadata.css&&this_metadata.css.left&&this_metadata.css.left.length>=2&&this_metadata.css.left[0]=="bd_relative"&&(delete this_metadata.css["left"])!=null)?(($("#bd").position().left+$(this).metadata().css.left[1])+"px"):default_param.left+"%");var default_blockUI_param={css:{padding:0,margin:0,width:div_width+"px",height:div_height+"px",top:div_top,left:div_left,color:"#000",border:"0px none",backgroundColor:"transparent",textAlign:"left",cursor:"auto",zIndex:10000,focusInput:"false"},applyPlatformOpacityRules:false,overlayCSS:{backgroundColor:"#000000",opacity:"0.5"},focusInput:false,message:$(message_selector)};var default_blockUI_param_clone=$.extend(true,{},default_blockUI_param);var default_blockUI_param_2=$.extend(true,default_blockUI_param_clone,{css:{width:"592px",height:"auto",top:"5%",left:($("#bd").position().left+156)+"px"}});default_blockUI_param=(this_metadata.defaultParam=="_592_auto_5pc_bd156_"&&(delete this_metadata.defaultParam)!=null)?default_blockUI_param_2:default_blockUI_param;var merged_blockUI_param=$.extend(true,{},default_blockUI_param);$.extend(true,merged_blockUI_param,this_metadata);jQuery.blockUI(merged_blockUI_param);var executeAfter=$(this).attr("executeAfter");if(executeAfter){eval(executeAfter)}}function addValidatorRule(a,b){if(a.length<1){return}if(typeof a.rules=="function"){a.rules("add",b)}}function removeValidatorRule(a,b){if(a.length<1){return}if(typeof a.rules=="function"){a.rules("remove",b)}}function addLoadEvent(a){var b=window.onload;if(typeof b!="function"){window.onload=a}else{window.onload=function(){b();a()}}}function toWords(g){var o=["","Thousand","Lakh","Crore"];var q=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"];var e=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];var n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];var b="";function c(s){var j=[];var r=true;while(s.length>2){var t=(r&&s.length>=3)?3:2;r=false;j.push(s.substr(s.length-t,t));s=s.substr(0,s.length-t)}if(s!=""){j.push(s)}return j}function d(j){if(j==""){return j}var r=parseInt(j,10);if(r==0){return""}if(r<10){return q[r]}else{if(r>=10&&r<20){return e[r-10]}else{return n[parseInt(j.charAt(0))]+" "+q[parseInt(j.charAt(1))]}}}g=g.replace(/[\, ]/g,"");if(g!=parseFloat(g)){return"not a number"}var f=[];if(g.indexOf(".")>-1){f=g.split(".");g=f[0]}var k=0;while(g.length>0){var a=[];if(g.length>7){a=c(g.substr(g.length-7));g=g.substr(0,g.length-7)}else{a=c(g);g=""}var p="";console.log(a);for(var m=0;m<a.length;m++){var h=a[m];if(parseInt(h)==0){}else{if(h.length==3){p=q[parseInt(h.charAt(0))]+" Hundred and "+d(h.substr(1))+" "+o[m]+" "+p}else{p=d(h)+" "+o[m]+" "+p}}console.log(p)}b=(k!=0)?p+" Crore"+b:p+((f.length==0)?" Only":"");k++}if(f.length>1){g=f[1];if(g>0){b=b+" point ";for(var m=0;m<g.length;m++){b=b+q[parseInt(g.charAt(m))]+" "}}}return b.replace(/\s+/g," ")}function setCharSetValidations(){function a(c){var d=c.getAttribute("allowedcharset");var b=new RegExp("[^"+d+"]","g");if(d!=""&&b.test(c.value)){c.value=c.value.replace(new RegExp("[^"+d+"]","g"),"")}}$("input[allowedCharSet]").each(function(){a(this)}).keyup(function(){a(this)})}function tnrConvert(c){var b=Math.floor(c/12);var a=c%12;var d=b>1?b+" years ":(b==1?"1 Year ":"");var e=a>0?a+" Months":"";return d+e}function isSEM(){var b=document.location.search.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a]=="WT.srch=1"){return true}}return false}function isInternalAccess(){return $("#internalAccess").size()>0?$("#internalAccess").val()=="true":false}function isDevelopmentEnv(){return !($("#stageValue").length>0)||$("#stageValue").val()=="dev"}function isJawrDebug(){return !($("#jawrDebug").length>0)||$("#jawrDebug").val()=="true"}function isProductionEnv(){return !($("#stageValue").length>0)||$("#stageValue").val()=="prod"}function isValidmobile_nri(a){return a.length>4&&!isNaN(a)}function isMSIE(){return navigator.userAgent.indexOf("MSIE")>-1}function isOldMSIE(){return(navigator.userAgent.indexOf("MSIE 7")>-1||navigator.userAgent.indexOf("MSIE 6")>-1)}function isCookieEnabled(){var a=navigator.cookieEnabled;if(typeof navigator.cookieEnabled=="undefined"&&!a){document.cookie="testcookie";a=(document.cookie.indexOf("testcookie")!=-1)}return(a)}function getURLParameter(a){return encodeURIComponent(decodeURIComponent((RegExp(a+"=(.+?)(&|$)").exec(location.search)||[,null])[1])).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")}function popup(b,d,c){var a=window.open(b,d,c);if(a!=null&&typeof(a)!="undefined"){a.focus()}}function goToAnchor(a){document.location.href=document.location.href.split("#")[0]+"#"+a}function isHLTransfer(){if(document.location.pathname.indexOf("refinance")!=-1){return true}return getURLParameter("hltransfer")=="true"}function prefetch(){var a=$("div.prefetch");a.filter('[rel$=".txt"],[rel$=".xml"],[rel~=".js"],[rel~=".css"]').each(function(){$.ajax({url:$(this).attr("rel"),dataType:"text"})});a.filter('[rel$=".js"]').each(function(){var c=JAWR.loader.getURLs($(this).attr("rel"),"js");for(var b=0;b<c.length;b++){$.ajax({url:c[b],dataType:"text"})}});a.filter('[rel$=".css"]').each(function(){var c=JAWR.loader.getURLs($(this).attr("rel"),"css");for(var b=0;b<c.length;b++){$.ajax({url:c[b],dataType:"text"})}});a.filter('[rel$=".png"],[rel$=".jpg"],[rel$=".jpeg"],[rel$=".gif"],[rel$=".swf"]').each(function(){$.get($(this).attr("rel"))})}function css_lazy_load(){$("div.lazyloadcss").each(function(){var c=$(this).attr("rel");var e=JAWR.loader.getURLs(c,"css");for(var b=0;b<e.length;b++){var a=e[b];var d=$("<link />").attr({rel:"stylesheet",type:"text/css",media:"screen",href:a});$("body").append(d)}})}function invoke(b){if(typeof b=="string"&&typeof window[b]=="function"){b=window[b]}if(typeof b=="function"){var a=Array.prototype.splice.call(arguments,1);return b.apply(null,a)}return 0}function js_lazy_load(){var c=[];function d(g){if(typeof g=="undefined"||$.trim(g)==""){return true}var e=g.split(",");for(var f=0;f<e.length;f++){if($.inArray($.trim(e[f]),c)==-1){return false}}return true}function b(h,e,g){var f=e?e:0;if(f>=h.length){return}$.when($.getCachedScript(h[f])).done(function(j,k){c.push($.trim(h[f]));if(h[f+1]!=undefined){b(h,f+1,g)}else{if(typeof g!="undefined"){invoke(window[g])}}}).fail(function(m,k,j){b(h,f+1,g);alert("failed to load:"+h[f]+"\n Exception:"+j.message)})}function a(f){if(d(f.dependencies)){var h=JAWR.loader.getURLs(f.src,"js");if(isDevelopmentEnv()&&isJawrDebug()){b(h,0,f.func);c.push($.trim(f.src))}else{for(var e=0;e<h.length;e++){var g=$.getCachedScript(h[e]).done(function(j,k){setTimeout(function(){invoke(window[f.func]);c.push($.trim(f.src))},100)})}}}else{setTimeout(function(){a(f)},500)}}$("div.lazyloadjs").each(function(){a($(this).metadata())})}function external_js_lazy_load(){$("div.lazyloadexternaljs").each(function(){var a=document.createElement("script");a.src=$(this).metadata().src;document.body.appendChild(a)})}function lazyLoadContent(){$(".lazy-load").each(function(){var b=$(this),a=b.metadata().src;if((window.location.protocol=="https:")&&(a=="/social-tools/fb-like-header.html")){return}$.get(a,{ajax:true,encodedUrl:encodeURIComponent(document.location.href)},function(c){b.html(c)});b.removeClass("dontshow")});$(".lazy-load-images").each(function(){var b=$(this),a=b.metadata().src;if(b.is("img")){b.attr("src",a)}else{b.attr("style","background-image:url("+a+")")}})}function setCurrentHeaderNav(){setHeaderNavForProduct(window.location.pathname)}function changeNavBarAction(a){}var links=new Array();function setHeaderNavForProduct(a){if(a==undefined){return}$("div.navBar td.selected").removeClass("selected");if(a.indexOf("loan-against-property")!=-1){$(".lap_link").addClass("selected")}else{if(a.indexOf("myaccount")!=-1){$(".my_account").addClass("selected")}else{if(a.indexOf("about")!=-1){$(".about_link").addClass("selected");changeNavBarAction($(".about_link"))}else{if(a.indexOf("careers")!=-1){$(".careers_link").addClass("selected");changeNavBarAction($(".careers_link"))}else{if(a.indexOf("guide")!=-1){$(".guide_link").addClass("selected")}else{if(a.indexOf("login.html")!=-1){$(".user_login").addClass("selected")}else{if(a.indexOf("verifyOwnershipForm.html")!=-1){$(".track_app").addClass("selected")}else{urlToClassMap(a)}}}}}}}}function urlToClassMap(b){var a={"refinance-calculator":".hl_fin_link","home-loan-balance-transfer-calculator":".hl_fin_link","car-loan-emi-calculator":".cl_emi_link","home-loan-emi-calculator":".hl_emi_link","personal-loan-emi-calculator":".pl_emi_link","sip-savings-calculator":".sip_link","loan-repayment-tenure-calculator":".lrt_link","compound-interest-calculator":".cic_link","retirement-savings-calculator":".rets_link","emi-calculator":".emi_link","finance-tools":".fin_link","personal-loan":".pl_link","home-loan":".hl_link","car-loan":".cl_link","education-loan":".el_link","consumer-durable-loan":".cdl_link",loan:".loan_link","american-express-credit-card":".cc_amex_link","axis-credit-card":".cc_axis_link","citibank-credit-card":".cc_citi_link","hdfc-credit-card":".cc_hdfc_link","icici-credit-card":".cc_icici_link","indusind-credit-card":".cc_indusind_link","credit-card":".cc_link","axis-fixed-deposit-rate":".axis_fd_link","canara-bank-fixed-deposit-rate":".canara_fd_link","citibank-fixed-deposit-rate":".citi_fd_link","hdfc-fixed-deposit-rate":".hdfc_fd_link","icici-fixed-deposit-rate":".icici_fd_link","punjab-national-bank-fixed-deposit-rate":".pnb_fd_link","sbi-fixed-deposit-rate":".sbi_fd_link","andhra-bank-fixed-deposit-rate":".andhra_fd_link","united-bank-fixed-deposit-rate":".ubi_fd_link","yes-bank-fixed-deposit-rate":".yes_fd_link","indusind-fixed-deposit-rate":".indus_fd_link","central-bank-of-india-fixed-deposit-rate":".cbi_fd_link","standard-chartered-fixed-deposit-rate":".scb_fd_link","karur-vysya-bank-fixed-deposit-rate":".kyb_fd_link","hsbc-fixed-deposit-rate":".hsbc_fd_link","allahabad-bank-fixed-deposit-rate.":".allahabad_fd_link","bank-of-baroda-fixed-deposit-rate":".bob_fd_link","bank-of-india-fixed-deposit-rate":".boi_fd_link","indian-bank-fixed-deposit-rate":".indian_fd_link","ing-vysya-fixed-deposit-rate":".ing_fd_link","fixed-deposit-rate":".best_fd_link","fixed-deposit":".fd_link","life-insurance":".tli_link","customer-review":".reviewlink",reviews:".randr_link","ifsc-code":".ifsclink"};for(key in a){if(b.indexOf(key)!=-1){$(a[key]).addClass("selected");changeNavBarAction($(a[key]));$($(a[key]).parent().parent("li")).addClass("highlight");if((document.URL.indexOf("calculator")!=-1)){$(a["personal-loan"]).removeClass("selected");$($(a["personal-loan"]).parent().parent()).removeClass("highlight");$(a["car-loan"]).removeClass("selected");$($(a["car-loan"]).parent().parent()).removeClass("highlight");$(a["home-loan"]).removeClass("selected");$($(a["home-loan"]).parent().parent()).removeClass("highlight")}break}}}function checkout(a){if($("#mobileSite").val()=="true"){return}var b=$("#lead_captured");if(b.length==1&&b.val()!="true"){var c="eligibilityId="+$("#lead_eligibility").val()+"&source="+(LEAD_SRC!=undefined?LEAD_SRC:$("#lead_source").val());c+=(a==undefined)?"":"&bankId="+a;LEAD_SRC=undefined;popup("/"+$("#lead_product").val()+"/lead_show.html?"+c,"lc","width=470,height=600")}}function unbind_checkout(){window.onunload=function(){}}function setAutoCompleteOff(){$("input.autocomplete_off").each(function(){$(this).attr("autocomplete","off")})}function setDOBAutoTab(){$(".dobAutoTab").each(function(){var a=$(this).children().find("input");var b=$(a[0]);var d=$(a[1]);var c=$(a[2]);b.autotab({format:"numeric",target:d});d.autotab({format:"numeric",previous:b,target:c});c.autotab({format:"numeric",previous:d})})}function updateMedicalQuestionsYesCount(){var a=0;$(".medical_yes:checked").each(function(){if($(this).val()=="YES"){a++}});$("[modelPath='app.details.applicant.miscPersonalInfo.MEDICAL_YES_COUNT']").val(a)}$(".medical_yes").change(function(){updateMedicalQuestionsYesCount();var c=$(this).attr("modelPath");var d=c+"_PRESENT";var a=$("[modelPath='"+d+"']");if($("[modelPath='"+c+"']:checked").val()=="YES"){var b=parseInt($("[modelPath='app.details.applicant.miscPersonalInfo.MEDICAL_YES_COUNT']").val());if(b<=4){a.val("YES")}else{a.val("NO")}}else{a.val("NO")}});function setPhoneNumberAutoTab(){$(".telephone").each(function(){var a=$(this).children().find("input");var c=$(a[0]);var b=$(a[1]);c.autotab({format:"numeric",target:b});b.autotab({format:"numeric",previous:c})})}function blockUI_click_event_init(){$(".blockUIGeneral").unbind("click");$(document).on("click",".blockUIGeneral",dispBlockUI)}function dynamicContentFormatter(){setNumbering();setCurrentHeaderNav();formatNumber();setAutoCompleteOff();setCharSetValidations();$(".tenure").each(function(){$(this).text(tnrConvert($(this).text()))})}function truncateName(k,a,e,f){var c=$.trim(k);var b=c;var j=c.length;var g=7;a=a||32;f=((f+1)||(g+1))-1;if(j>a){var h=c.substring(j-f,j);var m=e||"..";var d=c.substring(0,a-f-m.length+1);b=d+m+h}return b}function onDocReady(){setDOBAutoTab();setPhoneNumberAutoTab();dynamicContentFormatter();updateMedicalQuestionsYesCount();if(typeof(isTrackingEnabled)===typeof(Function)&&isTrackingEnabled()){copyAjaxContentResponseToBody()}blockUI_click_event_init();invoke("onDocReady_");showFbGooglePlusLayover()}function getAge(b){var d=getServerDate();var c=d.getFullYear()-b.getFullYear();var a=d.getMonth()-b.getMonth();if(a<0||(a===0&&d.getDate()<b.getDate())){c--}return c}function setToggleCheckBox(f,c){var e=c?parseInt(c):0;var d;if(!isNaN(e)){var a=$(f).parents().eq(e);d=a.find("input")}if(d!=undefined){var b;c=d.filter(function(){var h=false;var g=this;$(f).each(function(){h=h||(g.isEqualNode(this))});return !h});setToggleCheckBox(f,c)}f.change(function(g){if($(this).attr("checked")=="checked"){c.attr("checked",false).trigger("change")}});c.change(function(g){if($(this).attr("checked")=="checked"){f.attr("checked",false).trigger("change")}})}var fbGPlusTimeout;function pollForFbGooglePlusPopup(a){fbGPlusTimeout=setTimeout(function(){if($(".blockUI.blockMsg.blockPage").length>0){pollForFbGooglePlusPopup(10*1000)}else{$("#fb_goolePlus_layOver").each(dispBlockUI)}},a)}function showFbGooglePlusLayover(){if($("#fBLayover_StartTime").val()=="0"&&$("#fBLayover_StartTime_Backup").length>0){$("#fBLayover_StartTime").val($("#fBLayover_StartTime_Backup").val())}if($("#showFbGplusLayover").val()=="true"&&$("#fBLayover_StartTime").val()!="0"){var a=5*60*1000-(new Date().getTime()-Number($("#fBLayover_StartTime").val()));pollForFbGooglePlusPopup(a);$("#fb_goolePlus_layOver .fb-likes-form-close").click(function(){var c="";if($("#productNameSpace").val()!=null){c="/"+$("#productNameSpace").val()+"/"}var b=c+"disable_fbLayover.html";$.post(b,function(){$.unblockUI();$("#showFbGplusLayover").val("false")})})}}$(onDocReady);$(window).load(function(){setTimeout(function(){lazyLoadContent();prefetch();css_lazy_load();js_lazy_load();external_js_lazy_load();invoke("postLoad_")},100)});var toTitleCase=function(b){var a=b.toLowerCase();return a.replace(/(?:^|\s)\w/g,function(c){return c.toUpperCase()})};function S4(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}function generateGUID(){return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4())}function xSellCongrats(a){$("#xsellCongratsButton").click(function(){$.ajax({cache:false,url:"saveXsellDetails.html",type:"post",data:a=="partner"?{xsellApplicationType:a,appId:$("#appId").val()}:{xsellApplicationType:a},async:true,success:function(b){$("#xsellCongratsButton").attr("disabled",true);$("#xsellCongratsButton").addClass("csp-grey-btn");$("#xsellCongratsButton").removeClass("csp-btn");$(".xsellSuccess").removeClass("dontshow")}})})}window.onunload=checkout;(function(){try{var c="testKey",b="testValue";window.localStorage.setItem(c,b)}catch(a){if(window.localStorage==undefined||window.localStorage==null){window.localStorage={}}window.localStorage.__proto__=Object.create(Storage.prototype);window.localStorage.__proto__.CUSTOM_MEMORY={};window.localStorage.__proto__.setItem=function(d,e){this.CUSTOM_MEMORY[d]=e};window.localStorage.__proto__.getItem=function(d){if(d in this.CUSTOM_MEMORY){return this.CUSTOM_MEMORY[d]}return undefined}}})();var loadEventReported=false;var DYNAMIC_OFFERS_GROUP="dynamicOffers";var OFFER_GROUP="offer";var ZERO_OFFER_GROUP="zeroOffersPage";var APP_GROUP="app";var APP_STANDALONE="appStandalone";var SEARCH_GROUP="search";var CONGRATS_GROUP="postAppPage";var NEW_CONGRATS_GROUP="newCongratsPage";var SLIDE_ELIG_GROUP="slideElig";var OFFER_DETAILS_GROUP="offerDetails";var SENTENCE_ELIG_GROUP="sntcElig";var COMPLETE_ELIG_GROUP="cmplElig";var PARTNER_PAGE_GROUP="partnerpage";var GATEWAY_PAGE_GROUP="gateway";var REVIEW_PAGE_GROUP="review";var DASHBOARD_PAGE_GROUP="dashboard";var PREAPP_PAGE_GROUP="preAppPage";var EKYC_SLIDE_GROUP="EKYC_SLIDES";var EKYC_SLIDES_GROUP="ekycSlides";var ELIGIBILITY_GET_QUOTE="getQuote";var CC_PARTNER_GROUP="eligibility-monolithic-partner";var ALL_PRODUCT="all-product";var CREDIT_REPORT_GROUP="creditReportPage";var PASA_DP_SLIDE="PASA_DP_SLIDE";var DP_CHECK_SLIDES="DP_CHECK_SLIDES";function reportPageLoadEventAfterAjaxContent(){invokeAfterAjaxCall(function(){if(!loadEventReported){reportPageLoadEvent();loadEventReported=true}})}function getAppPageGroups(){var a=[PREAPP_PAGE_GROUP,APP_GROUP,CONGRATS_GROUP];return a}function reportPageLoadEvent(){var a=["searchPage","zeroOffersPage","insuranceOfferPage","indexPage","bankReviewRating","newBootStrapMyAccount","allLoans","allInsurance","dataDrivenNewBootstrapThankYouPage","preAppPage","DP_CHECK_SLIDES","landingPage","newBootstrapAppPage","newBootstrapThankYouPage","eligPage","landingPageNewLayout","eligibility-monolithic-partner","individualBankReviewRating","review-standalone","creditReportPage","fastTrackDPPage"];if(a.indexOf($("#pageName").val())!=-1){BB_trackGoogleEventWithLabel($("#productNameSpace").val()==""?ALL_PRODUCT:$("#productNameSpace").val()+"_"+getGroupName(),"page_load")}}function getGroupName(){var a;if($("#pageName").val()=="newBootstrapAppPage"){a=APP_GROUP}else{if($("#pageName").val()=="eligPage"||$("#pageName").val()=="landingPageNewLayout"){a=SLIDE_ELIG_GROUP}else{if($("#pageName").val()=="eligibility-monolithic-partner"){a=PARTNER_PAGE_GROUP}else{if($("#pageName").val()=="searchPage"||$("#pageName").val()=="insuranceOfferPage"){a=OFFER_GROUP}else{if($("#pageName").val()=="indexPage"){a=GATEWAY_PAGE_GROUP}else{if($("#pageName").val()=="bankReviewRating"){a=REVIEW_PAGE_GROUP}else{if($("#pageName").val()=="newBootStrapMyAccount"){a=DASHBOARD_PAGE_GROUP}else{if($("#pageName").val()=="preAppPage"||$("#pageName").val()=="DP_CHECK_SLIDES"){a=PREAPP_PAGE_GROUP}else{if($("#pageName").val()=="dataDrivenNewBootstrapThankYouPage"){a=CONGRATS_GROUP}else{if($("#pageName").val()=="newBootstrapThankYouPage"){a=NEW_CONGRATS_GROUP}else{if($("#variantPageName").val()!=undefined&&$("#variantPageName").val()!=""){a=$("#pageName").val()+"-"+$("#variantPageName").val()}else{if($("#pageName").val()=="creditReportPage"){a=CREDIT_REPORT_GROUP}else{if($("#pageName").val()=="fastTrackDPPage"){a=PASA_DP_SLIDE}else{if($("#pageName").val()=="zeroOffersPage"){a=ZERO_OFFER_GROUP}else{a=$("#pageName").val()}}}}}}}}}}}}}}return a}var TRACKER_COOKIE="trckr";var UBID_COOKIE="ubid";var WTMCID_COOKIE="WT.mc_id";var SDID_COOKIE="WT.sd_id";var SESSION_WEBEVENT_COOKIE="sessionWebEvent";var SESSION_WEBEVENT_SENT="sent";var EXPERIMENT_COOKIE="xt";var OFFER_MAX_ELIG="maxElig";var OFFER_MIN_INTEREST="minInterest";var OFFER_OFFER_COUNT="offerCnt";var OFFER_SEARCH_ID="searchId";var SUM_ASSURED="sumAssured";var MIN_INSURED_AMOUNT="minInsurance";var MAX_INSURED_AMOUNT="maxInsurance";var BANK_STATEMENT_POPUP="bankstmt-popup";var ADDRESS_PROOF_POPUP="address-popup";var popupPagesList=[BANK_STATEMENT_POPUP,ADDRESS_PROOF_POPUP];var SERVICE_PROVIDER="serviceProvider";var DOCUMENT_CATEGORY="documentCategory";var nameToIdPopupMap={CREDITCARD_STATEMENT:"newAppForm_scrapeCreditCard",ELECTRICITY_BILL:"newAppForm_scrapeElectricityBill",MOBILE_BILL:"newAppForm_scrapeMobileBill",LANDLINE_BILL:"newAppForm_scrapeLandline",GAS_BILL:"newAppForm_scrapeGas"};var BBERROR_EVENT=",bberror:error";var PREFILL_DATA_ATTRIBUTE="data-actionData";var ajaxifiedCarouselInMobile=false;var mobileFilterMapSlide={};var mobileFilterMapList={};var prefillActiveForFlow=false;var prefillSupportedPageNames=["newBootstrapAppPage","eligPage","landingPage","landingPageNewLayout","eligibility-monolithic-partner"];var prefillEnabledPage=($("#pageName")!=undefined&&(prefillSupportedPageNames.indexOf($("#pageName").val())!=-1));var eligibilityPageNameList=["landingPageNewLayout","landingPage","eligPage"];var totalFields=0;var prefilledFields=0;var prefillEdits=0;var editedPrefilledFields={};var sentenceTotalFields=0;var sentencePrefilledFields=0;var sentencePrefillEdits=0;var sentenceEditedPrefilledFields={};var dynamicTotalFields=0;var dynamicPrefilledFields=0;var dynamicPrefillEdits=0;var dynamicEditedPrefilledFields={};var loadEventReported=false;var areSlidesInitialized=false;var productTypeVariantMap={CANCER_CARE_INSURANCE:"cancer-insurance"};var appPage=false;var TrackEventsHelper={};function initTrackEvents(a,b){if(!window.hasCopiedHiddenVariablesToBody){copyAjaxContentResponseToBody()}if(b=="mobile"){ajaxifiedCarouselInMobile=true}if(typeof a=="function"||typeof a=="undefined"){a=$(document)}$.TrackEvents=new TrackEvents(a);preparePrefillDataFields()}var offersFramework=$("#offersFramework").val();var ajaxEnabledForElig=$("#ajaxEnabledForElig").val();if(!offersFramework&&!ajaxEnabledForElig&&$("#pageName").val()!="eligibility-monolithic-partner"){$(initTrackEvents)}function TrackEvents(o){o.find("[data-action]").each(function(){var y=getEventsToRegister($(this));for(var z=0;z<y.length;z++){var B=y[z].split(":");if(B.length>=1&&B.length<=3){var A=B[0];$(this).on(A,function(F){var C=F.type;var E=s($(this),q($(this),C));if(c(E)||h(E)){return}var G=getEventInfo();var D=n($(this),E);var H=null;if($(this).is(":radio")){if($(this).is(":checked")){H=getWebEvent(G,E,D)}else{if($(this).is(":not(:checked)")&&C=="bberror"){H=getWebEvent(G,E,D)}}}else{H=getWebEvent(G,E,D)}if(H){reportWebEventInfoToGA($(this),H)}})}else{}}});function c(y){return y==null||(!areSlidesInitialized&&y.group=="slideElig")}function h(B){var y=(getAppPageGroups().indexOf(B.group)!=-1);var D=B.name;var C=$(".eform-block").attr("data-actionloc")?$(".eform-block").attr("data-actionloc").split(":"):undefined;var z=C?C[C.length-1]:"";var A=z&&z!="";return D==BBERROR_EVENT.split(":")[1]&&y&&A&&B.location.indexOf(z.trim())!=-1}if(o.selector==$(document).selector){t()}function t(){invokeAfterAjaxCall(function(){if(!loadEventReported){reportPageLoadEvent();loadEventReported=true}})}function q(C,A){var y=getEventsToRegister(C);for(var z=0;z<y.length;z++){var D=y[z].split(":");var B=D[0];if(A===B){return D[1]}}}function m(){return x(new Date())}function x(D){var A=D.getFullYear();var F=D.getMonth()<10?"0"+(D.getMonth()+1):(D.getMonth()+1);var y=D.getDate()<10?"0"+D.getDate():D.getDate();var C=D.getHours()<10?"0"+D.getHours():D.getHours();var z=D.getMinutes()<10?"0"+D.getMinutes():D.getMinutes();var B=D.getSeconds()<10?"0"+D.getSeconds():D.getSeconds();var E=A+"-"+F+"-"+y+" "+C+":"+z+":"+B;return E}function s(A,E){var D;if(typeof A.attr("data-actionLoc")=="undefined"){D=A.parents("[data-actionloc]").attr("data-actionLoc")}else{D=A.attr("data-actionLoc")}if(D==undefined){return null}var C=D.split(":");var y=C[0];var B=$("#eForm_form_details_uiParameters_formType").val();if(typeof B!="undefined"&&B=="medium"&&y=="slideElig"){y="cmplElig"}var G=C[1];if(G&&$("#pageName").val()!="newBootstrapAppPage"&&G.split(".").length>1){var F=G.split(".");G=F[F.length-1]}if(G=="slideNav"){G=$("#dataDrivenEligCarousel").length>0?$("#dataDrivenEligCarousel .item.active").attr("slidename"):$("#newstaggered-carousel .item.active").attr("slidename")}if(y==undefined||y==""){y=$("#pageName").val()}if(y=="eligPage"||y=="landingPageNewLayout"){y=SLIDE_ELIG_GROUP}else{if(y=="newBootstrapAppPage"&&$("#standalonePage").val()=="true"){y=APP_STANDALONE}else{if(y=="newBootstrapAppPage"){y=APP_GROUP}else{if(y=="newBootstrapThankYouPage"||$("#pageName").val()=="dataDrivenNewBootstrapThankYouPage"){y=CONGRATS_GROUP;var H=$('[name="formActionName"]').val();G=H&&H!=""?H+"-"+G:G}else{if(y=="insuranceOfferPage"||y=="searchPage"){y=OFFER_GROUP}else{if(y=="app"&&$("#pageName").val()=="newBootstrapThankYouPage"){y=CONGRATS_GROUP;var H=$('[name="formActionName"]').val();G=H&&H!=""?H+"-"+G:G}else{if(y=="app"&&$("#pageName").val()=="eligibility-monolithic-partner"){y=PARTNER_PAGE_GROUP}else{if(y=="indexPage"){y=GATEWAY_PAGE_GROUP}else{if(y=="creditReportPage"){y=CREDIT_REPORT_GROUP}else{if(y=="DP_CHECK_SLIDES"||y=="preAppPage"){y=PREAPP_PAGE_GROUP}}}}}}}}}}if(y==PREAPP_PAGE_GROUP||y==CONGRATS_GROUP){if(!G||G==""){G=$("div.active").attr("slideName")}}var z={group:y,name:E,location:G,prevlocation:localStorage?localStorage.getItem("prevActionLocValstr"):"",prevaction:localStorage?localStorage.getItem("prevActionValstr"):""};return z}function f(){var y={trckr:w(TRACKER_COOKIE),ubid:w(UBID_COOKIE),site:$("#global_website").val(),url:location.href,usragnt:navigator.userAgent,navappversion:navigator.appVersion,referer:document.referrer,source:p()};if(!isProductionEnv()){y.env="internal"}if($("#variantOptions").val()!=""){y.variantOpt=$("#variantOptions").val()}if(w(WTMCID_COOKIE)!=""){y.wtmcid=decodeURIComponent(w(WTMCID_COOKIE))}if(w(SDID_COOKIE)!=""){y.wtsdid=decodeURIComponent(w(SDID_COOKIE))}if(getParameterByName("variant")!=""){y.variant=getParameterByName("variant")}if(u()){dataOtherArray=[];var z={name:"sessionExpiredRequest"};dataOtherArray.push(z);y.other=dataOtherArray}var A=$("#channelKey").val();if(A!=undefined&&A!=""){y.channel=A}var B=w(EXPERIMENT_COOKIE);if(B!=undefined&&B!=""){y.expDetails=B}return y}function p(){return $("#mobileSite").val()=="false"?"Desktop":"Mobile"}setTimeout(function(){if(isCookieEnabled()==true){if(w(SESSION_WEBEVENT_COOKIE)!=SESSION_WEBEVENT_SENT||u()){var y=f();if(y&&j(y)){setCookie(SESSION_WEBEVENT_COOKIE,SESSION_WEBEVENT_SENT,null,"/");if(u()){$("#isSessionExpiredRequest").val("false");d("ins_exp")}}}}},2000);function u(){if($("#isSessionExpiredRequest").val()=="true"||w("ins_exp")!=""){return true}return false}var d=function(y){document.cookie=y+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"};function j(y){return(y.ubid!=null&&y.ubid!="")?true:false}function w(A){var z=A+"=";var y=document.cookie.split(";");for(var B=0;B<y.length;B++){var C=y[B];while(C.charAt(0)==" "){C=C.substring(1)}if(C.indexOf(z)!=-1){return C.substring(z.length,C.length)}}return""}function b(){dataOtherArray=[];var y=$("#initialOfferLimit").val();if(y!=undefined&&y!=""){var z={name:"initialOfferLimit",valint:y};dataOtherArray.push(z)}if($("#pre-approved-zero-offers")!=undefined&&$("#pre-approved-zero-offers").val()=="true"){var z={name:"paOfferCnt",valint:0};dataOtherArray.push(z)}else{if($("#pre-approved-offers-present")!=undefined&&$("#pre-approved-offers-present").val()=="true"){var z={name:"paOfferCnt",valint:1};dataOtherArray.push(z)}}return dataOtherArray}function k(B){var y="";if(B.is(":radio")){if(B.is(":checked")){y=B.val()}}else{if(B.is("label")){if(B.attr("data-val")==undefined){y=B.find("input").val()?B.find("input").val():B.attr("listKey")}else{y=B.attr("data-val")}}else{if(B.is("div")){y=B.find("input").val()}else{if(B.is("td")){y=B.children().attr("data-val")}else{if(B.is("a")){y=B.text()}else{if(B.is("select")){y=B.find(":selected").text()}else{if(B.is("input")&&$("#mobileSite").val()=="true"){var A=$("ul.js-documentDropDown").find(".active");var z=A?A[0]:undefined;y=z?$(z).text():y}else{y=B.val()}}}}}}}return y?y.trim():""}function n(Q,y){var T={};if(y.group==SLIDE_ELIG_GROUP||y.group==COMPLETE_ELIG_GROUP){S()}if(y.group==SENTENCE_ELIG_GROUP){B()}if(y.group==OFFER_GROUP){M();T.other=b()}if(y.group==APP_GROUP||y.group==CONGRATS_GROUP||y.group==APP_STANDALONE||y.group==PREAPP_PAGE_GROUP||y.group==DP_CHECK_SLIDES||y.group==EKYC_SLIDE_GROUP||y.group==EKYC_SLIDES_GROUP){C()}if(y.group==OFFER_DETAILS_GROUP){K()}if(y.group==CONGRATS_GROUP){R()}var z=getGlobalUserContextForEvents();for(var I in z){if(z.hasOwnProperty(I)){T[I]=z[I]}}if(y.name=="load"){if(!T.other){T.other=[]}T.other.push(G());H(T.other);if(($("#pageName")!=undefined&&(eligibilityPageNameList.indexOf($("#pageName").val())!=-1))){L(T.other)}}const P=A(Q,y);if(P){if(!T.other){T.other=[]}T.other=T.other.concat(P)}if(y.name=="load"){D()}else{N()}if((y.location=="submit"&&y.group==APP_GROUP)||(y.location=="end"&&y.name==ELIGIBILITY_GET_QUOTE&&(y.group==SLIDE_ELIG_GROUP||y.group==SENTENCE_ELIG_GROUP))||(y.location=="dynamicOffers"&&y.name=="submit")||(y.location=="partnerPageSubmit"&&y.name==ELIGIBILITY_GET_QUOTE)){J()}F();return T;function F(){if(y.group==APP_GROUP&&y.name=="submit"&&popupPagesList.indexOf(y.location)!=-1){if(y.location==BANK_STATEMENT_POPUP){var W=$('[name="scrapeProviderKey"]').find("option:selected").text();T[SERVICE_PROVIDER]=W;T[DOCUMENT_CATEGORY]="BANK STATEMENT"}else{if(y.location==ADDRESS_PROOF_POPUP){var V=$('[name="scrapeType"]').find("option:selected").text();var U=$('[name="scrapeType"]').find("option:selected").val();var X=$("#"+nameToIdPopupMap[U]).find("option:selected").text();T[SERVICE_PROVIDER]=X;T[DOCUMENT_CATEGORY]=V}}}}function J(){if(prefillActiveForFlow&&prefillEnabledPage){if(!T.other){T.other=[]}var U=null,V=null,W=null;if(y.group==APP_GROUP||y.group==SLIDE_ELIG_GROUP){U=totalFields;V=prefilledFields;W=prefillEdits}else{if(y.group==SENTENCE_ELIG_GROUP){U=sentenceTotalFields;V=sentencePrefilledFields;W=sentencePrefillEdits}else{if(y.group==DYNAMIC_OFFERS_GROUP||y.group==PARTNER_PAGE_GROUP){U=dynamicTotalFields;V=dynamicPrefilledFields;W=dynamicPrefillEdits}}}if(U!=null){T.other.push({name:"totalFields",valstr:U.toString()});T.other.push({name:"prefilledFields",valstr:V.toString()});T.other.push({name:"prefillEdits",valstr:W.toString()})}}}function G(){var U=[];var W=getParameterByName("variant");if(W!=undefined&&W!=""){var X={name:"variant",valstr:W};U.push(X)}var V=$("#variantOptions").val();if(V!=undefined&&V!=""){var X={name:"variantOpt",valstr:V};U.push(X)}return U}function H(U){var W=$("#customerSignUp").val();if(W!=undefined&&W!=""){var V={name:"customerSignUp",valbool:W};U.push(V)}}function L(U){var W=$("#isLandingPage").val();if(W!="TRUE"){var V={name:"Seo",valstr:1};U.push(V)}}function C(){T.searchId=$("#appId").val();T.offerBank=$("#bankName").val();if(localStorage.getItem("appPageOfferRate")!="undefined"&&localStorage.getItem("appPageOfferRate")!=undefined){T.offerRate=localStorage.getItem("appPageOfferRate")}if(localStorage.getItem("appPageOfferIndex")!="undefined"&&localStorage.getItem("appPageOfferIndex")!=undefined){T.offerIndex=localStorage.getItem("appPageOfferIndex")}}function N(){if(!(prefillActiveForFlow&&prefillEnabledPage)){return}if(!(y.name=="edit"||y.name=="enterMobile"||y.name=="enterEmail"||y.name=="enterName")){return}if(!T.other){T.other=[]}var U=Q;var Z=!Q.attr(PREFILL_DATA_ATTRIBUTE)?"false":(Q.attr(PREFILL_DATA_ATTRIBUTE)=="prefilled"?"true":"false");if(Z=="false"){$("[name='"+Q.attr("name")+"']").each(function(){el=$(this);if(Z=="false"){Z=!el.attr(PREFILL_DATA_ATTRIBUTE)?"false":(el.attr(PREFILL_DATA_ATTRIBUTE)=="prefilled"?"true":"false");if(Z=="true"){U=el}}})}var Y={"salary-slider":"form.details.applicant.income.monthlyTakeHomeSalary","workexp-slider":"form.applicantPlaceHolder.employmentStartDate.year","workexp-month":"form.applicantPlaceHolder.employmentStartDate.year","workexp-year":"form.applicantPlaceHolder.employmentStartDate.year","joindate-year":"form.applicantPlaceHolder.employmentStartDate.year","grossmonthlysalary-slider":"form.details.applicant.income.grossMonthlyIncome","annualbonus-slider":"form.details.applicant.income.recentAnnualPerformanceBonus","avgmonthlyincentive-slider":"form.details.applicant.income.averageMonthlyIncentives","movedtocity-month":"form.applicantPlaceHolder.cityStartDate.year","movedtocity-year":"form.applicantPlaceHolder.cityStartDate.year","movedtores-year":"form.applicantPlaceHolder.residenceStartDate.year","movedtores-month":"form.applicantPlaceHolder.residenceStartDate.year","dob-slider":"form.applicantPlaceHolder.dob.year","dob-month":"form.applicantPlaceHolder.dob.year","totalemi-slider":"form.details.applicant.income.totalEMI",residencetype:"form.details.applicant.residenceType","maximumcredit-slider":"form.details.applicant.income.maximumCreditOfExistingCards",employer:"form.applicantPlaceHolder.companyName",salary:"form.details.applicant.income.monthlyTakeHomeSalary","loanamount-slider":"form.details.intendedLoanAmount",loanamount:"form.details.intendedLoanAmount","joindate-slider":"form.applicantPlaceHolder.totalWorkExperience","propertycost-slider":"form.details.property.costOfProperty","coapp_joindate-year":"form.coApplicantPlaceHolder.employmentStartDate.year","coapp_joindate-slider":"form.coApplicantPlaceHolder.totalWorkExperience","coapp_annualbonus-slider":"form.details.coApplicant.income.recentAnnualPerformanceBonus","coapp_avgmonthlyincentive-slider":"form.details.coApplicant.income.averageMonthlyIncentives","coapp_totalemi-slider":"form.details.coApplicant.income.totalEMI"};var V={"home-loan":{salary:"form.details.applicant.income.grossMonthlyIncome",loanamount:"form.details.property.costOfProperty"},"car-loan":{salary:"form.details.applicant.income.grossMonthlyIncome"}};if((y.group==SLIDE_ELIG_GROUP||y.group==SENTENCE_ELIG_GROUP||y.group==DYNAMIC_OFFERS_GROUP)&&Z=="false"){var X=$("#productNameSpace").val();if(V[X]!=null&&V[X][y.location]!=null){U=$("input[name='"+V[X][y.location]+"']")}else{if(Y[y.location]!=null){U=$("input[name='"+Y[y.location]+"']")}}if(U!=null){Z=!U.attr(PREFILL_DATA_ATTRIBUTE)?"false":(U.attr(PREFILL_DATA_ATTRIBUTE)=="prefilled"?"true":"false")}}var W={name:"prefillFieldStatus",valstr:Z};if(Z=="true"){if(y.group==APP_GROUP||y.group==SLIDE_ELIG_GROUP){if(!editedPrefilledFields[U.attr("name")]){editedPrefilledFields[U.attr("name")]=1;prefillEdits++}}else{if(y.group==SENTENCE_ELIG_GROUP){if(!sentenceEditedPrefilledFields[U.attr("name")]){sentenceEditedPrefilledFields[U.attr("name")]=1;sentencePrefillEdits++}}else{if(y.group==DYNAMIC_OFFERS_GROUP||y.group==CC_PARTNER_GROUP){if(!dynamicEditedPrefilledFields[U.attr("name")]){dynamicEditedPrefilledFields[U.attr("name")]=1;dynamicPrefillEdits++}}}}}T.other.push(W)}function O(V){if(V!=null&&V.get(0)!=null){var U=" ";$.each(V.get(0).attributes,function(){if(this.specified){U+=", "+this.name+":"+this.value}});return U}return""}function D(){preparePrefillDataFields();if(prefillActiveForFlow&&prefillEnabledPage){if(!T.other){T.other=[]}var U={name:"prefillFlowStatus",valstr:"true"};T.other.push(U)}}function M(){T[OFFER_OFFER_COUNT]=v($("#offerCount").val());if($("#pageName").val()=="insuranceOfferPage"){T[OFFER_SEARCH_ID]=$("#appId").val();T[SUM_ASSURED]=$("#productShortName").val()=="CarInsurance"?v($("#idv_Actuals").val()):v($("#sumAssured_Actuals").val());T[MIN_INSURED_AMOUNT]=v($("#minInsuranceAmount").val());T[MAX_INSURED_AMOUNT]=v($("#maxInsuranceAmount").val());T.offerBank=Q.closest("section").find(".js-offers-row-company-name-plan-name").attr("data-company-name-plan-name");T.offerIndex=Q.parents("section:first").attr("offerIndex");if(T.offerIndex!="undefined"){localStorage.setItem("appPageOfferIndex",T.offerIndex)}}else{if($("#pageName").val()=="searchPage"){T[OFFER_MAX_ELIG]=v($("#maxElig").val());T[OFFER_MIN_INTEREST]=v($("#minInterest").val());T[OFFER_SEARCH_ID]=$("#searchReferenceId").val();var U=Q.closest("section").find(".js-offers-row-bank").attr("data-bank");if(U==undefined){U=Q.closest("section").find(".js-offers-row-bank-website").attr("data-bank-website")}T.offerBank=U;T.offerRate=Q.parents("section:first").find(".js-offers-row-interest-rate").attr("data-interest-rate");if(T.offerRate==null){T.offerRate=Q.parents("section:first").find(".js-offers-row-annual-fee").attr("data-annual-fee")}T.offerIndex=Q.parents("section:first").attr("offerIndex");if(T.offerIndex!="undefined"){localStorage.setItem("appPageOfferIndex",T.offerIndex)}if(T.offerRate!="undefined"){localStorage.setItem("appPageOfferRate",T.offerRate)}}}}function K(){if($("#searchReferenceId").val()!=""){T[OFFER_SEARCH_ID]=$("#searchReferenceId").val()}T.offerBank=$("input[name='bankName']").length>1?$("#js-outer-carousel-offer div.item.active").find("input[name='bankName']").val():$("input[name='bankName']").val()}function E(){return $("#dataDrivenEligCarousel").length>0}function B(){var W=$("#eFormSentence_form_applicantPlaceHolder_residenceCity_value").val();if(W=="OTHER"){W=$("#eFormSentence_form_applicantPlaceHolder_residenceCity_fallback").val()}var V=$("input[name='form.applicantPlaceHolder.companyName']").val();var U=($("#productNameSpace").val()=="personal-loan"||$("#productNameSpace").val()=="credit-card")?$("input[name='form.details.applicant.income.monthlyTakeHomeSalary']").val():$("input[name='form.details.applicant.income.grossMonthlyIncome']").val();if(W!=""){T.city=W}if(V!=""){T.company=V}if(U!=""){T.salary=v(U)}}function S(){var X=$('input[name="form.applicantPlaceHolder.residenceCity.value"]');if(X.is(":radio")){var Z=($('input[name="form.applicantPlaceHolder.residenceCity.value"]:radio:checked').val()!=BBConstants.otherValue)?$('input[name="form.applicantPlaceHolder.residenceCity.value"]:radio:checked').val():$("#form_applicantPlaceHolder_residenceCity_fallback[name='form.applicantPlaceHolder.residenceCity.fallback']").val()}else{var Z=X.val()}var V=$('input[name="form.applicantPlaceHolder.salaryBank.value"]');if(V.is(":radio")){var aa=($('input[name="form.applicantPlaceHolder.salaryBank.value"]:radio:checked').val()!=BBConstants.otherValue)?$('input[name="form.applicantPlaceHolder.salaryBank.value"]:radio:checked').val():$("input[name='form.applicantPlaceHolder.salaryBank.fallback']").val()}else{var aa=V.val()}var Y=E?$('#slideForm [name="form.applicantPlaceHolder.companyName"]').val():$('#companyNameFieldSal[name="form.applicantPlaceHolder.companyName"]').val();if(typeof Y=="undefined"){Y=$('[name="form.applicantPlaceHolder.companyName"]').val()}var W=($("#productNameSpace").val()=="personal-loan"||$("#productNameSpace").val()=="credit-card")?(E?$('#slideForm [name="form.details.applicant.income.monthlyTakeHomeSalary"]').val():$('.news-tagger-input[name="form.details.applicant.income.monthlyTakeHomeSalary"]').val()):(E?$('#slideForm [name="form.details.applicant.income.grossMonthlyIncome"]').val():$('.news-tagger-input[name="form.details.applicant.income.grossMonthlyIncome"]').val());if(typeof W=="undefined"){W=($("#productNameSpace").val()=="personal-loan"||$("#productNameSpace").val()=="credit-card")?$('[name="form.details.applicant.income.monthlyTakeHomeSalary"]').val():$('[name="form.details.applicant.income.grossMonthlyIncome"]').val()}var U=$(".tabbable-one .active a").attr("title");if(U!=undefined&&U!=""){T.activeSection=U}if(Z!=""){T.city=Z}if(Y!=""){T.company=Y}if(W!=""){T.salary=v(W)}if(aa!=""){T.salaryaccount=aa}}function R(){console.log("[getBSAddressProofSlideData] Fetching user input for webevents");var V=$('input[name="bsAddressProofSelectionFlag"]');if(V.is(":radio")){var U=($('input[name="bsAddressProofSelectionFlag"]:radio:checked').val()!=BBConstants.otherValue)?$('input[name="bsAddressProofSelectionFlag"]:radio:checked').val():false;T.bankStatementAsAddressProof=U}}function A(Y,W){if(!getInclData(Y,W.name)){return undefined}var X=[];if(ajaxifiedCarouselInMobile==true){for(var U in mobileFilterMapList){var V={name:mobileFilterMapList[U],valstr:U};X.push(V)}for(var U in mobileFilterMapSlide){var V={name:U,valstr:mobileFilterMapSlide[U]};X.push(V)}ajaxifiedCarouselInMobile=false;mobileFilterMapList={};mobileFilterMapSlide={};return X}X.push(g(Y,W));return X}}function g(B,z){var y=getKeyForCurrentValue(B,z);var A=B.is("[data-value]")?B.attr("data-value"):k(B);return{name:y,valstr:A}}function a(A,z,y){if(y=="str"){A.valstr=z}else{if(y=="int"){A.valint=z}else{if(y=="float"){A.valfloat=z}else{if(y=="bool"){A.valbool=z}else{if(y=="time"){A.valtime=z}}}}}}function e(B,C,z){var A=JSON.stringify(z);var y=btoa(A);r(B,C,y,null)}function r(D,C,B,E){var G=E||"application/octet-stream";var F={name:C,mimeType:G};const z="-------314159265358979323846";const y="\r\n--"+z+"\r\n";const H="\r\n--"+z+"--";var A=y+"Content-Type: application/json\r\n\r\n"+JSON.stringify(F)+y+"Content-Type: "+G+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+B+H}function v(y){return((typeof y!="undefined")?(parseFloat(y.replace(/,/g,""))):y)}TrackEventsHelper.getGroupName=getGroupName;TrackEventsHelper.getData=n}function getWebEventGroupName(){if(TrackEventsHelper.getGroupName!=undefined){return TrackEventsHelper.getGroupName()}}function getWebEventData(b,a){if(TrackEventsHelper.getData!=undefined){return TrackEventsHelper.getData(b,a)}}function getInclData(e,c){var a=getEventsToRegister(e);for(var b=0;b<a.length;b++){var f=a[b].split(":");var d=f[1];if(c===d){return(f[2]!=undefined&&f[2].toLowerCase()=="incldata")}}}function getEventsToRegister(f){var g=f.attr("data-action");if(g!=null&&g!=""){var d=g.split(":");var c=undefined;var a=undefined;var e=undefined;if(d[0]!==undefined){c=d[0].split(",")}if(d[1]!==undefined){a=d[1].split(",")}if(d[2]!==undefined){e=d[2]}g=null;if(c!==undefined&&a!==undefined){for(var b=0;b<c.length;b++){if(g==null){g=c[b]+":"+a[b]}else{g=g+","+c[b]+":"+a[b]}if(e!=""&&e!=null){g=g+":"+e}}}}g=g+BBERROR_EVENT;return g.split(",")}function getKeyForCurrentValue(b,a){return(b.is("[data-name]")?b.attr("data-name"):a.location)}function mobileFilterValues(a,c,b){if(b=="list"){if(c in mobileFilterMapList){delete mobileFilterMapList[c]}else{mobileFilterMapList[c]=a}}else{if(a in mobileFilterMapSlide){delete mobileFilterMapSlide[a]}mobileFilterMapSlide[a]=c}}function getEventInfo(){var a=$("#productNameSpace").val()==""?ALL_PRODUCT:$("#productNameSpace").val();var b={ubid:getCookie(UBID_COOKIE),trckr:getCookie(TRACKER_COOKIE),xtCookie:getCookie(EXPERIMENT_COOKIE),campaignId:getCookie(WTMCID_COOKIE),sdCampaignId:(getCookie(SDID_COOKIE)!=""?decodeURIComponent(getCookie(SDID_COOKIE)):undefined),product:a==""?"all-product":a};if(getProductTypeVariant() in productTypeVariantMap){b.productTypeVariant=productTypeVariantMap[getProductTypeVariant()]}if(getPageGroup()!=""){b.pageGroup=getPageGroup()}if(isInternal()){b.env="internal"}return b}function getPageGroup(){return $("#pageGroup").val()}function getProductTypeVariant(){return $('[name="productTypeVariant"]').val()}function dumpHTMLElement(b){if(b!=null&&b.get(0)!=null){var a=" ";$.each(b.get(0).attributes,function(){if(this.specified){a+=", "+this.name+":"+this.value}});return a}return""}function preparePrefillDataFields(){if((!prefillEnabledPage)||isInternalAccess()){return}if($("#pageName").val()=="newBootstrapAppPage"){var e={};var g={};$("[name*='applicant']","#newAppForm").each(function(){var k=$(this);if(k.attr("name").startsWith("app.")||k.attr("name").startsWith("customer.")){e[k.attr("name")]=1;if(setPrefilledAttribute(k)){g[k.attr("name")]=1}}});totalFields=Object.keys(e).length;prefilledFields=Object.keys(g).length}else{if($("#pageName").val()=="eligPage"||$("#pageName").val()=="landingPage"||$("#pageName").val()=="landingPageNewLayout"||$("#pageName").val()=="eligibility-monolithic-partner"){$("*","#slideForm").each(function(){var k=$(this);if(k.attr("name")!=undefined&&k.attr("name").startsWith("form.")){setPrefilledAttribute(k)}});var a=["form.formDisclaimer"];var b={};var c={};$("#eForm [name^='form.']").each(function(){var m=$(this);var k=(m.attr("type")!=null&&m.attr("type")!=undefined&&m.attr("type")=="hidden");if(m.attr("name")!=undefined&&(!k)&&a.indexOf(m.attr("name"))==-1){b[m.attr("name")]=1;if(setPrefilledAttribute(m)){c[m.attr("name")]=1}}});if($("#productNameSpace").val()=="home-loan"&&$("#totalFields").val()==undefined){totalFields=Object.keys(b).length;prefilledFields=Object.keys(c).length}else{totalFields=$("#totalFields").val();prefilledFields=$("#prefilledFields").val()}var f={};var h={};$("#eFormSentence [name^='form.']").each(function(){var m=$(this);var k=(m.attr("type")!=null&&m.attr("type")!=undefined&&m.attr("type")=="hidden");if(m.attr("name")!=undefined&&(!k)){f[m.attr("name")]=1;if(setPrefilledAttribute(m)){h[m.attr("name")]=1}}});sentenceTotalFields=Object.keys(f).length;sentencePrefilledFields=Object.keys(h).length;var j={};var d={};$("*","#new-elig-mono-form").each(function(){var m=$(this);var k=(m.attr("type")!=null&&m.attr("type")!=undefined&&m.attr("type")=="hidden");if(m.attr("name")!=undefined&&(m.attr("name").startsWith("elig.")||m.attr("name").startsWith("applicantPlaceHolder."))&&(!k)){j[m.attr("name")]=1;if(setPrefilledAttribute(m)){d[m.attr("name")]=1}}});dynamicTotalFields=Object.keys(j).length;dynamicPrefilledFields=Object.keys(d).length}}if(prefilledFields>0||dynamicTotalFields>0){prefillActiveForFlow=true}}function setPrefilledAttribute(a){var b=false;if(a.attr("type")=="radio"||a.attr("type")=="checkbox"){if(a.filter(":checked").length>0){$("input[name='"+a.attr("name")+"']").each(function(){$(this).attr(PREFILL_DATA_ATTRIBUTE,"prefilled");b=true})}}else{if(a.attr("type")=="select"){if(a.filter(":selected").length>0){a.attr(PREFILL_DATA_ATTRIBUTE,"prefilled");b=true}}else{if(a.val()){a.attr(PREFILL_DATA_ATTRIBUTE,"prefilled");b=true}}}return b}function reportCodeDrivenEvent(f,b,d,a){var e=getEventInfo();var c={group:f,name:"ajaxLoad",location:b,prevlocation:localStorage.getItem("prevActionLocValstr"),prevaction:localStorage.getItem("prevActionValstr"),nonInteraction:true};if(a){c.name=a}$.extend(d,getGlobalUserContextForEvents());webEventInfo=getWebEvent(e,c,d);reportWebEventInfoToGA($(this),webEventInfo)}function getMetaData(e){var c;var d;if(e!=undefined&&e.data!=undefined){if(e.data.offerBank){c=e.data.offerBank}else{var a=$("#bank").val();if(!a||a==""){a=$("#bankName").val()}var b=$("#bankId").val();if(b!=undefined&&b!=1001){c=a}}d=e.data.errorCode?e.data.errorCode:undefined}return d?c+"_"+d:c}function preventFormLoadEventForAppPageGroup(b,a){return getAppPageGroups().indexOf(b)!=-1&&a=="load"}function reportWebEventInfoToGA(f,h){if($("#reportWebEventsToGA").val()=="FALSE"){return}if(!h||!h.action||!h.action.name){console.warn("Invalid web event data: "+h);return}if(h.action.group&&preventFormLoadEventForAppPageGroup(h.action.group,h.action.name)){return}const m=h.action;var a=[h.product,h.productTypeVariant,h.pageGroup,m.group];const c=a.filter(function(o){return o?true:false}).join("_");if(!c){console.warn("Invalid web event data. Category information missing: "+h);return}var j=m.name;var e;var n=f?extractCurrentValue(f,h):undefined;if(m.location){var g=$("#dataDrivenEligCarousel").length>0?$("#dataDrivenEligCarousel .item.active").attr("slidename"):$("#newstaggered-carousel .item.active").attr("slidename");if(m.location=="slideNav"){e=(g&&g!="")?g+"_"+j:j}else{if(getAppPageGroups().indexOf(m.group)!=-1&&m.location!=g&&j!="slideLoad"){e=(g&&g!="")?g+"_"+m.location+"_"+j:m.location+"_"+j}else{e=m.location+"_"+j}}}var d=false;if(m.nonInteraction==true){d=true}var k;var b=getMetaData(h);if(b&&n){k=b+"_"+n}else{if(b){k=b}else{k=n}}if(j==BBERROR_EVENT.split(":")[1]){setTimeout(function(){k=k+getErrorForLabel(f);console.log("GA Event: category:"+c+" action: "+e+" label:"+k);BB_trackGoogleEventWithLabel(c,e,k,d)},100)}else{console.log("GA Event: category:"+c+" action: "+e+" label:"+k);BB_trackGoogleEventWithLabel(c,e,k,d)}}function getErrorContainer(b){var c=$(b).data("errorplacement");if(c!=undefined){if(!(c.indexOf(".js-slide-header:first")>=0)){c="."+c}}else{c=".js-slide-header:first"}var a=b.closest(".question").find(c);if(a.length>1){a=b.closest(c)}return a}function getErrorForLabel(d){var a="";var b;if($("#pageName").val()=="preAppPage"||$("#pageName").val()=="dataDrivenNewBootstrapThankYouPage"||$("#pageName").val()=="newBootstrapThankYouPage"){var c=getErrorContainer(d);b=$(c).find(".error-info");if(!b||b.text()==""){b=$(c).next().find(".error-info")}}else{if($("#pageName").val()=="app"||$("#pageName").val()=="newBootstrapAppPage"){b=d.find(".error")}}if(b&&b.text()!=""){a=b.text()}return a!=""?"_"+a:a}function extractCurrentValue(f,e){const d=e.action;if(!getInclData(f,d.name)){return undefined}var c=getKeyForCurrentValue(f,d);const b=e.data.other;if(c&&b&&b.length>0){for(var a=0;a<b.length;a++){if(b[a].name==c){return b[a].valstr}}}return undefined}function getWebEvent(c,b,a){c.action=b;c.data=a;localStorage.setItem("prevActionLocValstr",c.action.location);localStorage.setItem("prevActionValstr",c.action.name);if(isInternal()&&isTrackingEnabled()==true){console.log("Event JSON: "+JSON.stringify(c))}return c}$(document).ready(function(){var b=$("#mobileSite")!=undefined&&$("#mobileSite").val()=="true";var a=$("#pagName")!=undefined&&$("#pagName").val()!="newBootStrapMyAccount";if(b&&!a){$(".js-db-slide-in-menu li a").on("click",function(){window.location.href="/myaccount.html?entryTab="+$(this).attr("data-tab-name")})}else{bindCustomerDBDropDownForDesktop()}});function triggerShowDashBoardSideMenu(a){var c=$("#logged-in-status")!=undefined&&$("#logged-in-status")!=null&&$("#logged-in-status").val()=="true";var b=$("#loggedin")!=undefined&&$("#loggedin")!=null&&$("#loggedin").val()=="true";if(b||c){showDashBoardSideMenu()}else{showLoginAndFireEvent(LoginSource.NAV_BAR)}}function showDashBoardSideMenu(){$(".db-menu-vertical").toggleClass("db-menu-open");$(".modal-screen").toggle();$(".db-menu-vertical").show();if($("#bs-example-navbar-collapse-1").hasClass("in")){$("#navbarToggleButton").trigger("click")}if($("#db-menu-s1").hasClass("db-menu-open")){$("#navbarToggleButton").attr("data-target","#");$("body").css("overflow","hidden").css("height","100%");$("html").css("overflow","hidden").css("height","100%")}else{if(!$("#db-menu-s1").hasClass("db-menu-open")){resetSideMenuAndNavBar()}}}function resetSideMenuAndNavBar(){$("body").css("overflow","").css("height","");$("html").css("overflow","").css("height","");$("#navbarToggleButton").attr("data-target","#bs-example-navbar-collapse-1")}function bindCustomerDBDropDownForDesktop(){$(".js-menu-db-dropdown").on("click",function(){if(isMobileSite()&&$("#pageName").val()=="newBootStrapMyAccount"){var a=$(this).attr("data-user-db-tab-name");if($("#newInvestmentDashboardSelected").val()=="true"){if((a=="investments")){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab=investments";return}else{if($("#tabInfo").val()=="investments"){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab="+a;return}}}if(a=="investments"){initMFDashboard()}$(".js-db-tab-pane").each(function(){if($(this).attr("id")==a){$("#"+a).removeClass("dontshow")}else{$("#"+$(this).attr("id")).addClass("dontshow")}})}else{window.location.href="/myaccount.html?entryTab="+$(this).attr("data-user-db-tab-name")}});$("#my-account-link").on("click",function(){window.location.href="/myaccount.html?entryTab=username_label"});$("#investmentsTab").click(function(){if($("#newInvestmentDashboardSelected").val()=="true"){window.location.href="/myaccount.html?entryTab=investments"}})}$(document).ready(function(){var a;if($("#headerAjaxificationEnabled").val()=="true"){return}$("#sidemenu").on("click",function(){$(".hamburger").toggleClass("hamburger-open");a=getHandlerBoundToAnElement($(document)[0],"wheel");$(document).unbind("wheel");if(isMobileSite()){$("header").toggleClass("header-open")}$(".hamburger").show();$(".screen-block-hamburger").removeClass("dontshow");if(!$("html").hasClass("body-overflow")){$("html").addClass("body-overflow")}else{$("html").removeClass("body-overflow")}$(".screen-block-hamburger-mob").toggleClass("dontshow")});$(".screen-block-hamburger").on("click",function(){$(".hamburger").removeClass("hamburger-open");$(".screen-block-hamburger").addClass("dontshow");$("html").removeClass("body-overflow");if(a){$(document).on("wheel",a)}});$(".screen-block-hamburger-mob").on("click",function(){$(".hamburger").removeClass("hamburger-open");if(isMobileSite()){$("header").removeClass("header-open")}$(".screen-block-hamburger-mob").addClass("dontshow");$("html").removeClass("body-overflow")});$(".hamburger li").on("click",function(){if($(this).hasClass("open")){$(this).removeClass("open active")}else{$(".hamburger li.open").removeClass("open active");$(this).addClass("active").addClass("open")}});$(".bbicons-menu-more").on("click",function(){var c=$(".js-mobile-side-menu");if($(c).length){var b=$(c).height()}else{c=$(".hamburger-open");var b=$(c).height()-140}$(c).animate({scrollTop:b},1000)})});var MOBILE_APP_LINK_PARAMS_CACHE_KEY="MobileAppLinkParamsCache";var ajaxCallInProgress=false;function appendDynamicMobileAppData(){if($(document).find("[data-name='MobileAppLink']")){var a=false;$(document).find("[data-name='MobileAppLink']").each(function(){var c=""+this.href;if(c.indexOf("userIdentifierType")===-1){a=true}});if(a){var b=getCachedMobileAppLinkParams();if(b){updateMobileAppLinks(b)}else{if(!ajaxCallInProgress){ajaxCallInProgress=true;$.ajax({method:"get",url:"/getMobileAppLinkParams.html",success:function(c){cacheMobileAppLinkParams(c);updateMobileAppLinks(c)}})}}}}}function updateMobileAppLinks(a){if(a!==null&&a.length>0){$(document).find("[data-name='MobileAppLink']").each(function(){try{var g=new URL($(this).attr("href"));var h=g.searchParams.get("link");var b=""+a;if(h!=null&&h.indexOf(b)===-1){if(h.indexOf("?")===-1){h=h+"?"+b}else{h=h+"&"+b}var d=new URL(h);updateMobileCampaignSource(d);updateMobileCampaignSource(g);var c=d.origin+(d.pathname=="/"?"":d.pathname)+d.search;g.searchParams.set("link",c);$(this).attr("href",g.href)}}catch(f){BB_trackGoogleEventWithLabel("MobileAppLink","Exception",f.message+" URL: "+$(this).attr("href"))}})}}function updateMobileCampaignSource(a){a.searchParams.set("utm_source",a.searchParams.get("utm_source")+"$"+getCampaign())}function getCampaign(){return $("#form_details_campaign").val()}function cacheMobileAppLinkParams(a){if(!isLocalStorageSupported()){return}if(a!==null&&a.length>0){var c=getCookie(UBID_COOKIE);var b=sessionStorage.getItem(MOBILE_APP_LINK_PARAMS_CACHE_KEY);if(b){b=JSON.parse(b)}else{b={}}b[c]=a;sessionStorage.setItem(MOBILE_APP_LINK_PARAMS_CACHE_KEY,JSON.stringify(b))}}function getCachedMobileAppLinkParams(){var b=getCookie(UBID_COOKIE);var a=sessionStorage.getItem(MOBILE_APP_LINK_PARAMS_CACHE_KEY);if(a){a=JSON.parse(a);return a[b]}return null}$(document).ready(function(){appendDynamicMobileAppData()});function pushAnalyticsDataToClickStream(b){var c=createPayload(b);const a=$("#clickServiceURL").val();if(!a){return}bbajax({type:"post",url:a+"/pushAnalyticsData",data:JSON.stringify(c),contentType:"application/json"})}function createPayload(b){var a={website:global.getWebsite(),productType:global.getProductType(),channel:global.getChannel(),campaign:global.getCampaign(),sessionId:global.getSessionId(),associateRefId:global.getAssociateRefId(),browserId:global.getBrowserId(),productTypeVariant:global.getProductTypeVariant(),isReturningUser:global.getIsReturningUser(),isInternalAccess:global.getIsInternalAccess(),isMonitoringAgent:global.getIsMonitoringAgent(),trckrId:global.getTrckrId(),secondaryDimensionOfCampaign:global.getSecondaryCampaign(),userAgent:navigator.userAgent,device:global.getDeviceType(),currentUrl:window.location.href};return Object.assign(a,b)}function isInternalAccess(){return $("#internalAccess").size()>0?$("#internalAccess").val()=="true":false}function isDevelopmentEnv(){return !($("#stageValue").length>0)||$("#stageValue").val()=="dev"}function isProductionEnv(){return !($("#stageValue").length>0)||$("#stageValue").val()=="prod"}function isInternal(){return !isProductionEnv()||isInternalAccess()}function isMobileSite(){if($("#mobileSite").val()=="true"){return true}else{return false}}function isTabletSite(){if($("#tabletSite").val()!=undefined&&$("#tabletSite").val()=="true"){return true}else{return false}}function bbajax(a){if(isAjaxContentCallNotCompleted()){setTimeout(function(){bbajax(a)},250)}else{$.ajax(a)}}function callAfterAjaxContent(a){if(isAjaxContentCallNotCompleted()){setTimeout(function(){a()},250)}else{a()}}function bbAjaxWithMetrics(f){if(isAjaxContentCallNotCompleted()){setTimeout(function(){bbAjaxWithMetrics(f)},250)}else{var b=f.url.split("?");var e={url:b[0],status:"START",category:"NETWORK"};pushAnalyticsDataToClickStream(e);var d={url:b[0],status:"SUCCESS",category:"NETWORK"};var g={url:b[0],status:"SUCCESS",category:"NETWORK"};if(f.hasOwnProperty("success")){var a=f.success;f.success=function(h){a(h);pushAnalyticsDataToClickStream(d)}}else{f.success=function(){pushAnalyticsDataToClickStream(d)}}if(f.hasOwnProperty("error")){var c=f.error;f.error=function(h){c(h);pushAnalyticsDataToClickStream(g)}}else{f.error=function(){pushAnalyticsDataToClickStream(g)}}$.ajax(f)}}function isAjaxContentCallNotCompleted(){return $("#global_website")!=null&&$("#global_website").val()=="MARKETPLACE"&&!executeAjaxCall()}function copyAjaxContentResponseToBody(){if(ajaxCallCompleted==true){if(!window.hasCopiedHiddenVariablesToBody){$(".ajax-hidden-variable").html($("#ajax-content").html());window.hasCopiedHiddenVariablesToBody=true}}else{setTimeout(copyAjaxContentResponseToBody,100)}}function isTrackingEnabled(){return $("#isTrackingEnabled").val()=="true"}function getGlobalUserContextForEvents(){if($("#pageName").val()=="newBootstrapAppPage"||$("#pageName").val()=="newBootstrapThankYouPage"){var c=$("#loggedin").val()}else{c=$("#logged-in-status").val()}var d=$("#returningUserKey").val();var b=$("#isCRO").val();var e={loginStatus:c,returningUser:d,cro:b};if(c=="true"){e.loginType=$("#logged-in-type").val()}var a=$(".tabbable-one .active a").attr("title");if(a!=undefined&&a!=""){e.activeSection=a}return e}function addToSessionStorage(a,b){if(window.sessionStorage){sessionStorage.setItem(a,b)}}function getFromSessionStorage(a){if(window.sessionStorage){return sessionStorage.getItem(a)}return null}function removeFromSessionStorage(e,c){if(window.sessionStorage){if(c){var b=sessionStorage.length;var d=new RegExp(e);while(b--){var a=sessionStorage.key(b);if(d.test(a)){sessionStorage.removeItem(a)}}}else{sessionStorage.removeItem(e)}}}function invokeAfterAjaxCall(a){if(isAjaxContentCallNotCompleted()){setTimeout(function(){invokeAfterAjaxCall(a)},250)}else{a()}}var OFFER_PAGE_CODE="OP";var APP_PAGE_CODE="AP";var DP_SLIDE_PAGE_CODE="DP";var DETAIL_PAGE_CODE="ODP";var DYNAMIC_PAGE_CODE="DyP";var APP_LEAD_SOURCES=[APP_PAGE_CODE,DP_SLIDE_PAGE_CODE];if(!String.prototype.startsWith){String.prototype.startsWith=function(b,a){a=a||0;return this.substr(a,b.length)===b}}function bbGetJson(a,b){if(isAjaxContentCallNotCompleted()){setTimeout(function(){bbGetJson(a,b)},250)}else{$.getJSON(a,b)}}function reportWebEventAfterAjaxContent(d,b,c,a){if(isAjaxContentCallNotCompleted()){setTimeout(function(){reportWebEventAfterAjaxContent(d,b,c,a)},250)}else{reportCodeDrivenEvent(d,b,c,a)}}function isMutualFundSignupPage(){if($("#productNameSpace").length>0&&$("#productNameSpace").val()!=null&&$("#productNameSpace").val()!=""){return $("#productNameSpace").val().indexOf("mutual-fund")>-1}return false}function formatNumbers(){formatNumbersByClassSelector(".js-number")}function getProductNameFromNameSpace(){var b;var a=$("#productNameSpace").val();return capitalizeFirstLetter(a,"-")}function capitalizeFirstLetter(c,b){if(!b){b=" "}var f=c.split(b);var d="";if(f.length==1){return f[0].capitalizeFirstLetter()}for(var a=0;a<f.length;a++){var e=f[a];d=d+e.capitalizeFirstLetter()+" "}return d.trim()}String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)};function isMobile(d){var b=""+d;var c=/^[9|8|7|6]\d{9}/;if($("#mobileValidationRegex")&&$("#mobileValidationRegex").val()){c=new RegExp($("#mobileValidationRegex").val())}var a=c.exec(b);if(a==null){return false}else{return true}}function isInternalAccess(){return $("#internalAccess").size()>0&&$("#internalAccess").val()=="true"}function checkNoOtherLinkIsClicked(b,a){var c=true;a.forEach(function(e,d){var f=(b!=undefined)?b.parents("."+e):undefined;c=c&&!(b.hasClass(e)||(f!=undefined&&f.length>0));if(!c){return}});return c}function investmentApplicationPage(){if(isCRO()){return"process_investment_application.html?appId="+appId+"&goBackFlow=true"}else{return"mutual_fund_signup.html?appId="+appId+"&goBackFlow=true"}}function leadAttributionLogic(e,b){var d=isMobileSite()?"Mobile":"Desktop";var c=$("#productNameSpace").val();var a=pageNameCode();return e+"_"+a+"_"+b+"_"+d+"_"+c}function pageNameCode(){var a=$("#pageName").val();if(a=="searchPage"||a=="insuranceOfferPage"){a=OFFER_PAGE_CODE}else{if(a=="landingPageNewLayout"){a=DYNAMIC_PAGE_CODE}else{if(a=="newBootstrapAppPage"){a=APP_PAGE_CODE}else{if(a=="offerDetailsPage"){a=DETAIL_PAGE_CODE}else{a=DP_SLIDE_PAGE_CODE}}}}return a}function isAnyExitBlockerVisible(){var a=["appPaymentPopoverModal","proposalPendingMessage","js-bb-delay-popup-modal","js-exit-blocker-mobile-modal","ouibounce-modal","waitModal","provideDetailsInCompleteEligibility","dynamic-offers-lead-modal","js-bb-lead-modal","callcontact","js-bb-mobile-modal","js-bb-otp-modal"];for(i=0;i<a.length;i++){if($("#"+a[i])!==undefined&&$("#"+a[i]).is(":visible")){return true}}return false}function hideElement(a){if(isElementExist(a)){a.css({display:"none"})}}function unhideElement(a){if(isElementExist(a)){a.css({display:"block"})}}function isElementExist(a){return a!=undefined&&a.length>0}function leadSubmitUrl(d,b,c){var a="lead_submitLead.html?eligibilityId="+d+"&mobile="+b+"&source="+c;return a}function isCRO(){if($("#isCRO").length>0){return($("#isCRO").val()=="true")}return false}function populateMobileNumberInSessionVariable(){bbajax({method:"get",url:"/getLatestMobileNumber.html",success:function(a){if(isMobile(a)){$("#session-mobile-number").val(a)}}})}function changeSlideHeight(c,b,a){setTimeout(function(){var f=$("#get-quote .item.active").attr("slidepos");var d=b==true?40:0;var g=39;var e=50;if(!$(".eform-mob-btn").children().is(":visible")){e=0}$("#dataDrivenEligCarousel .js-container-eform-section").css({height:(($(window).height()-g-e-d)+"px")});$(".eform-mob-btn").removeClass("js-important");if(c){if(!$(".side-menu").hasClass("side-menu-open")){$("body,html").css({height:"auto"})}$(".tab-content").css({height:"auto"});$(".cl-quick-quote-comparisons").css({height:"auto","background-color":"white"})}},a)}function handleOrientation(){var c=function(){var d=false;var e=$("#get-quote .item.active").attr("slidepos");$(".item.active input").trigger("blur");if("false"==$('[name="slideNavigationStarted"]').val()&&$(".active-tabs").size()==1){d=true}$("body,html").css({height:"100%"});$(".eform-mob-btn").addClass("js-important");$(".tab-content").css({height:"100%"});$(".cl-quick-quote-comparisons").css({height:"100%","background-color":"#116a9e"});changeSlideHeight(true,d,400)};var b="onorientationchange" in window;var a=b?"orientationchange":"resize";if(window.addEventListener){window.addEventListener(a,c,false)}else{if(window.attachEvent){window.attachEvent(a,c)}else{window[a]=c}}}function slideHeightCalcualtionUtil(){if("true"==$("#mobileSite").val()){handleOrientation()}if($('[name="enableStickyButtons"]').val()=="true"||$("#mobileSite").val()=="true"){if($("#cl-quick-quote-comparison").hasClass("active")||$("#pageName").val()=="preAppPage"||$("#pageName").val()=="dataDrivenNewBootstrapThankYouPage"||$("#pageName").val()=="dataDrivenCongratulationsPage"){$("body").addClass("js-body-overflow-hidden")}$(".tabbable-one").on("click",function(){$("body,html").css({height:"auto"});if($("#cl-quick-quote-comparison").hasClass("active")){$("body").addClass("js-body-overflow-hidden")}else{$("body").removeClass("js-body-overflow-hidden")}});$(".tab-pane.cl-user-review").height($(window).height());$(".tab-pane.cl-quotes-comparisons").height($(window).height());$("#sidemenu").click(function(){$("body,html").css({height:""})});var a=false;if($(".active-tabs").size()==1){a=true}changeSlideHeight(true,a,0)}}$(document).ready(function(){if($("#bodyClassName")!=null&&!(typeof $("#bodyClassName")==="undefined")){var c=$("#bodyClassName").val();if(!(typeof c==="undefined")&&c!=""){document.body.className+=(" "+c)}}slideHeightCalcualtionUtil();var k=$("#pageName").val();var d=$("#isBootstrapPage").val();var g=$("#mode").val();var f=$("#variantName").val();var e=getParameterByName("variant");var j=$("#productTypeVariant").val();var h="";if($("#productNameSpace").length>0&&$("#productNameSpace").val()!=null&&$("#productNameSpace").val()!=""){h=$("#productNameSpace").val()}var b=h+"/getHeaderAjax.html?pageNameForAjax="+k+"&isBootstrapPage="+d+"&modeForAjax="+g+"&variant="+e+"&variantNameForAjax="+f+"&ajax=true";var a=$('[name="uiParameters.landingPageNamespace"], [name="form.details.uiParameters.landingPageNamespace"], [name="landingPageNamespace"]');if(a.length>0&&a.val()!=null&&a.val()!=""){b=b+"&landingPageNameSpace="+a.val()}if($("header").val()==undefined&&$("#headerAjaxificationEnabled").val()=="true"){$.ajax({url:b,type:"get",success:function(m){if($("header").val()==undefined){$("body").prepend(m);initHeaderBinding();TrimUserNameIfRequired();initEligSticky()}}})}else{TrimUserNameIfRequired()}});$(function(){$(".js-hungry-table").each(function(){var a=$(this);var c=a.find("tbody tr").length;var b=10;if(b<c){$(this).find("tr:nth-child(n+11)").hide()}});$(".table-view-more").on("click",function(b){var a=$(this);$(this).parent().find("tr:nth-child(n+11)").toggle();if($(this).hasClass("link")){$(this).removeClass("link")}else{$(this).addClass("link")}});setCharSetValidations();if(isMobileSite()){$(".js-short-content").each(function(){var a=$(this).find("p").length;if(a>1){$("p",this).eq(0).nextAll().hide().addClass("toggleable");$(this).append('<p class="readmore">More</p>')}});$(".js-short-content").on("click",".readmore",function(){if($(this).hasClass("readless")){$(this).text("More").removeClass("readless")}else{$(this).text("Less").addClass("readless")}$(this).siblings(".toggleable").slideToggle()})}});function initEligSticky(){if($("#productTypeCategory").val()=="INSURANCE"&&typeof enableStickyOnScroll==="function"){enableStickyOnScroll()}else{if(typeof checkAndEnableSticky==="function"){checkAndEnableSticky()}}}function setCharSetValidations(){function a(b){var c=b.getAttribute("allowedcharset");if(c!=""){b.value=b.value.replace(new RegExp("[^"+c+"]","g"),"")}}$("input[allowedCharSet]").each(function(){a(this)}).keyup(function(){a(this)})}function redirectToVerifyOwnershipPage(){window.location.href="/"+$("#productNameSpace").val()+"/verifyOwnershipForm.html?applicationId="+$("#appId").val()+"&isSessionExpiredRequest=true"}function redirectToPaymentPage(){window.location.href=$("#paymentLink").val()+"?appId="+$("#appId").val()}function getHandlerBoundToAnElement(b,a){var c=$._data(b,"events");if(c&&c[a]){return c[a][0]?c[a][0].handler:null}return}function initHeaderBinding(){var a;$("#sidemenu").on("click",function(){$(".side-menu").toggleClass("side-menu-open");a=getHandlerBoundToAnElement($(document)[0],"wheel");$(document).unbind("wheel");$(".side-menu").show();$(".screen-block-hamburger").removeClass("dontshow");if(!$("html").hasClass("body-overflow")){$("html").addClass("body-overflow")}else{$("html").removeClass("body-overflow")}$("body,html").css({height:""});$(".screen-block-hamburger-mob").toggleClass("dontshow")});$(".screen-block-hamburger").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger").addClass("dontshow");$("html").removeClass("body-overflow");if(a){$(document).on("wheel",a)}});$(".screen-block-hamburger-mob").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger-mob").addClass("dontshow");$("html").removeClass("body-overflow")});$(".dashboard-list li").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger-mob").addClass("dontshow");$("html").removeClass("body-overflow")});$(".side-menu-list li").on("click",function(){if($(this).hasClass("open")){$(this).removeClass("open active")}else{$(".side-menu-list li.open").removeClass("open active");$(this).addClass("active").addClass("open")}});$("#notification-icon").on("click",function(){if($("#mobileSite").val()=="true"&&localStorage.getItem("notificationWidgetStatus")!=undefined&&localStorage.getItem("notificationWidgetStatus").indexOf("hide")>=0){notificationWidget.openWidget()}else{if($("#mobileSite").val()=="true"){notificationWidget.closeWidget();if(notificationWidget.isHowItWorksWidget()){BB_trackGoogleEventWithLabel(HOW_IT_WORKS_WIDGET,"click","closeWidgetVideoHIW")}}else{notificationWidget.openWidget()}}});$(".js-menu-db-dropdown").on("click",function(){if(isMobileSite()&&$("#pageName").val()=="newBootStrapMyAccount"){var b=$(this).attr("data-user-db-tab-name");if($("#newInvestmentDashboardSelected").val()=="true"&&(b=="investments")){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab=investments&investmentTab=newInvestmentDashboard"}if(b=="investments"){initMFDashboard()}$(".js-db-tab-pane").each(function(){if($(this).attr("id")==b){$("#"+b).removeClass("dontshow")}else{$("#"+$(this).attr("id")).addClass("dontshow")}})}else{window.location.href="/myaccount.html?entryTab="+$(this).attr("data-user-db-tab-name")}});$("#my-account-link").on("click",function(){window.location.href="/myaccount.html?entryTab=username_label"})}function ajaxSuccessHandlerWrapper(a,b){if("sessionTimedOut"==a){redirectToVerifyOwnershipPage()}else{if(b!=undefined){b(a)}}}function TrimUserNameIfRequired(){var a=($("#my-account-link")).text().trim();if(a.length>13){var b=a.substring(0,13)+"...";$("#my-account-link span").text(b)}}$("#closeExitBlockerModal, .modal-open").on("click",function(){$(".tab-content").removeClass("infographic-modal-index")});$(".js-infographic").each(function(){$(this).click(function(){$(".tab-content").addClass("infographic-modal-index");$(".sticky").css("z-index","10");$(".sticky-search-mob-button").css("z-index","999");$("#scrollup").css("z-index","10")});$(".js-infographic-content").keyup(function(a){if(a.keyCode==27){$(".tab-content").removeClass("infographic-modal-index")}$(".sticky-search-mob-button").css("z-index","9999")});$(".js-infographic-close").on("click",function(){$(".tab-content").removeClass("infographic-modal-index");$(".sticky").css("z-index","99999");$(".sticky-search-mob-button").css("z-index","9999");$("#scrollup").css("z-index","4444")})});function isLocalStorageSupported(){function a(){var c="";for(var b in window.localStorage){if(window.localStorage.hasOwnProperty(b)){c+=window.localStorage[b]}}return c?true:false}return typeof(Storage)!=="undefined"&&a()}function getDashBoardUrl(){var b=$("#applicationId").val();if(b!=""){var a="/verifyOwnershipForm.html?applicationId="+b;window.location=a}}function clickElementOnEnter(b,c){var a=(b.keyCode?b.keyCode:b.which);if(a==13){document.getElementById(c).click()}}function getQueryStringFromURL(){var b=location.search.slice(1).split("&");var a={};if(b==""){return}b.forEach(function(c){c=c.split("=");a[c[0]]=decodeURIComponent(c[1]||"")});return JSON.parse(JSON.stringify(a))}document.onreadystatechange=function(){if(document.forms.length>0){var c=document.getElementsByTagName("form");for(var b=0;b<c.length;b++){if(c[b].hasAttribute("csrfenabled")&&c[b].getAttribute("csrfenabled")=="true"&&(c[b].getAttribute("token_fetched")==null)){c[b].setAttribute("token_fetched","true");var a=document.createElement("input");a.type="hidden";a.name="formId";a.value=Math.floor(Math.random()*10000000);c[b].appendChild(a);getCSRFTokenViaAjax(a.value,c[b])}}}};function getCSRFTokenViaAjax(b,a){bbajax({headers:{formId:b},type:"GET",url:"/generate-csrf-token.html?ajax=true",contentType:"application/json",dataType:"json",success:function(c){var d=document.createElement("input");d.type="hidden";d.name="csrfToken";d.value=c;a.appendChild(d)},error:function(c){console.log(c)}})}function getCsrfDetailsFromForm(){var a={};if(null!=$('[name="formId"]')&&null!=$('[name="csrfToken"]')){a.formId=$('[name="formId"]').val();a.csrfToken=$('[name="csrfToken"]').val()}return a}var OFFER_PAGE_CODE="OP";var APP_PAGE_CODE="AP";var DP_SLIDE_PAGE_CODE="DP";var DETAIL_PAGE_CODE="ODP";var DYNAMIC_PAGE_CODE="DyP";var APP_LEAD_SOURCES=[APP_PAGE_CODE,DP_SLIDE_PAGE_CODE];if(!String.prototype.startsWith){String.prototype.startsWith=function(b,a){a=a||0;return this.substr(a,b.length)===b}}function bbGetJson(a,b){if(isAjaxContentCallNotCompleted()){setTimeout(function(){bbGetJson(a,b)},250)}else{$.getJSON(a,b)}}function reportWebEventAfterAjaxContent(d,b,c,a){if(isAjaxContentCallNotCompleted()){setTimeout(function(){reportWebEventAfterAjaxContent(d,b,c,a)},250)}else{reportCodeDrivenEvent(d,b,c,a)}}function isMutualFundSignupPage(){if($("#productNameSpace").length>0&&$("#productNameSpace").val()!=null&&$("#productNameSpace").val()!=""){return $("#productNameSpace").val().indexOf("mutual-fund")>-1}return false}function formatNumbers(){formatNumbersByClassSelector(".js-number")}function getProductNameFromNameSpace(){var b;var a=$("#productNameSpace").val();return capitalizeFirstLetter(a,"-")}function capitalizeFirstLetter(c,b){if(!b){b=" "}var f=c.split(b);var d="";if(f.length==1){return f[0].capitalizeFirstLetter()}for(var a=0;a<f.length;a++){var e=f[a];d=d+e.capitalizeFirstLetter()+" "}return d.trim()}String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)};function isMobile(d){var b=""+d;var c=/^[9|8|7|6]\d{9}/;if($("#mobileValidationRegex")&&$("#mobileValidationRegex").val()){c=new RegExp($("#mobileValidationRegex").val())}var a=c.exec(b);if(a==null){return false}else{return true}}function isInternalAccess(){return $("#internalAccess").size()>0&&$("#internalAccess").val()=="true"}function checkNoOtherLinkIsClicked(b,a){var c=true;a.forEach(function(e,d){var f=(b!=undefined)?b.parents("."+e):undefined;c=c&&!(b.hasClass(e)||(f!=undefined&&f.length>0));if(!c){return}});return c}function investmentApplicationPage(){if(isCRO()){return"process_investment_application.html?appId="+appId+"&goBackFlow=true"}else{return"mutual_fund_signup.html?appId="+appId+"&goBackFlow=true"}}function leadAttributionLogic(e,b){var d=isMobileSite()?"Mobile":"Desktop";var c=$("#productNameSpace").val();var a=pageNameCode();return e+"_"+a+"_"+b+"_"+d+"_"+c}function pageNameCode(){var a=$("#pageName").val();if(a=="searchPage"||a=="insuranceOfferPage"){a=OFFER_PAGE_CODE}else{if(a=="landingPageNewLayout"){a=DYNAMIC_PAGE_CODE}else{if(a=="newBootstrapAppPage"){a=APP_PAGE_CODE}else{if(a=="offerDetailsPage"){a=DETAIL_PAGE_CODE}else{a=DP_SLIDE_PAGE_CODE}}}}return a}function isAnyExitBlockerVisible(){var a=["appPaymentPopoverModal","proposalPendingMessage","js-bb-delay-popup-modal","js-exit-blocker-mobile-modal","ouibounce-modal","waitModal","provideDetailsInCompleteEligibility","dynamic-offers-lead-modal","js-bb-lead-modal","callcontact","js-bb-mobile-modal","js-bb-otp-modal"];for(i=0;i<a.length;i++){if($("#"+a[i])!==undefined&&$("#"+a[i]).is(":visible")){return true}}return false}function hideElement(a){if(isElementExist(a)){a.css({display:"none"})}}function unhideElement(a){if(isElementExist(a)){a.css({display:"block"})}}function isElementExist(a){return a!=undefined&&a.length>0}function leadSubmitUrl(d,b,c){var a="lead_submitLead.html?eligibilityId="+d+"&mobile="+b+"&source="+c;return a}function isCRO(){if($("#isCRO").length>0){return($("#isCRO").val()=="true")}return false}function populateMobileNumberInSessionVariable(){bbajax({method:"get",url:"/getLatestMobileNumber.html",success:function(a){if(isMobile(a)){$("#session-mobile-number").val(a)}}})}function changeSlideHeight(c,b,a){setTimeout(function(){var f=$("#get-quote .item.active").attr("slidepos");var d=b==true?40:0;var g=39;var e=50;if(!$(".eform-mob-btn").children().is(":visible")){e=0}$("#dataDrivenEligCarousel .js-container-eform-section").css({height:(($(window).height()-g-e-d)+"px")});$(".eform-mob-btn").removeClass("js-important");if(c){if(!$(".side-menu").hasClass("side-menu-open")){$("body,html").css({height:"auto"})}$(".tab-content").css({height:"auto"});$(".cl-quick-quote-comparisons").css({height:"auto","background-color":"white"})}},a)}function handleOrientation(){var c=function(){var d=false;var e=$("#get-quote .item.active").attr("slidepos");$(".item.active input").trigger("blur");if("false"==$('[name="slideNavigationStarted"]').val()&&$(".active-tabs").size()==1){d=true}$("body,html").css({height:"100%"});$(".eform-mob-btn").addClass("js-important");$(".tab-content").css({height:"100%"});$(".cl-quick-quote-comparisons").css({height:"100%","background-color":"#116a9e"});changeSlideHeight(true,d,400)};var b="onorientationchange" in window;var a=b?"orientationchange":"resize";if(window.addEventListener){window.addEventListener(a,c,false)}else{if(window.attachEvent){window.attachEvent(a,c)}else{window[a]=c}}}function slideHeightCalcualtionUtil(){if("true"==$("#mobileSite").val()){handleOrientation()}if($('[name="enableStickyButtons"]').val()=="true"||$("#mobileSite").val()=="true"){if($("#cl-quick-quote-comparison").hasClass("active")||$("#pageName").val()=="preAppPage"||$("#pageName").val()=="dataDrivenNewBootstrapThankYouPage"||$("#pageName").val()=="dataDrivenCongratulationsPage"){$("body").addClass("js-body-overflow-hidden")}$(".tabbable-one").on("click",function(){$("body,html").css({height:"auto"});if($("#cl-quick-quote-comparison").hasClass("active")){$("body").addClass("js-body-overflow-hidden")}else{$("body").removeClass("js-body-overflow-hidden")}});$(".tab-pane.cl-user-review").height($(window).height());$(".tab-pane.cl-quotes-comparisons").height($(window).height());$("#sidemenu").click(function(){$("body,html").css({height:""})});var a=false;if($(".active-tabs").size()==1){a=true}changeSlideHeight(true,a,0)}}$(document).ready(function(){if($("#bodyClassName")!=null&&!(typeof $("#bodyClassName")==="undefined")){var c=$("#bodyClassName").val();if(!(typeof c==="undefined")&&c!=""){document.body.className+=(" "+c)}}slideHeightCalcualtionUtil();var k=$("#pageName").val();var d=$("#isBootstrapPage").val();var g=$("#mode").val();var f=$("#variantName").val();var e=getParameterByName("variant");var j=$("#productTypeVariant").val();var h="";if($("#productNameSpace").length>0&&$("#productNameSpace").val()!=null&&$("#productNameSpace").val()!=""){h=$("#productNameSpace").val()}var b=h+"/getHeaderAjax.html?pageNameForAjax="+k+"&isBootstrapPage="+d+"&modeForAjax="+g+"&variant="+e+"&variantNameForAjax="+f+"&ajax=true";var a=$('[name="uiParameters.landingPageNamespace"], [name="form.details.uiParameters.landingPageNamespace"], [name="landingPageNamespace"]');if(a.length>0&&a.val()!=null&&a.val()!=""){b=b+"&landingPageNameSpace="+a.val()}if($("header").val()==undefined&&$("#headerAjaxificationEnabled").val()=="true"){$.ajax({url:b,type:"get",success:function(m){if($("header").val()==undefined){$("body").prepend(m);initHeaderBinding();TrimUserNameIfRequired();initEligSticky()}}})}else{TrimUserNameIfRequired()}});$(function(){$(".js-hungry-table").each(function(){var a=$(this);var c=a.find("tbody tr").length;var b=10;if(b<c){$(this).find("tr:nth-child(n+11)").hide()}});$(".table-view-more").on("click",function(b){var a=$(this);$(this).parent().find("tr:nth-child(n+11)").toggle();if($(this).hasClass("link")){$(this).removeClass("link")}else{$(this).addClass("link")}});setCharSetValidations();if(isMobileSite()){$(".js-short-content").each(function(){var a=$(this).find("p").length;if(a>1){$("p",this).eq(0).nextAll().hide().addClass("toggleable");$(this).append('<p class="readmore">More</p>')}});$(".js-short-content").on("click",".readmore",function(){if($(this).hasClass("readless")){$(this).text("More").removeClass("readless")}else{$(this).text("Less").addClass("readless")}$(this).siblings(".toggleable").slideToggle()})}});function initEligSticky(){if($("#productTypeCategory").val()=="INSURANCE"&&typeof enableStickyOnScroll==="function"){enableStickyOnScroll()}else{if(typeof checkAndEnableSticky==="function"){checkAndEnableSticky()}}}function setCharSetValidations(){function a(b){var c=b.getAttribute("allowedcharset");if(c!=""){b.value=b.value.replace(new RegExp("[^"+c+"]","g"),"")}}$("input[allowedCharSet]").each(function(){a(this)}).keyup(function(){a(this)})}function redirectToVerifyOwnershipPage(){window.location.href="/"+$("#productNameSpace").val()+"/verifyOwnershipForm.html?applicationId="+$("#appId").val()+"&isSessionExpiredRequest=true"}function redirectToPaymentPage(){window.location.href=$("#paymentLink").val()+"?appId="+$("#appId").val()}function getHandlerBoundToAnElement(b,a){var c=$._data(b,"events");if(c&&c[a]){return c[a][0]?c[a][0].handler:null}return}function initHeaderBinding(){var a;$("#sidemenu").on("click",function(){$(".side-menu").toggleClass("side-menu-open");a=getHandlerBoundToAnElement($(document)[0],"wheel");$(document).unbind("wheel");$(".side-menu").show();$(".screen-block-hamburger").removeClass("dontshow");if(!$("html").hasClass("body-overflow")){$("html").addClass("body-overflow")}else{$("html").removeClass("body-overflow")}$("body,html").css({height:""});$(".screen-block-hamburger-mob").toggleClass("dontshow")});$(".screen-block-hamburger").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger").addClass("dontshow");$("html").removeClass("body-overflow");if(a){$(document).on("wheel",a)}});$(".screen-block-hamburger-mob").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger-mob").addClass("dontshow");$("html").removeClass("body-overflow")});$(".dashboard-list li").on("click",function(){$(".side-menu").removeClass("side-menu-open");$(".screen-block-hamburger-mob").addClass("dontshow");$("html").removeClass("body-overflow")});$(".side-menu-list li").on("click",function(){if($(this).hasClass("open")){$(this).removeClass("open active")}else{$(".side-menu-list li.open").removeClass("open active");$(this).addClass("active").addClass("open")}});$("#notification-icon").on("click",function(){if($("#mobileSite").val()=="true"&&localStorage.getItem("notificationWidgetStatus")!=undefined&&localStorage.getItem("notificationWidgetStatus").indexOf("hide")>=0){notificationWidget.openWidget()}else{if($("#mobileSite").val()=="true"){notificationWidget.closeWidget();if(notificationWidget.isHowItWorksWidget()){BB_trackGoogleEventWithLabel(HOW_IT_WORKS_WIDGET,"click","closeWidgetVideoHIW")}}else{notificationWidget.openWidget()}}});$(".js-menu-db-dropdown").on("click",function(){if(isMobileSite()&&$("#pageName").val()=="newBootStrapMyAccount"){var b=$(this).attr("data-user-db-tab-name");if($("#newInvestmentDashboardSelected").val()=="true"&&(b=="investments")){$("#myModal").modal("show");window.location.href="/myaccount.html?entryTab=investments&investmentTab=newInvestmentDashboard"}if(b=="investments"){initMFDashboard()}$(".js-db-tab-pane").each(function(){if($(this).attr("id")==b){$("#"+b).removeClass("dontshow")}else{$("#"+$(this).attr("id")).addClass("dontshow")}})}else{window.location.href="/myaccount.html?entryTab="+$(this).attr("data-user-db-tab-name")}});$("#my-account-link").on("click",function(){window.location.href="/myaccount.html?entryTab=username_label"})}function ajaxSuccessHandlerWrapper(a,b){if("sessionTimedOut"==a){redirectToVerifyOwnershipPage()}else{if(b!=undefined){b(a)}}}function TrimUserNameIfRequired(){var a=($("#my-account-link")).text().trim();if(a.length>13){var b=a.substring(0,13)+"...";$("#my-account-link span").text(b)}}$("#closeExitBlockerModal, .modal-open").on("click",function(){$(".tab-content").removeClass("infographic-modal-index")});$(".js-infographic").each(function(){$(this).click(function(){$(".tab-content").addClass("infographic-modal-index");$(".sticky").css("z-index","10");$(".sticky-search-mob-button").css("z-index","999");$("#scrollup").css("z-index","10")});$(".js-infographic-content").keyup(function(a){if(a.keyCode==27){$(".tab-content").removeClass("infographic-modal-index")}$(".sticky-search-mob-button").css("z-index","9999")});$(".js-infographic-close").on("click",function(){$(".tab-content").removeClass("infographic-modal-index");$(".sticky").css("z-index","99999");$(".sticky-search-mob-button").css("z-index","9999");$("#scrollup").css("z-index","4444")})});function isLocalStorageSupported(){function a(){var c="";for(var b in window.localStorage){if(window.localStorage.hasOwnProperty(b)){c+=window.localStorage[b]}}return c?true:false}return typeof(Storage)!=="undefined"&&a()}function getDashBoardUrl(){var b=$("#applicationId").val();if(b!=""){var a="/verifyOwnershipForm.html?applicationId="+b;window.location=a}}function clickElementOnEnter(b,c){var a=(b.keyCode?b.keyCode:b.which);if(a==13){document.getElementById(c).click()}}function getQueryStringFromURL(){var b=location.search.slice(1).split("&");var a={};if(b==""){return}b.forEach(function(c){c=c.split("=");a[c[0]]=decodeURIComponent(c[1]||"")});return JSON.parse(JSON.stringify(a))}var googleClientId="292169499198-0lfk82r2deoft25lth746btka7g5gslr.apps.googleusercontent.com";var googleAccountUrl="https://accounts.google.com";var showLoginPopup;function generateUrl(a){var b=$("#productNameSpace").val();if(b!=null&&b!=""){a=b+"/"+a}return a}function fetchOneTapLoginPreferences(b){if(getCookie("showOneTapCookie")!="false"&&$("#showOneTapLogin").val()!="false"){var a="one-tap-login-preference.html?pageName="+$("#pageName").val()+"&urlPathName="+window.location.pathname;a=generateUrl(a);bbajax({url:a,type:"get",success:function(c){showLoginPopup=c;b()}})}}function updateUserCancellationActionInSession(){var a=generateUrl("user-popup-cancellation.html");bbajax(a);popupCancelled=true;$("#js-one-tap-login-modal").modal("hide")}function useGoogleIdTokenForAuth(c){$("#js-one-tap-login-modal").modal("hide");var a=generateUrl("signin_social.html?ajax=true");var b={idTokenString:c,customerType:"GOOGLE",scope:"email profile https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"};$.post(a,b,function(d){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginSuccessful");fetchLoginHeader();if(isUserLoggedInTypeGoogle()){NativeLogin.onSuccessfulAuthentication("GoogleSignUp")}}).error(function(){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginFailed")})}function retrieveFailure(b){if(b.type==="noCredentialsAvailable"){BB_trackGoogleEventWithLabel("login","NoAuthorizedGoogleAccountsAvailable");BB_trackGoogleEventWithLabel("login","hintCall");const a=googleyolo.hint({supportedAuthMethods:[googleAccountUrl],supportedIdTokenProviders:[{uri:googleAccountUrl,clientId:googleClientId}]});a.then(function(c){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginSelected");BB_trackGoogleEventWithLabel("login","signedInAccountSelected");useGoogleIdTokenForAuth(c.idToken)},function(c){$("#js-one-tap-login-modal").modal("hide");if(c.type==="userCanceled"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginClosed");BB_trackGoogleEventWithLabel("login","signedInListPopupClosed");updateUserCancellationActionInSession()}else{if(c.type==="noCredentialsAvailable"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt","noCredentialsAvailable");BB_trackGoogleEventWithLabel("login","NoSignedInGoogleAccountsAvailable")}else{BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt","popupFailed");BB_trackGoogleEventWithLabel("login","unknownErrorInHintCall",c.type)}}})}else{if(b.type==="userCanceled"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginClosed");BB_trackGoogleEventWithLabel("login","authorizedListPopupClosed");updateUserCancellationActionInSession()}else{BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt","popupFailed");BB_trackGoogleEventWithLabel("login","unknownErrorInRetrieveCall",b.type);$("#js-one-tap-login-modal").modal("hide")}}}function isUserAlreadyLoggedIn(){var a=$("#logged-in-status");if(a.length&&a.val()=="true"){return true}return false}function isUserLoggedInTypeGoogle(){var a=$("#logged-in-type");if(a.length&&a.val()=="GOOGLE"){return true}return false}function fetchGoogleOneTapLoginPopup(){if(showLoginPopup=="true"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt","loginPopupShown");var b="Non-LoggedIn";if(isUserAlreadyLoggedIn()){b="LoggedIn"}BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt",b);var a="https://smartlock.google.com/client";BB_trackGoogleEventWithLabel("login","loadSmartLockClient");$.ajax({url:a,async:false,dataType:"script",context:this,success:function(){if(googleyolo==null){BB_trackGoogleEventWithLabel("login","smartLockClientNotLoaded");return}BB_trackGoogleEventWithLabel("login","smartLockClientLoaded");BB_trackGoogleEventWithLabel("login","hintsAvailableCall");const d=googleyolo.hintsAvailable({supportedAuthMethods:[googleAccountUrl],supportedIdTokenProviders:[{uri:googleAccountUrl,clientId:googleClientId}]});d.then(function(e){BB_trackGoogleEventWithLabel("login",e?"hintsAvailable":"hintsNotAvailable");if(e){$("#js-one-tap-login-modal").modal("show")}},function(){BB_trackGoogleEventWithLabel("login","hintsAvailableCallFailed")});BB_trackGoogleEventWithLabel("login","retrieveCall");const c=googleyolo.retrieve({supportedAuthMethods:[googleAccountUrl],supportedIdTokenProviders:[{uri:googleAccountUrl,clientId:googleClientId}]});c.then(function(e){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginSelected");BB_trackGoogleEventWithLabel("login","authorizedAccountSelected");useGoogleIdTokenForAuth(e.idToken)},retrieveFailure)},error:function(){BB_trackGoogleEventWithLabel("login","smartLockClientLoadingFailed")}})}}function addLogoutEvent(){$("body").on("click","#sign-out-ajax",function(){createBrowserCookieForTabPreference()})}function createBrowserCookieForTabPreference(){var a=new Date();a.setMinutes(new Date().getMinutes()+30);var b=getCookieExpireForDate(a);setCookie("showOneTapCookie","false",b,"/")}function bringPopupToPageTop(){setTimeout(function(){$("*[src*=smartlock]:visible").each(function(){$(this).css("z-index","99999")})},1000)}var popupLoaded;var popupCancelled=false;$(function(){addLogoutEvent();if($("#productNameSpace").val()==="credit-report"){return}$("#js-one-tap-login-modal").click(function(){$("#js-one-tap-login-modal").modal("hide")});if(popupLoaded===undefined){popupLoaded=true;setTimeout(function(){fetchOneTapLoginPreferences(fetchGoogleOneTapLoginPopup);bringPopupToPageTop()},2000)}});function fetchGoogleOneTapLoginPopupForCT(a){if(popupLoaded===undefined){$.ajax({url:generateUrl("one-tap-login-preference.html?pageName="+$("#pageName").val()+"&urlPathName="+window.location.pathname),async:false,success:function(b){if(b==="true"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginAttempt","loginPopupShown");var c="https://smartlock.google.com/client";$.ajax({url:c,async:false,dataType:"script",context:this,success:function(){BB_trackGoogleEventWithLabel("login","hintsAvailableCall");const d=googleyolo.hintsAvailable({supportedAuthMethods:[googleAccountUrl],supportedIdTokenProviders:[{uri:googleAccountUrl,clientId:googleClientId}]});d.then(function(f){BB_trackGoogleEventWithLabel("login",f?"hintsAvailable":"hintsNotAvailable");if(f){popupLoaded=true;$("#ct-one-tap-login-modal").modal("show");const e=googleyolo.hint({supportedAuthMethods:[googleAccountUrl],supportedIdTokenProviders:[{uri:googleAccountUrl,clientId:googleClientId}]});e.then(function(g){BB_trackGoogleEvent("login","1tapGoogleLoginSelected");useGoogleIdTokenForAuthForCT(g,a)},function(g){if(g.type==="userCanceled"){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginClosed");BB_trackGoogleEventWithLabel("login","authorizedListPopupClosed");updateUserCancellationActionInSession()}a()})}else{a()}},function(){BB_trackGoogleEventWithLabel("login","hintsAvailableCallFailed");a()})}})}else{popupCancelled=true;a()}}})}}function useGoogleIdTokenForAuthForCT(b,d){var a=generateUrl("signin_social.html?ajax=true");var c={idTokenString:b.idToken,customerType:"GOOGLE",scope:"email profile https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"};$.post(a,c,function(e){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginSuccessful");fetchLoginHeader();if(isUserLoggedInTypeGoogle()){NativeLogin.onSuccessfulAuthentication("GoogleSignUp")}d(b)}).error(function(){BB_trackGoogleEventWithLabel("login","1tapGoogleLoginFailed");$("#ct-one-tap-login-modal").modal("hide")})}var loginWebengageUser=function(a){webengage.user.login(a)};var updateRegistrationStatus=function(d,b){var a=$("#clickServiceURL").val();var c={browserId:d,status:b,path:location.pathname,queryParams:location.search,userAgent:navigator.userAgent,sessionId:$("#sessionIdTracker").val(),trckrId:getCookieValue("trckr")||"",site:$("#websiteKey").val(),productType:$("#productTypeKey").val(),productTypeVariant:$("#productTypeVariant").val(),campaign:$("#form_details_campaign").val(),experiment:$("#experimentString").val(),secondaryDimensionOfCampaign:getCookieValue("WT.sd_id")||"",channel:$("#channelKey").val(),url:window.location.href,isReturningUser:$("#returningUserKey").val(),isInternalAccess:$("#isInternalAccessKey").val(),isMonitoringAgent:$("#isMonitoringAgentKey").val(),partnerName:$("#partnerFromRequestKey").val(),device:$("#deviceTypeKey").val(),provider:"WEBENGAGE"};bbajax({type:"post",url:a+"/webPushNotification/registration",data:JSON.stringify(c),contentType:"application/json"})};var initializeWebengageCallbacks=function(){if(!webengage){return}var a=getCookieValue("ubid");loginWebengageUser(a);webengage.options("webpush.onWindowViewed",function(){webengage.user.setAttribute("window_viewed",true);updateRegistrationStatus(a,"VIEWED")});webengage.options("webpush.onWindowAllowed",function(){webengage.user.setAttribute("push_opt_in",true);webengage.user.setAttribute("window_allowed",true);webengage.user.setAttribute("window_denied",false);updateRegistrationStatus(a,"ALLOWED")});webengage.options("webpush.onWindowDenied",function(){webengage.user.setAttribute("push_opt_in",false);webengage.user.setAttribute("window_allowed",false);webengage.user.setAttribute("window_denied",true);updateRegistrationStatus(a,"DENIED")});webengage.options("webpush.onPushRegistered",function(){webengage.user.setAttribute("push_opt_in",true);webengage.user.setAttribute("window_allowed",true);webengage.user.setAttribute("window_denied",false)});webengage.options("webpush.onPushUnregistered",function(){webengage.user.setAttribute("push_opt_in",false);webengage.user.setAttribute("window_allowed",false);webengage.user.setAttribute("window_denied",true)})};